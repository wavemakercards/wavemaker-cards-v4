const H=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,U=Object.keys,Q=Array.isArray;function x(r,e){return typeof e!="object"||U(e).forEach(function(t){r[t]=e[t]}),r}typeof Promise>"u"||H.Promise||(H.Promise=Promise);const We=Object.getPrototypeOf,mu={}.hasOwnProperty;function te(r,e){return mu.call(r,e)}function Ke(r,e){typeof e=="function"&&(e=e(We(r))),(typeof Reflect>"u"?U:Reflect.ownKeys)(e).forEach(t=>{he(r,t,e[t])})}const Dn=Object.defineProperty;function he(r,e,t,n){Dn(r,e,x(t&&te(t,"get")&&typeof t.get=="function"?{get:t.get,set:t.set,configurable:!0}:{value:t,configurable:!0,writable:!0},n))}function Te(r){return{from:function(e){return r.prototype=Object.create(e.prototype),he(r.prototype,"constructor",r),{extend:Ke.bind(null,r.prototype)}}}}const _u=Object.getOwnPropertyDescriptor;function cn(r,e){let t;return _u(r,e)||(t=We(r))&&cn(t,e)}const gu=[].slice;function br(r,e,t){return gu.call(r,e,t)}function Ln(r,e){return e(r)}function Fe(r){if(!r)throw new Error("Assertion Failed")}function Nn(r){H.setImmediate?setImmediate(r):setTimeout(r,0)}function Fn(r,e){return r.reduce((t,n,s)=>{var o=e(n,s);return o&&(t[o[0]]=o[1]),t},{})}function pe(r,e){if(typeof e=="string"&&te(r,e))return r[e];if(!e)return r;if(typeof e!="string"){for(var t=[],n=0,s=e.length;n<s;++n){var o=pe(r,e[n]);t.push(o)}return t}var c=e.indexOf(".");if(c!==-1){var _=r[e.substr(0,c)];return _==null?void 0:pe(_,e.substr(c+1))}}function ae(r,e,t){if(r&&e!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(r)))if(typeof e!="string"&&"length"in e){Fe(typeof t!="string"&&"length"in t);for(var n=0,s=e.length;n<s;++n)ae(r,e[n],t[n])}else{var o=e.indexOf(".");if(o!==-1){var c=e.substr(0,o),_=e.substr(o+1);if(_==="")t===void 0?Q(r)&&!isNaN(parseInt(c))?r.splice(c,1):delete r[c]:r[c]=t;else{var m=r[c];m&&te(r,c)||(m=r[c]={}),ae(m,_,t)}}else t===void 0?Q(r)&&!isNaN(parseInt(e))?r.splice(e,1):delete r[e]:r[e]=t}}function $n(r){var e={};for(var t in r)te(r,t)&&(e[t]=r[t]);return e}const bu=[].concat;function Hn(r){return bu.apply([],r)}const qn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Hn([8,16,32,64].map(r=>["Int","Uint","Float"].map(e=>e+r+"Array")))).filter(r=>H[r]),yu=qn.map(r=>H[r]);Fn(qn,r=>[r,!0]);let ge=null;function er(r){ge=typeof WeakMap<"u"&&new WeakMap;const e=Lr(r);return ge=null,e}function Lr(r){if(!r||typeof r!="object")return r;let e=ge&&ge.get(r);if(e)return e;if(Q(r)){e=[],ge&&ge.set(r,e);for(var t=0,n=r.length;t<n;++t)e.push(Lr(r[t]))}else if(yu.indexOf(r.constructor)>=0)e=r;else{const o=We(r);for(var s in e=o===Object.prototype?{}:Object.create(o),ge&&ge.set(r,e),r)te(r,s)&&(e[s]=Lr(r[s]))}return e}const{toString:wu}={};function Nr(r){return wu.call(r).slice(8,-1)}const Fr=typeof Symbol<"u"?Symbol.iterator:"@@iterator",vu=typeof Fr=="symbol"?function(r){var e;return r!=null&&(e=r[Fr])&&e.apply(r)}:function(){return null},Be={};function le(r){var e,t,n,s;if(arguments.length===1){if(Q(r))return r.slice();if(this===Be&&typeof r=="string")return[r];if(s=vu(r)){for(t=[];!(n=s.next()).done;)t.push(n.value);return t}if(r==null)return[r];if(typeof(e=r.length)=="number"){for(t=new Array(e);e--;)t[e]=r[e];return t}return[r]}for(e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return t}const ln=typeof Symbol<"u"?r=>r[Symbol.toStringTag]==="AsyncFunction":()=>!1;var ie=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Un(r,e){ie=r,Vn=e}var Vn=()=>!0;const ku=!new Error("").stack;function Ae(){if(ku)try{throw Ae.arguments,new Error}catch(r){return r}return new Error}function $r(r,e){var t=r.stack;return t?(e=e||0,t.indexOf(r.name)===0&&(e+=(r.name+r.message).split(`
`).length),t.split(`
`).slice(e).filter(Vn).map(n=>`
`+n).join("")):""}var Gn=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],fn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Gn),Pu={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Oe(r,e){this._e=Ae(),this.name=r,this.message=e}function Wn(r,e){return r+". Errors: "+Object.keys(e).map(t=>e[t].toString()).filter((t,n,s)=>s.indexOf(t)===n).join(`
`)}function yr(r,e,t,n){this._e=Ae(),this.failures=e,this.failedKeys=n,this.successCount=t,this.message=Wn(r,e)}function He(r,e){this._e=Ae(),this.name="BulkError",this.failures=Object.keys(e).map(t=>e[t]),this.failuresByPos=e,this.message=Wn(r,e)}Te(Oe).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+$r(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Te(yr).from(Oe),Te(He).from(Oe);var hn=fn.reduce((r,e)=>(r[e]=e+"Error",r),{});const ju=Oe;var N=fn.reduce((r,e)=>{var t=e+"Error";function n(s,o){this._e=Ae(),this.name=t,s?typeof s=="string"?(this.message=`${s}${o?`
 `+o:""}`,this.inner=o||null):typeof s=="object"&&(this.message=`${s.name} ${s.message}`,this.inner=s):(this.message=Pu[e]||t,this.inner=null)}return Te(n).from(ju),r[e]=n,r},{});N.Syntax=SyntaxError,N.Type=TypeError,N.Range=RangeError;var jn=Gn.reduce((r,e)=>(r[e+"Error"]=N[e],r),{}),lr=fn.reduce((r,e)=>(["Syntax","Type","Range"].indexOf(e)===-1&&(r[e+"Error"]=N[e]),r),{});function $(){}function Ye(r){return r}function Eu(r,e){return r==null||r===Ye?e:function(t){return e(r(t))}}function Ce(r,e){return function(){r.apply(this,arguments),e.apply(this,arguments)}}function Cu(r,e){return r===$?e:function(){var t=r.apply(this,arguments);t!==void 0&&(arguments[0]=t);var n=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var o=e.apply(this,arguments);return n&&(this.onsuccess=this.onsuccess?Ce(n,this.onsuccess):n),s&&(this.onerror=this.onerror?Ce(s,this.onerror):s),o!==void 0?o:t}}function Su(r,e){return r===$?e:function(){r.apply(this,arguments);var t=this.onsuccess,n=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),t&&(this.onsuccess=this.onsuccess?Ce(t,this.onsuccess):t),n&&(this.onerror=this.onerror?Ce(n,this.onerror):n)}}function Au(r,e){return r===$?e:function(t){var n=r.apply(this,arguments);x(t,n);var s=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var c=e.apply(this,arguments);return s&&(this.onsuccess=this.onsuccess?Ce(s,this.onsuccess):s),o&&(this.onerror=this.onerror?Ce(o,this.onerror):o),n===void 0?c===void 0?void 0:c:x(n,c)}}function Mu(r,e){return r===$?e:function(){return e.apply(this,arguments)!==!1&&r.apply(this,arguments)}}function pn(r,e){return r===$?e:function(){var t=r.apply(this,arguments);if(t&&typeof t.then=="function"){for(var n=this,s=arguments.length,o=new Array(s);s--;)o[s]=arguments[s];return t.then(function(){return e.apply(n,o)})}return e.apply(this,arguments)}}lr.ModifyError=yr,lr.DexieError=Oe,lr.BulkError=He;var Ze={};const Yn=100,[Hr,wr,qr]=typeof Promise>"u"?[]:(()=>{let r=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[r,We(r),r];const e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,We(e),r]})(),Zn=wr&&wr.then,fr=Hr&&Hr.constructor,mn=!!qr;var Ur=!1,zu=qr?()=>{qr.then(ur)}:H.setImmediate?setImmediate.bind(null,ur):H.MutationObserver?()=>{var r=document.createElement("div");new MutationObserver(()=>{ur(),r=null}).observe(r,{attributes:!0}),r.setAttribute("i","1")}:()=>{setTimeout(ur,0)},qe=function(r,e){$e.push([r,e]),vr&&(zu(),vr=!1)},Vr=!0,vr=!0,je=[],hr=[],Gr=null,Wr=Ye,Re={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Sn,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(r=>{try{Sn(r[0],r[1])}catch{}})}},L=Re,$e=[],Ee=0,pr=[];function I(r){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=$,this._lib=!1;var e=this._PSD=L;if(ie&&(this._stackHolder=Ae(),this._prev=null,this._numPrev=0),typeof r!="function"){if(r!==Ze)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Zr(this,this._value))}this._state=null,this._value=null,++e.ref,Xn(this,r)}const Yr={get:function(){var r=L,e=kr;function t(n,s){var o=!r.global&&(r!==L||e!==kr);const c=o&&!me();var _=new I((m,w)=>{_n(this,new Qn(Pr(n,r,o,c),Pr(s,r,o,c),m,w,r))});return ie&&eu(_,this),_}return t.prototype=Ze,t},set:function(r){he(this,"then",r&&r.prototype===Ze?Yr:{get:function(){return r},set:Yr.set})}};function Qn(r,e,t,n,s){this.onFulfilled=typeof r=="function"?r:null,this.onRejected=typeof e=="function"?e:null,this.resolve=t,this.reject=n,this.psd=s}function Xn(r,e){try{e(t=>{if(r._state===null){if(t===r)throw new TypeError("A promise cannot be resolved with itself.");var n=r._lib&&rr();t&&typeof t.then=="function"?Xn(r,(s,o)=>{t instanceof I?t._then(s,o):t.then(s,o)}):(r._state=!0,r._value=t,Jn(r)),n&&nr()}},Zr.bind(null,r))}catch(t){Zr(r,t)}}function Zr(r,e){if(hr.push(e),r._state===null){var t=r._lib&&rr();e=Wr(e),r._state=!1,r._value=e,ie&&e!==null&&typeof e=="object"&&!e._promise&&function(n,s,o){try{n.apply(null,o)}catch{}}(()=>{var n=cn(e,"stack");e._promise=r,he(e,"stack",{get:()=>Ur?n&&(n.get?n.get.apply(e):n.value):r.stack})}),function(n){je.some(s=>s._value===n._value)||je.push(n)}(r),Jn(r),t&&nr()}}function Jn(r){var e=r._listeners;r._listeners=[];for(var t=0,n=e.length;t<n;++t)_n(r,e[t]);var s=r._PSD;--s.ref||s.finalize(),Ee===0&&(++Ee,qe(()=>{--Ee==0&&gn()},[]))}function _n(r,e){if(r._state!==null){var t=r._state?e.onFulfilled:e.onRejected;if(t===null)return(r._state?e.resolve:e.reject)(r._value);++e.psd.ref,++Ee,qe(Bu,[t,r,e])}else r._listeners.push(e)}function Bu(r,e,t){try{Gr=e;var n,s=e._value;e._state?n=r(s):(hr.length&&(hr=[]),n=r(s),hr.indexOf(s)===-1&&function(o){for(var c=je.length;c;)if(je[--c]._value===o._value)return void je.splice(c,1)}(e)),t.resolve(n)}catch(o){t.reject(o)}finally{Gr=null,--Ee==0&&gn(),--t.psd.ref||t.psd.finalize()}}function xn(r,e,t){if(e.length===t)return e;var n="";if(r._state===!1){var s,o,c=r._value;c!=null?(s=c.name||"Error",o=c.message||c,n=$r(c,0)):(s=c,o=""),e.push(s+(o?": "+o:"")+n)}return ie&&((n=$r(r._stackHolder,2))&&e.indexOf(n)===-1&&e.push(n),r._prev&&xn(r._prev,e,t)),e}function eu(r,e){var t=e?e._numPrev+1:0;t<100&&(r._prev=e,r._numPrev=t)}function ur(){rr()&&nr()}function rr(){var r=Vr;return Vr=!1,vr=!1,r}function nr(){var r,e,t;do for(;$e.length>0;)for(r=$e,$e=[],t=r.length,e=0;e<t;++e){var n=r[e];n[0].apply(null,n[1])}while($e.length>0);Vr=!0,vr=!0}function gn(){var r=je;je=[],r.forEach(n=>{n._PSD.onunhandled.call(null,n._value,n)});for(var e=pr.slice(0),t=e.length;t;)e[--t]()}function tr(r){return new I(Ze,!1,r)}function q(r,e){var t=L;return function(){var n=rr(),s=L;try{return we(t,!0),r.apply(this,arguments)}catch(o){e&&e(o)}finally{we(s,!1),n&&nr()}}}Ke(I.prototype,{then:Yr,_then:function(r,e){_n(this,new Qn(null,null,r,e,L))},catch:function(r){if(arguments.length===1)return this.then(null,r);var e=arguments[0],t=arguments[1];return typeof e=="function"?this.then(null,n=>n instanceof e?t(n):tr(n)):this.then(null,n=>n&&n.name===e?t(n):tr(n))},finally:function(r){return this.then(e=>(r(),e),e=>(r(),tr(e)))},stack:{get:function(){if(this._stack)return this._stack;try{Ur=!0;var r=xn(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=r),r}finally{Ur=!1}}},timeout:function(r,e){return r<1/0?new I((t,n)=>{var s=setTimeout(()=>n(new N.Timeout(e)),r);this.then(t,n).finally(clearTimeout.bind(null,s))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&he(I.prototype,Symbol.toStringTag,"Dexie.Promise"),Re.env=ru(),Ke(I,{all:function(){var r=le.apply(null,arguments).map(dr);return new I(function(e,t){r.length===0&&e([]);var n=r.length;r.forEach((s,o)=>I.resolve(s).then(c=>{r[o]=c,--n||e(r)},t))})},resolve:r=>{if(r instanceof I)return r;if(r&&typeof r.then=="function")return new I((t,n)=>{r.then(t,n)});var e=new I(Ze,!0,r);return eu(e,Gr),e},reject:tr,race:function(){var r=le.apply(null,arguments).map(dr);return new I((e,t)=>{r.map(n=>I.resolve(n).then(e,t))})},PSD:{get:()=>L,set:r=>L=r},totalEchoes:{get:()=>kr},newPSD:ye,usePSD:Le,scheduler:{get:()=>qe,set:r=>{qe=r}},rejectionMapper:{get:()=>Wr,set:r=>{Wr=r}},follow:(r,e)=>new I((t,n)=>ye((s,o)=>{var c=L;c.unhandleds=[],c.onunhandled=o,c.finalize=Ce(function(){(function(_){function m(){_(),pr.splice(pr.indexOf(m),1)}pr.push(m),++Ee,qe(()=>{--Ee==0&&gn()},[])})(()=>{this.unhandleds.length===0?s():o(this.unhandleds[0])})},c.finalize),r()},e,t,n))}),fr&&(fr.allSettled&&he(I,"allSettled",function(){const r=le.apply(null,arguments).map(dr);return new I(e=>{r.length===0&&e([]);let t=r.length;const n=new Array(t);r.forEach((s,o)=>I.resolve(s).then(c=>n[o]={status:"fulfilled",value:c},c=>n[o]={status:"rejected",reason:c}).then(()=>--t||e(n)))})}),fr.any&&typeof AggregateError<"u"&&he(I,"any",function(){const r=le.apply(null,arguments).map(dr);return new I((e,t)=>{r.length===0&&t(new AggregateError([]));let n=r.length;const s=new Array(n);r.forEach((o,c)=>I.resolve(o).then(_=>e(_),_=>{s[c]=_,--n||t(new AggregateError(s))}))})}));const Z={awaits:0,echoes:0,id:0};var Tu=0,mr=[],Br=0,kr=0,Ou=0;function ye(r,e,t,n){var s=L,o=Object.create(s);o.parent=s,o.ref=0,o.global=!1,o.id=++Ou;var c=Re.env;o.env=mn?{Promise:I,PromiseProp:{value:I,configurable:!0,writable:!0},all:I.all,race:I.race,allSettled:I.allSettled,any:I.any,resolve:I.resolve,reject:I.reject,nthen:En(c.nthen,o),gthen:En(c.gthen,o)}:{},e&&x(o,e),++s.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var _=Le(o,r,t,n);return o.ref===0&&o.finalize(),_}function De(){return Z.id||(Z.id=++Tu),++Z.awaits,Z.echoes+=Yn,Z.id}function me(){return!!Z.awaits&&(--Z.awaits==0&&(Z.id=0),Z.echoes=Z.awaits*Yn,!0)}function dr(r){return Z.echoes&&r&&r.constructor===fr?(De(),r.then(e=>(me(),e),e=>(me(),V(e)))):r}function Ru(r){++kr,Z.echoes&&--Z.echoes!=0||(Z.echoes=Z.id=0),mr.push(L),we(r,!0)}function Iu(){var r=mr[mr.length-1];mr.pop(),we(r,!1)}function we(r,e){var t=L;if((e?!Z.echoes||Br++&&r===L:!Br||--Br&&r===L)||nu(e?Ru.bind(null,r):Iu),r!==L&&(L=r,t===Re&&(Re.env=ru()),mn)){var n=Re.env.Promise,s=r.env;wr.then=s.nthen,n.prototype.then=s.gthen,(t.global||r.global)&&(Object.defineProperty(H,"Promise",s.PromiseProp),n.all=s.all,n.race=s.race,n.resolve=s.resolve,n.reject=s.reject,s.allSettled&&(n.allSettled=s.allSettled),s.any&&(n.any=s.any))}}function ru(){var r=H.Promise;return mn?{Promise:r,PromiseProp:Object.getOwnPropertyDescriptor(H,"Promise"),all:r.all,race:r.race,allSettled:r.allSettled,any:r.any,resolve:r.resolve,reject:r.reject,nthen:wr.then,gthen:r.prototype.then}:{}}function Le(r,e,t,n,s){var o=L;try{return we(r,!0),e(t,n,s)}finally{we(o,!1)}}function nu(r){Zn.call(Hr,r)}function Pr(r,e,t,n){return typeof r!="function"?r:function(){var s=L;t&&De(),we(e,!0);try{return r.apply(this,arguments)}finally{we(s,!1),n&&nu(me)}}}function En(r,e){return function(t,n){return r.call(this,Pr(t,e),Pr(n,e))}}(""+Zn).indexOf("[native code]")===-1&&(De=me=$);const Cn="unhandledrejection";function Sn(r,e){var t;try{t=e.onuncatched(r)}catch{}if(t!==!1)try{var n,s={promise:e,reason:r};if(H.document&&document.createEvent?((n=document.createEvent("Event")).initEvent(Cn,!0,!0),x(n,s)):H.CustomEvent&&x(n=new CustomEvent(Cn,{detail:s}),s),n&&H.dispatchEvent&&(dispatchEvent(n),!H.PromiseRejectionEvent&&H.onunhandledrejection))try{H.onunhandledrejection(n)}catch{}ie&&n&&!n.defaultPrevented&&console.warn(`Unhandled rejection: ${r.stack||r}`)}catch{}}var V=I.reject;function Qr(r,e,t,n){if(r.idbdb&&(r._state.openComplete||L.letThrough||r._vip)){var s=r._createTransaction(e,t,r._dbSchema);try{s.create(),r._state.PR1398_maxLoop=3}catch(o){return o.name===hn.InvalidState&&r.isOpen()&&--r._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),r._close(),r.open().then(()=>Qr(r,e,t,n))):V(o)}return s._promise(e,(o,c)=>ye(()=>(L.trans=s,n(o,c,s)))).then(o=>s._completion.then(()=>o))}if(r._state.openComplete)return V(new N.DatabaseClosed(r._state.dbOpenError));if(!r._state.isBeingOpened){if(!r._options.autoOpen)return V(new N.DatabaseClosed);r.open().catch($)}return r._state.dbReadyPromise.then(()=>Qr(r,e,t,n))}const An="3.2.7",Pe="￿",Xr=-1/0,oe="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",uu="String expected.",Ue=[],Cr=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Ku=Cr,Du=Cr,tu=r=>!/(dexie\.js|dexie\.min\.js)/.test(r),Sr="__dbnames",Tr="readonly",Or="readwrite";function Se(r,e){return r?e?function(){return r.apply(this,arguments)&&e.apply(this,arguments)}:r:e}const du={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ar(r){return typeof r!="string"||/\./.test(r)?e=>e:e=>(e[r]===void 0&&r in e&&delete(e=er(e))[r],e)}class Lu{_trans(e,t,n){const s=this._tx||L.trans,o=this.name;function c(m,w,b){if(!b.schema[o])throw new N.NotFound("Table "+o+" not part of transaction");return t(b.idbtrans,b)}const _=rr();try{return s&&s.db===this.db?s===L.trans?s._promise(e,c,n):ye(()=>s._promise(e,c,n),{trans:s,transless:L.transless||L}):Qr(this.db,e,[this.name],c)}finally{_&&nr()}}get(e,t){return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",n=>this.core.get({trans:n,key:e}).then(s=>this.hook.reading.fire(s))).then(t)}where(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(Q(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const t=U(e);if(t.length===1)return this.where(t[0]).equals(e[t[0]]);const n=this.schema.indexes.concat(this.schema.primKey).filter(w=>{if(w.compound&&t.every(b=>w.keyPath.indexOf(b)>=0)){for(let b=0;b<t.length;++b)if(t.indexOf(w.keyPath[b])===-1)return!1;return!0}return!1}).sort((w,b)=>w.keyPath.length-b.keyPath.length)[0];if(n&&this.db._maxKey!==Pe){const w=n.keyPath.slice(0,t.length);return this.where(w).equals(w.map(b=>e[b]))}!n&&ie&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${t.join("+")}]`);const{idxByName:s}=this.schema,o=this.db._deps.indexedDB;function c(w,b){try{return o.cmp(w,b)===0}catch{return!1}}const[_,m]=t.reduce(([w,b],v)=>{const y=s[v],P=e[v];return[w||y,w||!y?Se(b,y&&y.multi?B=>{const C=pe(B,v);return Q(C)&&C.some(T=>c(P,T))}:B=>c(P,pe(B,v))):b]},[null,null]);return _?this.where(_.name).equals(e[_.keyPath]).filter(m):n?this.filter(m):this.where(t).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,Q(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const t=n=>{if(!n)return n;const s=Object.create(e.prototype);for(var o in n)if(te(n,o))try{s[o]=n[o]}catch{}return s};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e}defineClass(){return this.mapToClass(function(e){x(this,e)})}add(e,t){const{auto:n,keyPath:s}=this.schema.primKey;let o=e;return s&&n&&(o=ar(s)(e)),this._trans("readwrite",c=>this.core.mutate({trans:c,type:"add",keys:t!=null?[t]:null,values:[o]})).then(c=>c.numFailures?I.reject(c.failures[0]):c.lastResult).then(c=>{if(s)try{ae(e,s,c)}catch{}return c})}update(e,t){if(typeof e!="object"||Q(e))return this.where(":id").equals(e).modify(t);{const n=pe(e,this.schema.primKey.keyPath);if(n===void 0)return V(new N.InvalidArgument("Given object does not contain its primary key"));try{typeof t!="function"?U(t).forEach(s=>{ae(e,s,t[s])}):t(e,{value:e,primKey:n})}catch{}return this.where(":id").equals(n).modify(t)}}put(e,t){const{auto:n,keyPath:s}=this.schema.primKey;let o=e;return s&&n&&(o=ar(s)(e)),this._trans("readwrite",c=>this.core.mutate({trans:c,type:"put",values:[o],keys:t!=null?[t]:null})).then(c=>c.numFailures?I.reject(c.failures[0]):c.lastResult).then(c=>{if(s)try{ae(e,s,c)}catch{}return c})}delete(e){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"delete",keys:[e]})).then(t=>t.numFailures?I.reject(t.failures[0]):void 0)}clear(){return this._trans("readwrite",e=>this.core.mutate({trans:e,type:"deleteRange",range:du})).then(e=>e.numFailures?I.reject(e.failures[0]):void 0)}bulkGet(e){return this._trans("readonly",t=>this.core.getMany({keys:e,trans:t}).then(n=>n.map(s=>this.hook.reading.fire(s))))}bulkAdd(e,t,n){const s=Array.isArray(t)?t:void 0,o=(n=n||(s?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",c=>{const{auto:_,keyPath:m}=this.schema.primKey;if(m&&s)throw new N.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new N.InvalidArgument("Arguments objects and keys must have the same length");const w=e.length;let b=m&&_?e.map(ar(m)):e;return this.core.mutate({trans:c,type:"add",keys:s,values:b,wantResults:o}).then(({numFailures:v,results:y,lastResult:P,failures:B})=>{if(v===0)return o?y:P;throw new He(`${this.name}.bulkAdd(): ${v} of ${w} operations failed`,B)})})}bulkPut(e,t,n){const s=Array.isArray(t)?t:void 0,o=(n=n||(s?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",c=>{const{auto:_,keyPath:m}=this.schema.primKey;if(m&&s)throw new N.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new N.InvalidArgument("Arguments objects and keys must have the same length");const w=e.length;let b=m&&_?e.map(ar(m)):e;return this.core.mutate({trans:c,type:"put",keys:s,values:b,wantResults:o}).then(({numFailures:v,results:y,lastResult:P,failures:B})=>{if(v===0)return o?y:P;throw new He(`${this.name}.bulkPut(): ${v} of ${w} operations failed`,B)})})}bulkDelete(e){const t=e.length;return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:e})).then(({numFailures:n,lastResult:s,failures:o})=>{if(n===0)return s;throw new He(`${this.name}.bulkDelete(): ${n} of ${t} operations failed`,o)})}}function Ve(r){var e={},t=function(c,_){if(_){for(var m=arguments.length,w=new Array(m-1);--m;)w[m-1]=arguments[m];return e[c].subscribe.apply(null,w),r}if(typeof c=="string")return e[c]};t.addEventType=o;for(var n=1,s=arguments.length;n<s;++n)o(arguments[n]);return t;function o(c,_,m){if(typeof c!="object"){var w;_||(_=Mu),m||(m=$);var b={subscribers:[],fire:m,subscribe:function(v){b.subscribers.indexOf(v)===-1&&(b.subscribers.push(v),b.fire=_(b.fire,v))},unsubscribe:function(v){b.subscribers=b.subscribers.filter(function(y){return y!==v}),b.fire=b.subscribers.reduce(_,m)}};return e[c]=t[c]=b,b}U(w=c).forEach(function(v){var y=w[v];if(Q(y))o(v,w[v][0],w[v][1]);else{if(y!=="asap")throw new N.InvalidArgument("Invalid event config");var P=o(v,Ye,function(){for(var B=arguments.length,C=new Array(B);B--;)C[B]=arguments[B];P.subscribers.forEach(function(T){Nn(function(){T.apply(null,C)})})})}})}}function Ne(r,e){return Te(e).from({prototype:r}),e}function Me(r,e){return!(r.filter||r.algorithm||r.or)&&(e?r.justLimit:!r.replayFilter)}function Rr(r,e){r.filter=Se(r.filter,e)}function Ir(r,e,t){var n=r.replayFilter;r.replayFilter=n?()=>Se(n(),e()):e,r.justLimit=t&&!n}function _r(r,e){if(r.isPrimKey)return e.primaryKey;const t=e.getIndexByKeyPath(r.index);if(!t)throw new N.Schema("KeyPath "+r.index+" on object store "+e.name+" is not indexed");return t}function Mn(r,e,t){const n=_r(r,e.schema);return e.openCursor({trans:t,values:!r.keysOnly,reverse:r.dir==="prev",unique:!!r.unique,query:{index:n,range:r.range}})}function sr(r,e,t,n){const s=r.replayFilter?Se(r.filter,r.replayFilter()):r.filter;if(r.or){const o={},c=(_,m,w)=>{if(!s||s(m,w,y=>m.stop(y),y=>m.fail(y))){var b=m.primaryKey,v=""+b;v==="[object ArrayBuffer]"&&(v=""+new Uint8Array(b)),te(o,v)||(o[v]=!0,e(_,m,w))}};return Promise.all([r.or._iterate(c,t),zn(Mn(r,n,t),r.algorithm,c,!r.keysOnly&&r.valueMapper)])}return zn(Mn(r,n,t),Se(r.algorithm,s),e,!r.keysOnly&&r.valueMapper)}function zn(r,e,t,n){var s=q(n?(o,c,_)=>t(n(o),c,_):t);return r.then(o=>{if(o)return o.start(()=>{var c=()=>o.continue();e&&!e(o,_=>c=_,_=>{o.stop(_),c=$},_=>{o.fail(_),c=$})||s(o.value,o,_=>c=_),c()})})}function J(r,e){try{const t=Bn(r),n=Bn(e);if(t!==n)return t==="Array"?1:n==="Array"?-1:t==="binary"?1:n==="binary"?-1:t==="string"?1:n==="string"?-1:t==="Date"?1:n!=="Date"?NaN:-1;switch(t){case"number":case"Date":case"string":return r>e?1:r<e?-1:0;case"binary":return function(s,o){const c=s.length,_=o.length,m=c<_?c:_;for(let w=0;w<m;++w)if(s[w]!==o[w])return s[w]<o[w]?-1:1;return c===_?0:c<_?-1:1}(Tn(r),Tn(e));case"Array":return function(s,o){const c=s.length,_=o.length,m=c<_?c:_;for(let w=0;w<m;++w){const b=J(s[w],o[w]);if(b!==0)return b}return c===_?0:c<_?-1:1}(r,e)}}catch{}return NaN}function Bn(r){const e=typeof r;if(e!=="object")return e;if(ArrayBuffer.isView(r))return"binary";const t=Nr(r);return t==="ArrayBuffer"?"binary":t}function Tn(r){return r instanceof Uint8Array?r:ArrayBuffer.isView(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):new Uint8Array(r)}class Nu{_read(e,t){var n=this._ctx;return n.error?n.table._trans(null,V.bind(null,n.error)):n.table._trans("readonly",e).then(t)}_write(e){var t=this._ctx;return t.error?t.table._trans(null,V.bind(null,t.error)):t.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var t=this._ctx;t.algorithm=Se(t.algorithm,e)}_iterate(e,t){return sr(this._ctx,e,t,this._ctx.table.core)}clone(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&x(n,e),t._ctx=n,t}raw(){return this._ctx.valueMapper=null,this}each(e){var t=this._ctx;return this._read(n=>sr(t,e,n,t.table.core))}count(e){return this._read(t=>{const n=this._ctx,s=n.table.core;if(Me(n,!0))return s.count({trans:t,query:{index:_r(n,s.schema),range:n.range}}).then(c=>Math.min(c,n.limit));var o=0;return sr(n,()=>(++o,!1),t,s).then(()=>o)}).then(e)}sortBy(e,t){const n=e.split(".").reverse(),s=n[0],o=n.length-1;function c(w,b){return b?c(w[n[b]],b-1):w[s]}var _=this._ctx.dir==="next"?1:-1;function m(w,b){var v=c(w,o),y=c(b,o);return v<y?-_:v>y?_:0}return this.toArray(function(w){return w.sort(m)}).then(t)}toArray(e){return this._read(t=>{var n=this._ctx;if(n.dir==="next"&&Me(n,!0)&&n.limit>0){const{valueMapper:s}=n,o=_r(n,n.table.core.schema);return n.table.core.query({trans:t,limit:n.limit,values:!0,query:{index:o,range:n.range}}).then(({result:c})=>s?c.map(s):c)}{const s=[];return sr(n,o=>s.push(o),t,n.table.core).then(()=>s)}},e)}offset(e){var t=this._ctx;return e<=0||(t.offset+=e,Me(t)?Ir(t,()=>{var n=e;return(s,o)=>n===0||(n===1?(--n,!1):(o(()=>{s.advance(n),n=0}),!1))}):Ir(t,()=>{var n=e;return()=>--n<0})),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Ir(this._ctx,()=>{var t=e;return function(n,s,o){return--t<=0&&s(o),t>=0}},!0),this}until(e,t){return Rr(this._ctx,function(n,s,o){return!e(n.value)||(s(o),t)}),this}first(e){return this.limit(1).toArray(function(t){return t[0]}).then(e)}last(e){return this.reverse().first(e)}filter(e){var t,n;return Rr(this._ctx,function(s){return e(s.value)}),t=this._ctx,n=e,t.isMatch=Se(t.isMatch,n),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(n,s){e(s.key,s)})}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(n,s){e(s.primaryKey,s)})}keys(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each(function(s,o){n.push(o.key)}).then(function(){return n}).then(e)}primaryKeys(e){var t=this._ctx;if(t.dir==="next"&&Me(t,!0)&&t.limit>0)return this._read(s=>{var o=_r(t,t.table.core.schema);return t.table.core.query({trans:s,values:!1,limit:t.limit,query:{index:o,range:t.range}})}).then(({result:s})=>s).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each(function(s,o){n.push(o.primaryKey)}).then(function(){return n}).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys(function(t){return t[0]}).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var n={};return Rr(this._ctx,function(s){var o=s.primaryKey.toString(),c=te(n,o);return n[o]=!0,!c}),this}modify(e){var t=this._ctx;return this._write(n=>{var s;if(typeof e=="function")s=e;else{var o=U(e),c=o.length;s=function(C){for(var T=!1,j=0;j<c;++j){var k=o[j],O=e[k];pe(C,k)!==O&&(ae(C,k,O),T=!0)}return T}}const _=t.table.core,{outbound:m,extractKey:w}=_.schema.primaryKey,b=this.db._options.modifyChunkSize||200,v=[];let y=0;const P=[],B=(C,T)=>{const{failures:j,numFailures:k}=T;y+=C-k;for(let O of U(j))v.push(j[O])};return this.clone().primaryKeys().then(C=>{const T=j=>{const k=Math.min(b,C.length-j);return _.getMany({trans:n,keys:C.slice(j,j+k),cache:"immutable"}).then(O=>{const u=[],a=[],d=m?[]:null,i=[];for(let l=0;l<k;++l){const f=O[l],g={value:er(f),primKey:C[j+l]};s.call(g,g.value,g)!==!1&&(g.value==null?i.push(C[j+l]):m||J(w(f),w(g.value))===0?(a.push(g.value),m&&d.push(C[j+l])):(i.push(C[j+l]),u.push(g.value)))}const h=Me(t)&&t.limit===1/0&&(typeof e!="function"||e===Kr)&&{index:t.index,range:t.range};return Promise.resolve(u.length>0&&_.mutate({trans:n,type:"add",values:u}).then(l=>{for(let f in l.failures)i.splice(parseInt(f),1);B(u.length,l)})).then(()=>(a.length>0||h&&typeof e=="object")&&_.mutate({trans:n,type:"put",keys:d,values:a,criteria:h,changeSpec:typeof e!="function"&&e}).then(l=>B(a.length,l))).then(()=>(i.length>0||h&&e===Kr)&&_.mutate({trans:n,type:"delete",keys:i,criteria:h}).then(l=>B(i.length,l))).then(()=>C.length>j+k&&T(j+b))})};return T(0).then(()=>{if(v.length>0)throw new yr("Error modifying one or more objects",v,y,P);return C.length})})})}delete(){var e=this._ctx,t=e.range;return Me(e)&&(e.isPrimKey&&!Du||t.type===3)?this._write(n=>{const{primaryKey:s}=e.table.core.schema,o=t;return e.table.core.count({trans:n,query:{index:s,range:o}}).then(c=>e.table.core.mutate({trans:n,type:"deleteRange",range:o}).then(({failures:_,lastResult:m,results:w,numFailures:b})=>{if(b)throw new yr("Could not delete some values",Object.keys(_).map(v=>_[v]),c-b);return c-b}))}):this.modify(Kr)}}const Kr=(r,e)=>e.value=null;function Fu(r,e){return r<e?-1:r===e?0:1}function $u(r,e){return r>e?-1:r===e?0:1}function ue(r,e,t){var n=r instanceof su?new r.Collection(r):r;return n._ctx.error=t?new t(e):new TypeError(e),n}function ze(r){return new r.Collection(r,()=>au("")).limit(0)}function Hu(r,e,t,n,s,o){for(var c=Math.min(r.length,n.length),_=-1,m=0;m<c;++m){var w=e[m];if(w!==n[m])return s(r[m],t[m])<0?r.substr(0,m)+t[m]+t.substr(m+1):s(r[m],n[m])<0?r.substr(0,m)+n[m]+t.substr(m+1):_>=0?r.substr(0,_)+e[_]+t.substr(_+1):null;s(r[m],w)<0&&(_=m)}return c<n.length&&o==="next"?r+t.substr(r.length):c<r.length&&o==="prev"?r.substr(0,t.length):_<0?null:r.substr(0,_)+n[_]+t.substr(_+1)}function ir(r,e,t,n){var s,o,c,_,m,w,b,v=t.length;if(!t.every(C=>typeof C=="string"))return ue(r,uu);function y(C){s=function(j){return j==="next"?k=>k.toUpperCase():k=>k.toLowerCase()}(C),o=function(j){return j==="next"?k=>k.toLowerCase():k=>k.toUpperCase()}(C),c=C==="next"?Fu:$u;var T=t.map(function(j){return{lower:o(j),upper:s(j)}}).sort(function(j,k){return c(j.lower,k.lower)});_=T.map(function(j){return j.upper}),m=T.map(function(j){return j.lower}),w=C,b=C==="next"?"":n}y("next");var P=new r.Collection(r,()=>_e(_[0],m[v-1]+n));P._ondirectionchange=function(C){y(C)};var B=0;return P._addAlgorithm(function(C,T,j){var k=C.key;if(typeof k!="string")return!1;var O=o(k);if(e(O,m,B))return!0;for(var u=null,a=B;a<v;++a){var d=Hu(k,O,_[a],m[a],c,w);d===null&&u===null?B=a+1:(u===null||c(u,d)>0)&&(u=d)}return T(u!==null?function(){C.continue(u+b)}:j),!1}),P}function _e(r,e,t,n){return{type:2,lower:r,upper:e,lowerOpen:t,upperOpen:n}}function au(r){return{type:1,lower:r,upper:r}}class su{get Collection(){return this._ctx.table.db.Collection}between(e,t,n,s){n=n!==!1,s=s===!0;try{return this._cmp(e,t)>0||this._cmp(e,t)===0&&(n||s)&&(!n||!s)?ze(this):new this.Collection(this,()=>_e(e,t,!n,!s))}catch{return ue(this,oe)}}equals(e){return e==null?ue(this,oe):new this.Collection(this,()=>au(e))}above(e){return e==null?ue(this,oe):new this.Collection(this,()=>_e(e,void 0,!0))}aboveOrEqual(e){return e==null?ue(this,oe):new this.Collection(this,()=>_e(e,void 0,!1))}below(e){return e==null?ue(this,oe):new this.Collection(this,()=>_e(void 0,e,!1,!0))}belowOrEqual(e){return e==null?ue(this,oe):new this.Collection(this,()=>_e(void 0,e))}startsWith(e){return typeof e!="string"?ue(this,uu):this.between(e,e+Pe,!0,!0)}startsWithIgnoreCase(e){return e===""?this.startsWith(e):ir(this,(t,n)=>t.indexOf(n[0])===0,[e],Pe)}equalsIgnoreCase(e){return ir(this,(t,n)=>t===n[0],[e],"")}anyOfIgnoreCase(){var e=le.apply(Be,arguments);return e.length===0?ze(this):ir(this,(t,n)=>n.indexOf(t)!==-1,e,"")}startsWithAnyOfIgnoreCase(){var e=le.apply(Be,arguments);return e.length===0?ze(this):ir(this,(t,n)=>n.some(s=>t.indexOf(s)===0),e,Pe)}anyOf(){const e=le.apply(Be,arguments);let t=this._cmp;try{e.sort(t)}catch{return ue(this,oe)}if(e.length===0)return ze(this);const n=new this.Collection(this,()=>_e(e[0],e[e.length-1]));n._ondirectionchange=o=>{t=o==="next"?this._ascending:this._descending,e.sort(t)};let s=0;return n._addAlgorithm((o,c,_)=>{const m=o.key;for(;t(m,e[s])>0;)if(++s,s===e.length)return c(_),!1;return t(m,e[s])===0||(c(()=>{o.continue(e[s])}),!1)}),n}notEqual(e){return this.inAnyRange([[Xr,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=le.apply(Be,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return ue(this,oe)}const t=e.reduce((n,s)=>n?n.concat([[n[n.length-1][1],s]]):[[Xr,s]],null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,t){const n=this._cmp,s=this._ascending,o=this._descending,c=this._min,_=this._max;if(e.length===0)return ze(this);if(!e.every(k=>k[0]!==void 0&&k[1]!==void 0&&s(k[0],k[1])<=0))return ue(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",N.InvalidArgument);const m=!t||t.includeLowers!==!1,w=t&&t.includeUppers===!0;let b,v=s;function y(k,O){return v(k[0],O[0])}try{b=e.reduce(function(k,O){let u=0,a=k.length;for(;u<a;++u){const d=k[u];if(n(O[0],d[1])<0&&n(O[1],d[0])>0){d[0]=c(d[0],O[0]),d[1]=_(d[1],O[1]);break}}return u===a&&k.push(O),k},[]),b.sort(y)}catch{return ue(this,oe)}let P=0;const B=w?k=>s(k,b[P][1])>0:k=>s(k,b[P][1])>=0,C=m?k=>o(k,b[P][0])>0:k=>o(k,b[P][0])>=0;let T=B;const j=new this.Collection(this,()=>_e(b[0][0],b[b.length-1][1],!m,!w));return j._ondirectionchange=k=>{k==="next"?(T=B,v=s):(T=C,v=o),b.sort(y)},j._addAlgorithm((k,O,u)=>{for(var a=k.key;T(a);)if(++P,P===b.length)return O(u),!1;return!!function(d){return!B(d)&&!C(d)}(a)||(this._cmp(a,b[P][1])===0||this._cmp(a,b[P][0])===0||O(()=>{v===s?k.continue(b[P][0]):k.continue(b[P][1])}),!1)}),j}startsWithAnyOf(){const e=le.apply(Be,arguments);return e.every(t=>typeof t=="string")?e.length===0?ze(this):this.inAnyRange(e.map(t=>[t,t+Pe])):ue(this,"startsWithAnyOf() only works with strings")}}function se(r){return q(function(e){return Qe(e),r(e.target.error),!1})}function Qe(r){r.stopPropagation&&r.stopPropagation(),r.preventDefault&&r.preventDefault()}const Xe="storagemutated",be="x-storagemutated-1",ve=Ve(null,Xe);class qu{_lock(){return Fe(!L.global),++this._reculock,this._reculock!==1||L.global||(L.lockOwnerFor=this),this}_unlock(){if(Fe(!L.global),--this._reculock==0)for(L.global||(L.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{Le(e[1],e[0])}catch{}}return this}_locked(){return this._reculock&&L.lockOwnerFor!==this}create(e){if(!this.mode)return this;const t=this.db.idbdb,n=this.db._state.dbOpenError;if(Fe(!this.idbtrans),!e&&!t)switch(n&&n.name){case"DatabaseClosedError":throw new N.DatabaseClosed(n);case"MissingAPIError":throw new N.MissingAPI(n.message,n);default:throw new N.OpenFailed(n)}if(!this.active)throw new N.TransactionInactive;return Fe(this._completion._state===null),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):t.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=q(s=>{Qe(s),this._reject(e.error)}),e.onabort=q(s=>{Qe(s),this.active&&this._reject(new N.Abort(e.error)),this.active=!1,this.on("abort").fire(s)}),e.oncomplete=q(()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&ve.storagemutated.fire(e.mutatedParts)}),this}_promise(e,t,n){if(e==="readwrite"&&this.mode!=="readwrite")return V(new N.ReadOnly("Transaction is readonly"));if(!this.active)return V(new N.TransactionInactive);if(this._locked())return new I((o,c)=>{this._blockedFuncs.push([()=>{this._promise(e,t,n).then(o,c)},L])});if(n)return ye(()=>{var o=new I((c,_)=>{this._lock();const m=t(c,_,this);m&&m.then&&m.then(c,_)});return o.finally(()=>this._unlock()),o._lib=!0,o});var s=new I((o,c)=>{var _=t(o,c,this);_&&_.then&&_.then(o,c)});return s._lib=!0,s}_root(){return this.parent?this.parent._root():this}waitFor(e){var t=this._root();const n=I.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then(()=>n);else{t._waitingFor=n,t._waitingQueue=[];var s=t.idbtrans.objectStore(t.storeNames[0]);(function c(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(s.get(-1/0).onsuccess=c)})()}var o=t._waitingFor;return new I((c,_)=>{n.then(m=>t._waitingQueue.push(q(c.bind(null,m))),m=>t._waitingQueue.push(q(_.bind(null,m)))).finally(()=>{t._waitingFor===o&&(t._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new N.Abort))}table(e){const t=this._memoizedTables||(this._memoizedTables={});if(te(t,e))return t[e];const n=this.schema[e];if(!n)throw new N.NotFound("Table "+e+" not part of transaction");const s=new this.db.Table(e,n,this);return s.core=this.db.core.table(e),t[e]=s,s}}function Jr(r,e,t,n,s,o,c){return{name:r,keyPath:e,unique:t,multi:n,auto:s,compound:o,src:(t&&!c?"&":"")+(n?"*":"")+(s?"++":"")+iu(e)}}function iu(r){return typeof r=="string"?r:r?"["+[].join.call(r,"+")+"]":""}function ou(r,e,t){return{name:r,primKey:e,indexes:t,mappedClass:null,idxByName:Fn(t,n=>[n.name,n])}}let Je=r=>{try{return r.only([[]]),Je=()=>[[]],[[]]}catch{return Je=()=>Pe,Pe}};function xr(r){return r==null?()=>{}:typeof r=="string"?function(e){return e.split(".").length===1?n=>n[e]:n=>pe(n,e)}(r):e=>pe(e,r)}function On(r){return[].slice.call(r)}let Uu=0;function Ge(r){return r==null?":id":typeof r=="string"?r:`[${r.join("+")}]`}function Vu(r,e,t){function n(m){if(m.type===3)return null;if(m.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:w,upper:b,lowerOpen:v,upperOpen:y}=m;return w===void 0?b===void 0?null:e.upperBound(b,!!y):b===void 0?e.lowerBound(w,!!v):e.bound(w,b,!!v,!!y)}const{schema:s,hasGetAll:o}=function(m,w){const b=On(m.objectStoreNames);return{schema:{name:m.name,tables:b.map(v=>w.objectStore(v)).map(v=>{const{keyPath:y,autoIncrement:P}=v,B=Q(y),C=y==null,T={},j={name:v.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:C,compound:B,keyPath:y,autoIncrement:P,unique:!0,extractKey:xr(y)},indexes:On(v.indexNames).map(k=>v.index(k)).map(k=>{const{name:O,unique:u,multiEntry:a,keyPath:d}=k,i={name:O,compound:Q(d),keyPath:d,unique:u,multiEntry:a,extractKey:xr(d)};return T[Ge(d)]=i,i}),getIndexByKeyPath:k=>T[Ge(k)]};return T[":id"]=j.primaryKey,y!=null&&(T[Ge(y)]=j.primaryKey),j})},hasGetAll:b.length>0&&"getAll"in w.objectStore(b[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(r,t),c=s.tables.map(m=>function(w){const b=w.name;return{name:b,schema:w,mutate:function({trans:v,type:y,keys:P,values:B,range:C}){return new Promise((T,j)=>{T=q(T);const k=v.objectStore(b),O=k.keyPath==null,u=y==="put"||y==="add";if(!u&&y!=="delete"&&y!=="deleteRange")throw new Error("Invalid operation type: "+y);const{length:a}=P||B||{length:1};if(P&&B&&P.length!==B.length)throw new Error("Given keys array must have same length as given values array.");if(a===0)return T({numFailures:0,failures:{},results:[],lastResult:void 0});let d;const i=[],h=[];let l=0;const f=z=>{++l,Qe(z)};if(y==="deleteRange"){if(C.type===4)return T({numFailures:l,failures:h,results:[],lastResult:void 0});C.type===3?i.push(d=k.clear()):i.push(d=k.delete(n(C)))}else{const[z,A]=u?O?[B,P]:[B,null]:[P,null];if(u)for(let E=0;E<a;++E)i.push(d=A&&A[E]!==void 0?k[y](z[E],A[E]):k[y](z[E])),d.onerror=f;else for(let E=0;E<a;++E)i.push(d=k[y](z[E])),d.onerror=f}const g=z=>{const A=z.target.result;i.forEach((E,M)=>E.error!=null&&(h[M]=E.error)),T({numFailures:l,failures:h,results:y==="delete"?P:i.map(E=>E.result),lastResult:A})};d.onerror=z=>{f(z),g(z)},d.onsuccess=g})},getMany:({trans:v,keys:y})=>new Promise((P,B)=>{P=q(P);const C=v.objectStore(b),T=y.length,j=new Array(T);let k,O=0,u=0;const a=i=>{const h=i.target;j[h._pos]=h.result,++u===O&&P(j)},d=se(B);for(let i=0;i<T;++i)y[i]!=null&&(k=C.get(y[i]),k._pos=i,k.onsuccess=a,k.onerror=d,++O);O===0&&P(j)}),get:({trans:v,key:y})=>new Promise((P,B)=>{P=q(P);const C=v.objectStore(b).get(y);C.onsuccess=T=>P(T.target.result),C.onerror=se(B)}),query:function(v){return y=>new Promise((P,B)=>{P=q(P);const{trans:C,values:T,limit:j,query:k}=y,O=j===1/0?void 0:j,{index:u,range:a}=k,d=C.objectStore(b),i=u.isPrimaryKey?d:d.index(u.name),h=n(a);if(j===0)return P({result:[]});if(v){const l=T?i.getAll(h,O):i.getAllKeys(h,O);l.onsuccess=f=>P({result:f.target.result}),l.onerror=se(B)}else{let l=0;const f=T||!("openKeyCursor"in i)?i.openCursor(h):i.openKeyCursor(h),g=[];f.onsuccess=z=>{const A=f.result;return A?(g.push(T?A.value:A.primaryKey),++l===j?P({result:g}):void A.continue()):P({result:g})},f.onerror=se(B)}})}(o),openCursor:function({trans:v,values:y,query:P,reverse:B,unique:C}){return new Promise((T,j)=>{T=q(T);const{index:k,range:O}=P,u=v.objectStore(b),a=k.isPrimaryKey?u:u.index(k.name),d=B?C?"prevunique":"prev":C?"nextunique":"next",i=y||!("openKeyCursor"in a)?a.openCursor(n(O),d):a.openKeyCursor(n(O),d);i.onerror=se(j),i.onsuccess=q(h=>{const l=i.result;if(!l)return void T(null);l.___id=++Uu,l.done=!1;const f=l.continue.bind(l);let g=l.continuePrimaryKey;g&&(g=g.bind(l));const z=l.advance.bind(l),A=()=>{throw new Error("Cursor not stopped")};l.trans=v,l.stop=l.continue=l.continuePrimaryKey=l.advance=()=>{throw new Error("Cursor not started")},l.fail=q(j),l.next=function(){let E=1;return this.start(()=>E--?this.continue():this.stop()).then(()=>this)},l.start=E=>{const M=new Promise((S,R)=>{S=q(S),i.onerror=se(R),l.fail=R,l.stop=K=>{l.stop=l.continue=l.continuePrimaryKey=l.advance=A,S(K)}}),p=()=>{if(i.result)try{E()}catch(S){l.fail(S)}else l.done=!0,l.start=()=>{throw new Error("Cursor behind last entry")},l.stop()};return i.onsuccess=q(S=>{i.onsuccess=p,p()}),l.continue=f,l.continuePrimaryKey=g,l.advance=z,p(),M},T(l)},j)})},count({query:v,trans:y}){const{index:P,range:B}=v;return new Promise((C,T)=>{const j=y.objectStore(b),k=P.isPrimaryKey?j:j.index(P.name),O=n(B),u=O?k.count(O):k.count();u.onsuccess=q(a=>C(a.target.result)),u.onerror=se(T)})}}}(m)),_={};return c.forEach(m=>_[m.name]=m),{stack:"dbcore",transaction:r.transaction.bind(r),table(m){if(!_[m])throw new Error(`Table '${m}' not found`);return _[m]},MIN_KEY:-1/0,MAX_KEY:Je(e),schema:s}}function en({_novip:r},e){const t=e.db,n=function(s,o,{IDBKeyRange:c,indexedDB:_},m){return{dbcore:function(b,v){return v.reduce((y,{create:P})=>({...y,...P(y)}),b)}(Vu(o,c,m),s.dbcore)}}(r._middlewares,t,r._deps,e);r.core=n.dbcore,r.tables.forEach(s=>{const o=s.name;r.core.schema.tables.some(c=>c.name===o)&&(s.core=r.core.table(o),r[o]instanceof r.Table&&(r[o].core=s.core))})}function jr({_novip:r},e,t,n){t.forEach(s=>{const o=n[s];e.forEach(c=>{const _=cn(c,s);(!_||"value"in _&&_.value===void 0)&&(c===r.Transaction.prototype||c instanceof r.Transaction?he(c,s,{get(){return this.table(s)},set(m){Dn(this,s,{value:m,writable:!0,configurable:!0,enumerable:!0})}}):c[s]=new r.Table(s,o))})})}function rn({_novip:r},e){e.forEach(t=>{for(let n in t)t[n]instanceof r.Table&&delete t[n]})}function Gu(r,e){return r._cfg.version-e._cfg.version}function Wu(r,e,t,n){const s=r._dbSchema,o=r._createTransaction("readwrite",r._storeNames,s);o.create(t),o._completion.catch(n);const c=o._reject.bind(o),_=L.transless||L;ye(()=>{L.trans=o,L.transless=_,e===0?(U(s).forEach(m=>{Dr(t,m,s[m].primKey,s[m].indexes)}),en(r,t),I.follow(()=>r.on.populate.fire(o)).catch(c)):function({_novip:m},w,b,v){const y=[],P=m._versions;let B=m._dbSchema=un(m,m.idbdb,v),C=!1;const T=P.filter(k=>k._cfg.version>=w);function j(){return y.length?I.resolve(y.shift()(b.idbtrans)).then(j):I.resolve()}return T.forEach(k=>{y.push(()=>{const O=B,u=k._cfg.dbschema;tn(m,O,v),tn(m,u,v),B=m._dbSchema=u;const a=cu(O,u);a.add.forEach(i=>{Dr(v,i[0],i[1].primKey,i[1].indexes)}),a.change.forEach(i=>{if(i.recreate)throw new N.Upgrade("Not yet support for changing primary key");{const h=v.objectStore(i.name);i.add.forEach(l=>nn(h,l)),i.change.forEach(l=>{h.deleteIndex(l.name),nn(h,l)}),i.del.forEach(l=>h.deleteIndex(l))}});const d=k._cfg.contentUpgrade;if(d&&k._cfg.version>w){en(m,v),b._memoizedTables={},C=!0;let i=$n(u);a.del.forEach(g=>{i[g]=O[g]}),rn(m,[m.Transaction.prototype]),jr(m,[m.Transaction.prototype],U(i),i),b.schema=i;const h=ln(d);let l;h&&De();const f=I.follow(()=>{if(l=d(b),l&&h){var g=me.bind(null,null);l.then(g,g)}});return l&&typeof l.then=="function"?I.resolve(l):f.then(()=>l)}}),y.push(O=>{(!C||!Ku)&&function(u,a){[].slice.call(a.db.objectStoreNames).forEach(d=>u[d]==null&&a.db.deleteObjectStore(d))}(k._cfg.dbschema,O),rn(m,[m.Transaction.prototype]),jr(m,[m.Transaction.prototype],m._storeNames,m._dbSchema),b.schema=m._dbSchema})}),j().then(()=>{var k,O;O=v,U(k=B).forEach(u=>{O.db.objectStoreNames.contains(u)||Dr(O,u,k[u].primKey,k[u].indexes)})})}(r,e,o,t).catch(c)})}function cu(r,e){const t={del:[],add:[],change:[]};let n;for(n in r)e[n]||t.del.push(n);for(n in e){const s=r[n],o=e[n];if(s){const c={name:n,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(s.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||s.primKey.auto!==o.primKey.auto&&!Cr)c.recreate=!0,t.change.push(c);else{const _=s.idxByName,m=o.idxByName;let w;for(w in _)m[w]||c.del.push(w);for(w in m){const b=_[w],v=m[w];b?b.src!==v.src&&c.change.push(v):c.add.push(v)}(c.del.length>0||c.add.length>0||c.change.length>0)&&t.change.push(c)}}else t.add.push([n,o])}return t}function Dr(r,e,t,n){const s=r.db.createObjectStore(e,t.keyPath?{keyPath:t.keyPath,autoIncrement:t.auto}:{autoIncrement:t.auto});return n.forEach(o=>nn(s,o)),s}function nn(r,e){r.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function un(r,e,t){const n={};return br(e.objectStoreNames,0).forEach(s=>{const o=t.objectStore(s);let c=o.keyPath;const _=Jr(iu(c),c||"",!1,!1,!!o.autoIncrement,c&&typeof c!="string",!0),m=[];for(let b=0;b<o.indexNames.length;++b){const v=o.index(o.indexNames[b]);c=v.keyPath;var w=Jr(v.name,c,!!v.unique,!!v.multiEntry,!1,c&&typeof c!="string",!1);m.push(w)}n[s]=ou(s,_,m)}),n}function tn({_novip:r},e,t){const n=t.db.objectStoreNames;for(let s=0;s<n.length;++s){const o=n[s],c=t.objectStore(o);r._hasGetAll="getAll"in c;for(let _=0;_<c.indexNames.length;++_){const m=c.indexNames[_],w=c.index(m).keyPath,b=typeof w=="string"?w:"["+br(w).join("+")+"]";if(e[o]){const v=e[o].idxByName[b];v&&(v.name=m,delete e[o].idxByName[b],e[o].idxByName[m]=v)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&H.WorkerGlobalScope&&H instanceof H.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)}class Yu{_parseStoresSpec(e,t){U(e).forEach(n=>{if(e[n]!==null){var s=e[n].split(",").map((c,_)=>{const m=(c=c.trim()).replace(/([&*]|\+\+)/g,""),w=/^\[/.test(m)?m.match(/^\[(.*)\]$/)[1].split("+"):m;return Jr(m,w||null,/\&/.test(c),/\*/.test(c),/\+\+/.test(c),Q(w),_===0)}),o=s.shift();if(o.multi)throw new N.Schema("Primary key cannot be multi-valued");s.forEach(c=>{if(c.auto)throw new N.Schema("Only primary key can be marked as autoIncrement (++)");if(!c.keyPath)throw new N.Schema("Index must have a name and cannot be an empty string")}),t[n]=ou(n,o,s)}})}stores(e){const t=this.db;this._cfg.storesSource=this._cfg.storesSource?x(this._cfg.storesSource,e):e;const n=t._versions,s={};let o={};return n.forEach(c=>{x(s,c._cfg.storesSource),o=c._cfg.dbschema={},c._parseStoresSpec(s,o)}),t._dbSchema=o,rn(t,[t._allTables,t,t.Transaction.prototype]),jr(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],U(o),o),t._storeNames=U(o),this}upgrade(e){return this._cfg.contentUpgrade=pn(this._cfg.contentUpgrade||$,e),this}}function bn(r,e){let t=r._dbNamesDB;return t||(t=r._dbNamesDB=new Ie(Sr,{addons:[],indexedDB:r,IDBKeyRange:e}),t.version(1).stores({dbnames:"name"})),t.table("dbnames")}function yn(r){return r&&typeof r.databases=="function"}function dn(r){return ye(function(){return L.letThrough=!0,r()})}function Zu(){var r;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(e){var t=function(){return indexedDB.databases().finally(e)};r=setInterval(t,100),t()}).finally(function(){return clearInterval(r)}):Promise.resolve()}function Qu(r){const e=r._state,{indexedDB:t}=r._deps;if(e.isBeingOpened||r.idbdb)return e.dbReadyPromise.then(()=>e.dbOpenError?V(e.dbOpenError):r);ie&&(e.openCanceller._stackHolder=Ae()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;const n=e.openCanceller;function s(){if(e.openCanceller!==n)throw new N.DatabaseClosed("db.open() was cancelled")}let o=e.dbReadyResolve,c=null,_=!1;const m=()=>new I((w,b)=>{if(s(),!t)throw new N.MissingAPI;const v=r.name,y=e.autoSchema?t.open(v):t.open(v,Math.round(10*r.verno));if(!y)throw new N.MissingAPI;y.onerror=se(b),y.onblocked=q(r._fireOnBlocked),y.onupgradeneeded=q(P=>{if(c=y.transaction,e.autoSchema&&!r._options.allowEmptyDB){y.onerror=Qe,c.abort(),y.result.close();const C=t.deleteDatabase(v);C.onsuccess=C.onerror=q(()=>{b(new N.NoSuchDatabase(`Database ${v} doesnt exist`))})}else{c.onerror=se(b);var B=P.oldVersion>Math.pow(2,62)?0:P.oldVersion;_=B<1,r._novip.idbdb=y.result,Wu(r,B/10,c,b)}},b),y.onsuccess=q(()=>{c=null;const P=r._novip.idbdb=y.result,B=br(P.objectStoreNames);if(B.length>0)try{const T=P.transaction((C=B).length===1?C[0]:C,"readonly");e.autoSchema?function({_novip:j},k,O){j.verno=k.version/10;const u=j._dbSchema=un(0,k,O);j._storeNames=br(k.objectStoreNames,0),jr(j,[j._allTables],U(u),u)}(r,P,T):(tn(r,r._dbSchema,T),function(j,k){const O=cu(un(0,j.idbdb,k),j._dbSchema);return!(O.add.length||O.change.some(u=>u.add.length||u.change.length))}(r,T)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),en(r,T)}catch{}var C;Ue.push(r),P.onversionchange=q(T=>{e.vcFired=!0,r.on("versionchange").fire(T)}),P.onclose=q(T=>{r.on("close").fire(T)}),_&&function({indexedDB:T,IDBKeyRange:j},k){!yn(T)&&k!==Sr&&bn(T,j).put({name:k}).catch($)}(r._deps,v),w()},b)}).catch(w=>w&&w.name==="UnknownError"&&e.PR1398_maxLoop>0?(e.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),m()):I.reject(w));return I.race([n,(typeof navigator>"u"?I.resolve():Zu()).then(m)]).then(()=>(s(),e.onReadyBeingFired=[],I.resolve(dn(()=>r.on.ready.fire(r.vip))).then(function w(){if(e.onReadyBeingFired.length>0){let b=e.onReadyBeingFired.reduce(pn,$);return e.onReadyBeingFired=[],I.resolve(dn(()=>b(r.vip))).then(w)}}))).finally(()=>{e.onReadyBeingFired=null,e.isBeingOpened=!1}).then(()=>r).catch(w=>{e.dbOpenError=w;try{c&&c.abort()}catch{}return n===e.openCanceller&&r._close(),V(w)}).finally(()=>{e.openComplete=!0,o()})}function an(r){var e=o=>r.next(o),t=s(e),n=s(o=>r.throw(o));function s(o){return c=>{var _=o(c),m=_.value;return _.done?m:m&&typeof m.then=="function"?m.then(t,n):Q(m)?Promise.all(m).then(t,n):t(m)}}return s(e)()}function Xu(r,e,t){var n=arguments.length;if(n<2)throw new N.InvalidArgument("Too few arguments");for(var s=new Array(n-1);--n;)s[n-1]=arguments[n];return t=s.pop(),[r,Hn(s),t]}function lu(r,e,t,n,s){return I.resolve().then(()=>{const o=L.transless||L,c=r._createTransaction(e,t,r._dbSchema,n),_={trans:c,transless:o};if(n)c.idbtrans=n.idbtrans;else try{c.create(),r._state.PR1398_maxLoop=3}catch(v){return v.name===hn.InvalidState&&r.isOpen()&&--r._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),r._close(),r.open().then(()=>lu(r,e,t,null,s))):V(v)}const m=ln(s);let w;m&&De();const b=I.follow(()=>{if(w=s.call(c,c),w)if(m){var v=me.bind(null,null);w.then(v,v)}else typeof w.next=="function"&&typeof w.throw=="function"&&(w=an(w))},_);return(w&&typeof w.then=="function"?I.resolve(w).then(v=>c.active?v:V(new N.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):b.then(()=>w)).then(v=>(n&&c._resolve(),c._completion.then(()=>v))).catch(v=>(c._reject(v),V(v)))})}function or(r,e,t){const n=Q(r)?r.slice():[r];for(let s=0;s<t;++s)n.push(e);return n}const Ju={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(r){return{...r,table(e){const t=r.table(e),{schema:n}=t,s={},o=[];function c(b,v,y){const P=Ge(b),B=s[P]=s[P]||[],C=b==null?0:typeof b=="string"?1:b.length,T=v>0,j={...y,isVirtual:T,keyTail:v,keyLength:C,extractKey:xr(b),unique:!T&&y.unique};return B.push(j),j.isPrimaryKey||o.push(j),C>1&&c(C===2?b[0]:b.slice(0,C-1),v+1,y),B.sort((k,O)=>k.keyTail-O.keyTail),j}const _=c(n.primaryKey.keyPath,0,n.primaryKey);s[":id"]=[_];for(const b of n.indexes)c(b.keyPath,0,b);function m(b){const v=b.query.index;return v.isVirtual?{...b,query:{index:v,range:(y=b.query.range,P=v.keyTail,{type:y.type===1?2:y.type,lower:or(y.lower,y.lowerOpen?r.MAX_KEY:r.MIN_KEY,P),lowerOpen:!0,upper:or(y.upper,y.upperOpen?r.MIN_KEY:r.MAX_KEY,P),upperOpen:!0})}}:b;var y,P}return{...t,schema:{...n,primaryKey:_,indexes:o,getIndexByKeyPath:function(b){const v=s[Ge(b)];return v&&v[0]}},count:b=>t.count(m(b)),query:b=>t.query(m(b)),openCursor(b){const{keyTail:v,isVirtual:y,keyLength:P}=b.query.index;return y?t.openCursor(m(b)).then(B=>B&&function(C){return Object.create(C,{continue:{value:function(j){j!=null?C.continue(or(j,b.reverse?r.MAX_KEY:r.MIN_KEY,v)):b.unique?C.continue(C.key.slice(0,P).concat(b.reverse?r.MIN_KEY:r.MAX_KEY,v)):C.continue()}},continuePrimaryKey:{value(j,k){C.continuePrimaryKey(or(j,r.MAX_KEY,v),k)}},primaryKey:{get:()=>C.primaryKey},key:{get(){const j=C.key;return P===1?j[0]:j.slice(0,P)}},value:{get:()=>C.value}})}(B)):t.openCursor(b)}}}}}};function wn(r,e,t,n){return t=t||{},n=n||"",U(r).forEach(s=>{if(te(e,s)){var o=r[s],c=e[s];if(typeof o=="object"&&typeof c=="object"&&o&&c){const _=Nr(o);_!==Nr(c)?t[n+s]=e[s]:_==="Object"?wn(o,c,t,n+s+"."):o!==c&&(t[n+s]=e[s])}else o!==c&&(t[n+s]=e[s])}else t[n+s]=void 0}),U(e).forEach(s=>{te(r,s)||(t[n+s]=e[s])}),t}const xu={stack:"dbcore",name:"HooksMiddleware",level:2,create:r=>({...r,table(e){const t=r.table(e),{primaryKey:n}=t.schema;return{...t,mutate(o){const c=L.trans,{deleting:_,creating:m,updating:w}=c.table(e).hook;switch(o.type){case"add":if(m.fire===$)break;return c._promise("readwrite",()=>b(o),!0);case"put":if(m.fire===$&&w.fire===$)break;return c._promise("readwrite",()=>b(o),!0);case"delete":if(_.fire===$)break;return c._promise("readwrite",()=>b(o),!0);case"deleteRange":if(_.fire===$)break;return c._promise("readwrite",()=>function(y){return v(y.trans,y.range,1e4)}(o),!0)}return t.mutate(o);function b(y){const P=L.trans,B=y.keys||function(C,T){return T.type==="delete"?T.keys:T.keys||T.values.map(C.extractKey)}(n,y);if(!B)throw new Error("Keys missing");return(y=y.type==="add"||y.type==="put"?{...y,keys:B}:{...y}).type!=="delete"&&(y.values=[...y.values]),y.keys&&(y.keys=[...y.keys]),function(C,T,j){return T.type==="add"?Promise.resolve([]):C.getMany({trans:T.trans,keys:j,cache:"immutable"})}(t,y,B).then(C=>{const T=B.map((j,k)=>{const O=C[k],u={onerror:null,onsuccess:null};if(y.type==="delete")_.fire.call(u,j,O,P);else if(y.type==="add"||O===void 0){const a=m.fire.call(u,j,y.values[k],P);j==null&&a!=null&&(j=a,y.keys[k]=j,n.outbound||ae(y.values[k],n.keyPath,j))}else{const a=wn(O,y.values[k]),d=w.fire.call(u,a,j,O,P);if(d){const i=y.values[k];Object.keys(d).forEach(h=>{te(i,h)?i[h]=d[h]:ae(i,h,d[h])})}}return u});return t.mutate(y).then(({failures:j,results:k,numFailures:O,lastResult:u})=>{for(let a=0;a<B.length;++a){const d=k?k[a]:B[a],i=T[a];d==null?i.onerror&&i.onerror(j[a]):i.onsuccess&&i.onsuccess(y.type==="put"&&C[a]?y.values[a]:d)}return{failures:j,results:k,numFailures:O,lastResult:u}}).catch(j=>(T.forEach(k=>k.onerror&&k.onerror(j)),Promise.reject(j)))})}function v(y,P,B){return t.query({trans:y,values:!1,query:{index:n,range:P},limit:B}).then(({result:C})=>b({type:"delete",keys:C,trans:y}).then(T=>T.numFailures>0?Promise.reject(T.failures[0]):C.length<B?{failures:[],numFailures:0,lastResult:void 0}:v(y,{...P,lower:C[C.length-1],lowerOpen:!0},B)))}}}}})};function fu(r,e,t){try{if(!e||e.keys.length<r.length)return null;const n=[];for(let s=0,o=0;s<e.keys.length&&o<r.length;++s)J(e.keys[s],r[o])===0&&(n.push(t?er(e.values[s]):e.values[s]),++o);return n.length===r.length?n:null}catch{return null}}const et={stack:"dbcore",level:-1,create:r=>({table:e=>{const t=r.table(e);return{...t,getMany:n=>{if(!n.cache)return t.getMany(n);const s=fu(n.keys,n.trans._cache,n.cache==="clone");return s?I.resolve(s):t.getMany(n).then(o=>(n.trans._cache={keys:n.keys,values:n.cache==="clone"?er(o):o},o))},mutate:n=>(n.type!=="add"&&(n.trans._cache=null),t.mutate(n))}}})};function vn(r){return!("from"in r)}const ce=function(r,e){if(!this){const t=new ce;return r&&"d"in r&&x(t,r),t}x(this,arguments.length?{d:1,from:r,to:arguments.length>1?e:r}:{d:0})};function xe(r,e,t){const n=J(e,t);if(isNaN(n))return;if(n>0)throw RangeError();if(vn(r))return x(r,{from:e,to:t,d:1});const s=r.l,o=r.r;if(J(t,r.from)<0)return s?xe(s,e,t):r.l={from:e,to:t,d:1,l:null,r:null},Rn(r);if(J(e,r.to)>0)return o?xe(o,e,t):r.r={from:e,to:t,d:1,l:null,r:null},Rn(r);J(e,r.from)<0&&(r.from=e,r.l=null,r.d=o?o.d+1:1),J(t,r.to)>0&&(r.to=t,r.r=null,r.d=r.l?r.l.d+1:1);const c=!r.r;s&&!r.l&&Er(r,s),o&&c&&Er(r,o)}function Er(r,e){vn(e)||function t(n,{from:s,to:o,l:c,r:_}){xe(n,s,o),c&&t(n,c),_&&t(n,_)}(r,e)}function rt(r,e){const t=sn(e);let n=t.next();if(n.done)return!1;let s=n.value;const o=sn(r);let c=o.next(s.from),_=c.value;for(;!n.done&&!c.done;){if(J(_.from,s.to)<=0&&J(_.to,s.from)>=0)return!0;J(s.from,_.from)<0?s=(n=t.next(_.from)).value:_=(c=o.next(s.from)).value}return!1}function sn(r){let e=vn(r)?null:{s:0,n:r};return{next(t){const n=arguments.length>0;for(;e;)switch(e.s){case 0:if(e.s=1,n)for(;e.n.l&&J(t,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!n||J(t,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function Rn(r){var e,t;const n=(((e=r.r)===null||e===void 0?void 0:e.d)||0)-(((t=r.l)===null||t===void 0?void 0:t.d)||0),s=n>1?"r":n<-1?"l":"";if(s){const o=s==="r"?"l":"r",c={...r},_=r[s];r.from=_.from,r.to=_.to,r[s]=_[s],c[s]=_[o],r[o]=c,c.d=In(c)}r.d=In(r)}function In({r,l:e}){return(r?e?Math.max(r.d,e.d):r.d:e?e.d:0)+1}Ke(ce.prototype,{add(r){return Er(this,r),this},addKey(r){return xe(this,r,r),this},addKeys(r){return r.forEach(e=>xe(this,e,e)),this},[Fr](){return sn(this)}});const nt={stack:"dbcore",level:0,create:r=>{const e=r.schema.name,t=new ce(r.MIN_KEY,r.MAX_KEY);return{...r,table:n=>{const s=r.table(n),{schema:o}=s,{primaryKey:c}=o,{extractKey:_,outbound:m}=c,w={...s,mutate:y=>{const P=y.trans,B=P.mutatedParts||(P.mutatedParts={}),C=d=>{const i=`idb://${e}/${n}/${d}`;return B[i]||(B[i]=new ce)},T=C(""),j=C(":dels"),{type:k}=y;let[O,u]=y.type==="deleteRange"?[y.range]:y.type==="delete"?[y.keys]:y.values.length<50?[[],y.values]:[];const a=y.trans._cache;return s.mutate(y).then(d=>{if(Q(O)){k!=="delete"&&(O=d.results),T.addKeys(O);const i=fu(O,a);i||k==="add"||j.addKeys(O),(i||u)&&function(h,l,f,g){function z(A){const E=h(A.name||"");function M(S){return S!=null?A.extractKey(S):null}const p=S=>A.multiEntry&&Q(S)?S.forEach(R=>E.addKey(R)):E.addKey(S);(f||g).forEach((S,R)=>{const K=f&&M(f[R]),F=g&&M(g[R]);J(K,F)!==0&&(K!=null&&p(K),F!=null&&p(F))})}l.indexes.forEach(z)}(C,o,i,u)}else if(O){const i={from:O.lower,to:O.upper};j.add(i),T.add(i)}else T.add(t),j.add(t),o.indexes.forEach(i=>C(i.name).add(t));return d})}},b=({query:{index:y,range:P}})=>{var B,C;return[y,new ce((B=P.lower)!==null&&B!==void 0?B:r.MIN_KEY,(C=P.upper)!==null&&C!==void 0?C:r.MAX_KEY)]},v={get:y=>[c,new ce(y.key)],getMany:y=>[c,new ce().addKeys(y.keys)],count:b,query:b,openCursor:b};return U(v).forEach(y=>{w[y]=function(P){const{subscr:B}=L;if(B){const C=u=>{const a=`idb://${e}/${n}/${u}`;return B[a]||(B[a]=new ce)},T=C(""),j=C(":dels"),[k,O]=v[y](P);if(C(k.name||"").add(O),!k.isPrimaryKey){if(y!=="count"){const u=y==="query"&&m&&P.values&&s.query({...P,values:!1});return s[y].apply(this,arguments).then(a=>{if(y==="query"){if(m&&P.values)return u.then(({result:i})=>(T.addKeys(i),a));const d=P.values?a.result.map(_):a.result;P.values?T.addKeys(d):j.addKeys(d)}else if(y==="openCursor"){const d=a,i=P.values;return d&&Object.create(d,{key:{get:()=>(j.addKey(d.primaryKey),d.key)},primaryKey:{get(){const h=d.primaryKey;return j.addKey(h),h}},value:{get:()=>(i&&T.addKey(d.primaryKey),d.value)}})}return a})}j.add(t)}}return s[y].apply(this,arguments)}}),w}}}};class Ie{constructor(e,t){this._middlewares={},this.verno=0;const n=Ie.dependencies;this._options=t={addons:Ie.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...t},this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};const{addons:s}=t;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const o={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:$,dbReadyPromise:null,cancelOpen:$,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var c;o.dbReadyPromise=new I(_=>{o.dbReadyResolve=_}),o.openCanceller=new I((_,m)=>{o.cancelOpen=m}),this._state=o,this.name=e,this.on=Ve(this,"populate","blocked","versionchange","close",{ready:[pn,$]}),this.on.ready.subscribe=Ln(this.on.ready.subscribe,_=>(m,w)=>{Ie.vip(()=>{const b=this._state;if(b.openComplete)b.dbOpenError||I.resolve().then(m),w&&_(m);else if(b.onReadyBeingFired)b.onReadyBeingFired.push(m),w&&_(m);else{_(m);const v=this;w||_(function y(){v.on.ready.unsubscribe(m),v.on.ready.unsubscribe(y)})}})}),this.Collection=(c=this,Ne(Nu.prototype,function(_,m){this.db=c;let w=du,b=null;if(m)try{w=m()}catch(B){b=B}const v=_._ctx,y=v.table,P=y.hook.reading.fire;this._ctx={table:y,index:v.index,isPrimKey:!v.index||y.schema.primKey.keyPath&&v.index===y.schema.primKey.name,range:w,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:b,or:v.or,valueMapper:P!==Ye?P:null}})),this.Table=function(_){return Ne(Lu.prototype,function(m,w,b){this.db=_,this._tx=b,this.name=m,this.schema=w,this.hook=_._allTables[m]?_._allTables[m].hook:Ve(null,{creating:[Cu,$],reading:[Eu,Ye],updating:[Au,$],deleting:[Su,$]})})}(this),this.Transaction=function(_){return Ne(qu.prototype,function(m,w,b,v,y){this.db=_,this.mode=m,this.storeNames=w,this.schema=b,this.chromeTransactionDurability=v,this.idbtrans=null,this.on=Ve(this,"complete","error","abort"),this.parent=y||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new I((P,B)=>{this._resolve=P,this._reject=B}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},P=>{var B=this.active;return this.active=!1,this.on.error.fire(P),this.parent?this.parent._reject(P):B&&this.idbtrans&&this.idbtrans.abort(),V(P)})})}(this),this.Version=function(_){return Ne(Yu.prototype,function(m){this.db=_,this._cfg={version:m,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(_){return Ne(su.prototype,function(m,w,b){this.db=_,this._ctx={table:m,index:w===":id"?null:w,or:b};const v=_._deps.indexedDB;if(!v)throw new N.MissingAPI;this._cmp=this._ascending=v.cmp.bind(v),this._descending=(y,P)=>v.cmp(P,y),this._max=(y,P)=>v.cmp(y,P)>0?y:P,this._min=(y,P)=>v.cmp(y,P)<0?y:P,this._IDBKeyRange=_._deps.IDBKeyRange})}(this),this.on("versionchange",_=>{_.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",_=>{!_.newVersion||_.newVersion<_.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${_.oldVersion/10}`)}),this._maxKey=Je(t.IDBKeyRange),this._createTransaction=(_,m,w,b)=>new this.Transaction(_,m,w,this._options.chromeTransactionDurability,b),this._fireOnBlocked=_=>{this.on("blocked").fire(_),Ue.filter(m=>m.name===this.name&&m!==this&&!m._state.vcFired).map(m=>m.on("versionchange").fire(_))},this.use(Ju),this.use(xu),this.use(nt),this.use(et),this.vip=Object.create(this,{_vip:{value:!0}}),s.forEach(_=>_(this))}version(e){if(isNaN(e)||e<.1)throw new N.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new N.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const t=this._versions;var n=t.filter(s=>s._cfg.version===e)[0];return n||(n=new this.Version(e),t.push(n),t.sort(Gu),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(e){return this.idbdb&&(this._state.openComplete||L.letThrough||this._vip)?e():new I((t,n)=>{if(this._state.openComplete)return n(new N.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void n(new N.DatabaseClosed);this.open().catch($)}this._state.dbReadyPromise.then(t,n)}).then(e)}use({stack:e,create:t,level:n,name:s}){s&&this.unuse({stack:e,name:s});const o=this._middlewares[e]||(this._middlewares[e]=[]);return o.push({stack:e,create:t,level:n??10,name:s}),o.sort((c,_)=>c.level-_.level),this}unuse({stack:e,name:t,create:n}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter(s=>n?s.create!==n:!!t&&s.name!==t)),this}open(){return Qu(this)}_close(){const e=this._state,t=Ue.indexOf(this);if(t>=0&&Ue.splice(t,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}e.dbReadyPromise=new I(n=>{e.dbReadyResolve=n}),e.openCanceller=new I((n,s)=>{e.cancelOpen=s})}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new N.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,t=this._state;return new I((n,s)=>{const o=()=>{this.close();var c=this._deps.indexedDB.deleteDatabase(this.name);c.onsuccess=q(()=>{(function({indexedDB:_,IDBKeyRange:m},w){!yn(_)&&w!==Sr&&bn(_,m).delete(w).catch($)})(this._deps,this.name),n()}),c.onerror=se(s),c.onblocked=this._fireOnBlocked};if(e)throw new N.InvalidArgument("Arguments not allowed in db.delete()");t.isBeingOpened?t.dbReadyPromise.then(o):o()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return U(this._allTables).map(e=>this._allTables[e])}transaction(){const e=Xu.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,t,n){let s=L.trans;s&&s.db===this&&e.indexOf("!")===-1||(s=null);const o=e.indexOf("?")!==-1;let c,_;e=e.replace("!","").replace("?","");try{if(_=t.map(w=>{var b=w instanceof this.Table?w.name:w;if(typeof b!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return b}),e=="r"||e===Tr)c=Tr;else{if(e!="rw"&&e!=Or)throw new N.InvalidArgument("Invalid transaction mode: "+e);c=Or}if(s){if(s.mode===Tr&&c===Or){if(!o)throw new N.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");s=null}s&&_.forEach(w=>{if(s&&s.storeNames.indexOf(w)===-1){if(!o)throw new N.SubTransaction("Table "+w+" not included in parent transaction.");s=null}}),o&&s&&!s.active&&(s=null)}}catch(w){return s?s._promise(null,(b,v)=>{v(w)}):V(w)}const m=lu.bind(null,this,c,_,s,n);return s?s._promise(c,m,"lock"):L.trans?Le(L.transless,()=>this._whenReady(m)):this._whenReady(m)}table(e){if(!te(this._allTables,e))throw new N.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const ut=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class tt{constructor(e){this._subscribe=e}subscribe(e,t,n){return this._subscribe(e&&typeof e!="function"?e:{next:e,error:t,complete:n})}[ut](){return this}}function hu(r,e){return U(e).forEach(t=>{Er(r[t]||(r[t]=new ce),e[t])}),r}function dt(r){let e,t=!1;const n=new tt(s=>{const o=ln(r);let c=!1,_={},m={};const w={get closed(){return c},unsubscribe:()=>{c=!0,ve.storagemutated.unsubscribe(P)}};s.start&&s.start(w);let b=!1,v=!1;function y(){return U(m).some(C=>_[C]&&rt(_[C],m[C]))}const P=C=>{hu(_,C),y()&&B()},B=()=>{if(b||c)return;_={};const C={},T=function(j){o&&De();const k=()=>ye(r,{subscr:j,trans:null}),O=L.trans?Le(L.transless,k):k();return o&&O.then(me,me),O}(C);v||(ve(Xe,P),v=!0),b=!0,Promise.resolve(T).then(j=>{t=!0,e=j,b=!1,c||(y()?B():(_={},m=C,s.next&&s.next(j)))},j=>{b=!1,t=!1,s.error&&s.error(j),w.unsubscribe()})};return B(),w});return n.hasValue=()=>t,n.getValue=()=>e,n}let on;try{on={indexedDB:H.indexedDB||H.mozIndexedDB||H.webkitIndexedDB||H.msIndexedDB,IDBKeyRange:H.IDBKeyRange||H.webkitIDBKeyRange}}catch{on={indexedDB:null,IDBKeyRange:null}}const ke=Ie;function gr(r){let e=fe;try{fe=!0,ve.storagemutated.fire(r)}finally{fe=e}}Ke(ke,{...lr,delete:r=>new ke(r,{addons:[]}).delete(),exists:r=>new ke(r,{addons:[]}).open().then(e=>(e.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(r){try{return function({indexedDB:e,IDBKeyRange:t}){return yn(e)?Promise.resolve(e.databases()).then(n=>n.map(s=>s.name).filter(s=>s!==Sr)):bn(e,t).toCollection().primaryKeys()}(ke.dependencies).then(r)}catch{return V(new N.MissingAPI)}},defineClass:()=>function(r){x(this,r)},ignoreTransaction:r=>L.trans?Le(L.transless,r):r(),vip:dn,async:function(r){return function(){try{var e=an(r.apply(this,arguments));return e&&typeof e.then=="function"?e:I.resolve(e)}catch(t){return V(t)}}},spawn:function(r,e,t){try{var n=an(r.apply(t,e||[]));return n&&typeof n.then=="function"?n:I.resolve(n)}catch(s){return V(s)}},currentTransaction:{get:()=>L.trans||null},waitFor:function(r,e){const t=I.resolve(typeof r=="function"?ke.ignoreTransaction(r):r).timeout(e||6e4);return L.trans?L.trans.waitFor(t):t},Promise:I,debug:{get:()=>ie,set:r=>{Un(r,r==="dexie"?()=>!0:tu)}},derive:Te,extend:x,props:Ke,override:Ln,Events:Ve,on:ve,liveQuery:dt,extendObservabilitySet:hu,getByKeyPath:pe,setByKeyPath:ae,delByKeyPath:function(r,e){typeof e=="string"?ae(r,e,void 0):"length"in e&&[].map.call(e,function(t){ae(r,t,void 0)})},shallowClone:$n,deepClone:er,getObjectDiff:wn,cmp:J,asap:Nn,minKey:Xr,addons:[],connections:Ue,errnames:hn,dependencies:on,semVer:An,version:An.split(".").map(r=>parseInt(r)).reduce((r,e,t)=>r+e/Math.pow(10,2*t))}),ke.maxKey=Je(ke.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(ve(Xe,r=>{if(!fe){let e;Cr?(e=document.createEvent("CustomEvent"),e.initCustomEvent(be,!0,!0,r)):e=new CustomEvent(be,{detail:r}),fe=!0,dispatchEvent(e),fe=!1}}),addEventListener(be,({detail:r})=>{fe||gr(r)}));let fe=!1;if(typeof BroadcastChannel<"u"){const r=new BroadcastChannel(be);typeof r.unref=="function"&&r.unref(),ve(Xe,e=>{fe||r.postMessage(e)}),r.onmessage=e=>{e.data&&gr(e.data)}}else if(typeof self<"u"&&typeof navigator<"u"){ve(Xe,e=>{try{fe||(typeof localStorage<"u"&&localStorage.setItem(be,JSON.stringify({trig:Math.random(),changedParts:e})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(t=>t.postMessage({type:be,changedParts:e})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",e=>{if(e.key===be){const t=JSON.parse(e.newValue);t&&gr(t.changedParts)}});const r=self.document&&navigator.serviceWorker;r&&r.addEventListener("message",function({data:e}){e&&e.type===be&&gr(e.changedParts)})}I.rejectionMapper=function(r,e){if(!r||r instanceof Oe||r instanceof TypeError||r instanceof SyntaxError||!r.name||!jn[r.name])return r;var t=new jn[r.name](e||r.message,r);return"stack"in r&&he(t,"stack",{get:function(){return this.inner.stack}}),t},Un(ie,tu);let cr;const at=new Uint8Array(16);function st(){if(!cr&&(cr=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!cr))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return cr(at)}const W=[];for(let r=0;r<256;++r)W.push((r+256).toString(16).slice(1));function it(r,e=0){return W[r[e+0]]+W[r[e+1]]+W[r[e+2]]+W[r[e+3]]+"-"+W[r[e+4]]+W[r[e+5]]+"-"+W[r[e+6]]+W[r[e+7]]+"-"+W[r[e+8]]+W[r[e+9]]+"-"+W[r[e+10]]+W[r[e+11]]+W[r[e+12]]+W[r[e+13]]+W[r[e+14]]+W[r[e+15]]}const ot=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Kn={randomUUID:ot};function ht(r,e,t){if(Kn.randomUUID&&!e&&!r)return Kn.randomUUID();r=r||{};const n=r.random||(r.rng||st)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(let s=0;s<16;++s)e[t+s]=n[s];return e}return it(n)}var ct=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lt(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var pu={exports:{}};(function(r){(function(){function e(u){var a={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:`Remove only spaces, ' and " from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids`,type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,describe:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,describe:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,describe:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,describe:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,describe:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",describe:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,describe:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,describe:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,describe:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,describe:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,describe:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},ellipsis:{defaultValue:!0,describe:"Replaces three dots with the ellipsis unicode character",type:"boolean"},completeHTMLDocument:{defaultValue:!1,describe:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,describe:"Enable support for document metadata (defined at the top of the document between `«««` and `»»»` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,describe:"Split adjacent blockquote blocks",type:"boolean"}};if(u===!1)return JSON.parse(JSON.stringify(a));var d={};for(var i in a)a.hasOwnProperty(i)&&(d[i]=a[i].defaultValue);return d}function t(){var u=e(!0),a={};for(var d in u)u.hasOwnProperty(d)&&(a[d]=!0);return a}var n={},s={},o={},c=e(!0),_="vanilla",m={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:e(!0),allOn:t()};n.helper={},n.extensions={},n.setOption=function(u,a){return c[u]=a,this},n.getOption=function(u){return c[u]},n.getOptions=function(){return c},n.resetOptions=function(){c=e(!0)},n.setFlavor=function(u){if(!m.hasOwnProperty(u))throw Error(u+" flavor was not found");n.resetOptions();var a=m[u];_=u;for(var d in a)a.hasOwnProperty(d)&&(c[d]=a[d])},n.getFlavor=function(){return _},n.getFlavorOptions=function(u){if(m.hasOwnProperty(u))return m[u]},n.getDefaultOptions=function(u){return e(u)},n.subParser=function(u,a){if(n.helper.isString(u))if(typeof a<"u")s[u]=a;else{if(s.hasOwnProperty(u))return s[u];throw Error("SubParser named "+u+" not registered!")}},n.extension=function(u,a){if(!n.helper.isString(u))throw Error("Extension 'name' must be a string");if(u=n.helper.stdExtName(u),n.helper.isUndefined(a)){if(!o.hasOwnProperty(u))throw Error("Extension named "+u+" is not registered!");return o[u]}else{typeof a=="function"&&(a=a()),n.helper.isArray(a)||(a=[a]);var d=w(a,u);if(d.valid)o[u]=a;else throw Error(d.error)}},n.getAllExtensions=function(){return o},n.removeExtension=function(u){delete o[u]},n.resetExtensions=function(){o={}};function w(u,a){var d=a?"Error in "+a+" extension->":"Error in unnamed extension",i={valid:!0,error:""};n.helper.isArray(u)||(u=[u]);for(var h=0;h<u.length;++h){var l=d+" sub-extension "+h+": ",f=u[h];if(typeof f!="object")return i.valid=!1,i.error=l+"must be an object, but "+typeof f+" given",i;if(!n.helper.isString(f.type))return i.valid=!1,i.error=l+'property "type" must be a string, but '+typeof f.type+" given",i;var g=f.type=f.type.toLowerCase();if(g==="language"&&(g=f.type="lang"),g==="html"&&(g=f.type="output"),g!=="lang"&&g!=="output"&&g!=="listener")return i.valid=!1,i.error=l+"type "+g+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',i;if(g==="listener"){if(n.helper.isUndefined(f.listeners))return i.valid=!1,i.error=l+'. Extensions of type "listener" must have a property called "listeners"',i}else if(n.helper.isUndefined(f.filter)&&n.helper.isUndefined(f.regex))return i.valid=!1,i.error=l+g+' extensions must define either a "regex" property or a "filter" method',i;if(f.listeners){if(typeof f.listeners!="object")return i.valid=!1,i.error=l+'"listeners" property must be an object but '+typeof f.listeners+" given",i;for(var z in f.listeners)if(f.listeners.hasOwnProperty(z)&&typeof f.listeners[z]!="function")return i.valid=!1,i.error=l+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+z+" must be a function but "+typeof f.listeners[z]+" given",i}if(f.filter){if(typeof f.filter!="function")return i.valid=!1,i.error=l+'"filter" must be a function, but '+typeof f.filter+" given",i}else if(f.regex){if(n.helper.isString(f.regex)&&(f.regex=new RegExp(f.regex,"g")),!(f.regex instanceof RegExp))return i.valid=!1,i.error=l+'"regex" property must either be a string or a RegExp object, but '+typeof f.regex+" given",i;if(n.helper.isUndefined(f.replace))return i.valid=!1,i.error=l+'"regex" extensions must implement a replace string or function',i}}return i}n.validateExtension=function(u){var a=w(u,null);return a.valid?!0:(console.warn(a.error),!1)},n.hasOwnProperty("helper")||(n.helper={}),n.helper.isString=function(u){return typeof u=="string"||u instanceof String},n.helper.isFunction=function(u){var a={};return u&&a.toString.call(u)==="[object Function]"},n.helper.isArray=function(u){return Array.isArray(u)},n.helper.isUndefined=function(u){return typeof u>"u"},n.helper.forEach=function(u,a){if(n.helper.isUndefined(u))throw new Error("obj param is required");if(n.helper.isUndefined(a))throw new Error("callback param is required");if(!n.helper.isFunction(a))throw new Error("callback param must be a function/closure");if(typeof u.forEach=="function")u.forEach(a);else if(n.helper.isArray(u))for(var d=0;d<u.length;d++)a(u[d],d,u);else if(typeof u=="object")for(var i in u)u.hasOwnProperty(i)&&a(u[i],i,u);else throw new Error("obj does not seem to be an array or an iterable object")},n.helper.stdExtName=function(u){return u.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()};function b(u,a){var d=a.charCodeAt(0);return"¨E"+d+"E"}n.helper.escapeCharactersCallback=b,n.helper.escapeCharacters=function(u,a,d){var i="(["+a.replace(/([\[\]\\])/g,"\\$1")+"])";d&&(i="\\\\"+i);var h=new RegExp(i,"g");return u=u.replace(h,b),u},n.helper.unescapeHTMLEntities=function(u){return u.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var v=function(u,a,d,i){var h=i||"",l=h.indexOf("g")>-1,f=new RegExp(a+"|"+d,"g"+h.replace(/g/g,"")),g=new RegExp(a,h.replace(/g/g,"")),z=[],A,E,M,p,S;do for(A=0;M=f.exec(u);)if(g.test(M[0]))A++||(E=f.lastIndex,p=E-M[0].length);else if(A&&!--A){S=M.index+M[0].length;var R={left:{start:p,end:E},match:{start:E,end:M.index},right:{start:M.index,end:S},wholeMatch:{start:p,end:S}};if(z.push(R),!l)return z}while(A&&(f.lastIndex=E));return z};n.helper.matchRecursiveRegExp=function(u,a,d,i){for(var h=v(u,a,d,i),l=[],f=0;f<h.length;++f)l.push([u.slice(h[f].wholeMatch.start,h[f].wholeMatch.end),u.slice(h[f].match.start,h[f].match.end),u.slice(h[f].left.start,h[f].left.end),u.slice(h[f].right.start,h[f].right.end)]);return l},n.helper.replaceRecursiveRegExp=function(u,a,d,i,h){if(!n.helper.isFunction(a)){var l=a;a=function(){return l}}var f=v(u,d,i,h),g=u,z=f.length;if(z>0){var A=[];f[0].wholeMatch.start!==0&&A.push(u.slice(0,f[0].wholeMatch.start));for(var E=0;E<z;++E)A.push(a(u.slice(f[E].wholeMatch.start,f[E].wholeMatch.end),u.slice(f[E].match.start,f[E].match.end),u.slice(f[E].left.start,f[E].left.end),u.slice(f[E].right.start,f[E].right.end))),E<z-1&&A.push(u.slice(f[E].wholeMatch.end,f[E+1].wholeMatch.start));f[z-1].wholeMatch.end<u.length&&A.push(u.slice(f[z-1].wholeMatch.end)),g=A.join("")}return g},n.helper.regexIndexOf=function(u,a,d){if(!n.helper.isString(u))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(!(a instanceof RegExp))throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var i=u.substring(d||0).search(a);return i>=0?i+(d||0):i},n.helper.splitAtIndex=function(u,a){if(!n.helper.isString(u))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[u.substring(0,a),u.substring(a)]},n.helper.encodeEmailAddress=function(u){var a=[function(d){return"&#"+d.charCodeAt(0)+";"},function(d){return"&#x"+d.charCodeAt(0).toString(16)+";"},function(d){return d}];return u=u.replace(/./g,function(d){if(d==="@")d=a[Math.floor(Math.random()*2)](d);else{var i=Math.random();d=i>.9?a[2](d):i>.45?a[1](d):a[0](d)}return d}),u},n.helper.padEnd=function(a,d,i){return d=d>>0,i=String(i||" "),a.length>d?String(a):(d=d-a.length,d>i.length&&(i+=i.repeat(d/i.length)),String(a)+i.slice(0,d))},typeof console>"u"&&(console={warn:function(u){alert(u)},log:function(u){alert(u)},error:function(u){throw u}}),n.helper.regexes={asteriskDashAndColon:/([*_:~])/g},n.helper.emojis={"+1":"👍","-1":"👎",100:"💯",1234:"🔢","1st_place_medal":"🥇","2nd_place_medal":"🥈","3rd_place_medal":"🥉","8ball":"🎱",a:"🅰️",ab:"🆎",abc:"🔤",abcd:"🔡",accept:"🉑",aerial_tramway:"🚡",airplane:"✈️",alarm_clock:"⏰",alembic:"⚗️",alien:"👽",ambulance:"🚑",amphora:"🏺",anchor:"⚓️",angel:"👼",anger:"💢",angry:"😠",anguished:"😧",ant:"🐜",apple:"🍎",aquarius:"♒️",aries:"♈️",arrow_backward:"◀️",arrow_double_down:"⏬",arrow_double_up:"⏫",arrow_down:"⬇️",arrow_down_small:"🔽",arrow_forward:"▶️",arrow_heading_down:"⤵️",arrow_heading_up:"⤴️",arrow_left:"⬅️",arrow_lower_left:"↙️",arrow_lower_right:"↘️",arrow_right:"➡️",arrow_right_hook:"↪️",arrow_up:"⬆️",arrow_up_down:"↕️",arrow_up_small:"🔼",arrow_upper_left:"↖️",arrow_upper_right:"↗️",arrows_clockwise:"🔃",arrows_counterclockwise:"🔄",art:"🎨",articulated_lorry:"🚛",artificial_satellite:"🛰",astonished:"😲",athletic_shoe:"👟",atm:"🏧",atom_symbol:"⚛️",avocado:"🥑",b:"🅱️",baby:"👶",baby_bottle:"🍼",baby_chick:"🐤",baby_symbol:"🚼",back:"🔙",bacon:"🥓",badminton:"🏸",baggage_claim:"🛄",baguette_bread:"🥖",balance_scale:"⚖️",balloon:"🎈",ballot_box:"🗳",ballot_box_with_check:"☑️",bamboo:"🎍",banana:"🍌",bangbang:"‼️",bank:"🏦",bar_chart:"📊",barber:"💈",baseball:"⚾️",basketball:"🏀",basketball_man:"⛹️",basketball_woman:"⛹️&zwj;♀️",bat:"🦇",bath:"🛀",bathtub:"🛁",battery:"🔋",beach_umbrella:"🏖",bear:"🐻",bed:"🛏",bee:"🐝",beer:"🍺",beers:"🍻",beetle:"🐞",beginner:"🔰",bell:"🔔",bellhop_bell:"🛎",bento:"🍱",biking_man:"🚴",bike:"🚲",biking_woman:"🚴&zwj;♀️",bikini:"👙",biohazard:"☣️",bird:"🐦",birthday:"🎂",black_circle:"⚫️",black_flag:"🏴",black_heart:"🖤",black_joker:"🃏",black_large_square:"⬛️",black_medium_small_square:"◾️",black_medium_square:"◼️",black_nib:"✒️",black_small_square:"▪️",black_square_button:"🔲",blonde_man:"👱",blonde_woman:"👱&zwj;♀️",blossom:"🌼",blowfish:"🐡",blue_book:"📘",blue_car:"🚙",blue_heart:"💙",blush:"😊",boar:"🐗",boat:"⛵️",bomb:"💣",book:"📖",bookmark:"🔖",bookmark_tabs:"📑",books:"📚",boom:"💥",boot:"👢",bouquet:"💐",bowing_man:"🙇",bow_and_arrow:"🏹",bowing_woman:"🙇&zwj;♀️",bowling:"🎳",boxing_glove:"🥊",boy:"👦",bread:"🍞",bride_with_veil:"👰",bridge_at_night:"🌉",briefcase:"💼",broken_heart:"💔",bug:"🐛",building_construction:"🏗",bulb:"💡",bullettrain_front:"🚅",bullettrain_side:"🚄",burrito:"🌯",bus:"🚌",business_suit_levitating:"🕴",busstop:"🚏",bust_in_silhouette:"👤",busts_in_silhouette:"👥",butterfly:"🦋",cactus:"🌵",cake:"🍰",calendar:"📆",call_me_hand:"🤙",calling:"📲",camel:"🐫",camera:"📷",camera_flash:"📸",camping:"🏕",cancer:"♋️",candle:"🕯",candy:"🍬",canoe:"🛶",capital_abcd:"🔠",capricorn:"♑️",car:"🚗",card_file_box:"🗃",card_index:"📇",card_index_dividers:"🗂",carousel_horse:"🎠",carrot:"🥕",cat:"🐱",cat2:"🐈",cd:"💿",chains:"⛓",champagne:"🍾",chart:"💹",chart_with_downwards_trend:"📉",chart_with_upwards_trend:"📈",checkered_flag:"🏁",cheese:"🧀",cherries:"🍒",cherry_blossom:"🌸",chestnut:"🌰",chicken:"🐔",children_crossing:"🚸",chipmunk:"🐿",chocolate_bar:"🍫",christmas_tree:"🎄",church:"⛪️",cinema:"🎦",circus_tent:"🎪",city_sunrise:"🌇",city_sunset:"🌆",cityscape:"🏙",cl:"🆑",clamp:"🗜",clap:"👏",clapper:"🎬",classical_building:"🏛",clinking_glasses:"🥂",clipboard:"📋",clock1:"🕐",clock10:"🕙",clock1030:"🕥",clock11:"🕚",clock1130:"🕦",clock12:"🕛",clock1230:"🕧",clock130:"🕜",clock2:"🕑",clock230:"🕝",clock3:"🕒",clock330:"🕞",clock4:"🕓",clock430:"🕟",clock5:"🕔",clock530:"🕠",clock6:"🕕",clock630:"🕡",clock7:"🕖",clock730:"🕢",clock8:"🕗",clock830:"🕣",clock9:"🕘",clock930:"🕤",closed_book:"📕",closed_lock_with_key:"🔐",closed_umbrella:"🌂",cloud:"☁️",cloud_with_lightning:"🌩",cloud_with_lightning_and_rain:"⛈",cloud_with_rain:"🌧",cloud_with_snow:"🌨",clown_face:"🤡",clubs:"♣️",cocktail:"🍸",coffee:"☕️",coffin:"⚰️",cold_sweat:"😰",comet:"☄️",computer:"💻",computer_mouse:"🖱",confetti_ball:"🎊",confounded:"😖",confused:"😕",congratulations:"㊗️",construction:"🚧",construction_worker_man:"👷",construction_worker_woman:"👷&zwj;♀️",control_knobs:"🎛",convenience_store:"🏪",cookie:"🍪",cool:"🆒",policeman:"👮",copyright:"©️",corn:"🌽",couch_and_lamp:"🛋",couple:"👫",couple_with_heart_woman_man:"💑",couple_with_heart_man_man:"👨&zwj;❤️&zwj;👨",couple_with_heart_woman_woman:"👩&zwj;❤️&zwj;👩",couplekiss_man_man:"👨&zwj;❤️&zwj;💋&zwj;👨",couplekiss_man_woman:"💏",couplekiss_woman_woman:"👩&zwj;❤️&zwj;💋&zwj;👩",cow:"🐮",cow2:"🐄",cowboy_hat_face:"🤠",crab:"🦀",crayon:"🖍",credit_card:"💳",crescent_moon:"🌙",cricket:"🏏",crocodile:"🐊",croissant:"🥐",crossed_fingers:"🤞",crossed_flags:"🎌",crossed_swords:"⚔️",crown:"👑",cry:"😢",crying_cat_face:"😿",crystal_ball:"🔮",cucumber:"🥒",cupid:"💘",curly_loop:"➰",currency_exchange:"💱",curry:"🍛",custard:"🍮",customs:"🛃",cyclone:"🌀",dagger:"🗡",dancer:"💃",dancing_women:"👯",dancing_men:"👯&zwj;♂️",dango:"🍡",dark_sunglasses:"🕶",dart:"🎯",dash:"💨",date:"📅",deciduous_tree:"🌳",deer:"🦌",department_store:"🏬",derelict_house:"🏚",desert:"🏜",desert_island:"🏝",desktop_computer:"🖥",male_detective:"🕵️",diamond_shape_with_a_dot_inside:"💠",diamonds:"♦️",disappointed:"😞",disappointed_relieved:"😥",dizzy:"💫",dizzy_face:"😵",do_not_litter:"🚯",dog:"🐶",dog2:"🐕",dollar:"💵",dolls:"🎎",dolphin:"🐬",door:"🚪",doughnut:"🍩",dove:"🕊",dragon:"🐉",dragon_face:"🐲",dress:"👗",dromedary_camel:"🐪",drooling_face:"🤤",droplet:"💧",drum:"🥁",duck:"🦆",dvd:"📀","e-mail":"📧",eagle:"🦅",ear:"👂",ear_of_rice:"🌾",earth_africa:"🌍",earth_americas:"🌎",earth_asia:"🌏",egg:"🥚",eggplant:"🍆",eight_pointed_black_star:"✴️",eight_spoked_asterisk:"✳️",electric_plug:"🔌",elephant:"🐘",email:"✉️",end:"🔚",envelope_with_arrow:"📩",euro:"💶",european_castle:"🏰",european_post_office:"🏤",evergreen_tree:"🌲",exclamation:"❗️",expressionless:"😑",eye:"👁",eye_speech_bubble:"👁&zwj;🗨",eyeglasses:"👓",eyes:"👀",face_with_head_bandage:"🤕",face_with_thermometer:"🤒",fist_oncoming:"👊",factory:"🏭",fallen_leaf:"🍂",family_man_woman_boy:"👪",family_man_boy:"👨&zwj;👦",family_man_boy_boy:"👨&zwj;👦&zwj;👦",family_man_girl:"👨&zwj;👧",family_man_girl_boy:"👨&zwj;👧&zwj;👦",family_man_girl_girl:"👨&zwj;👧&zwj;👧",family_man_man_boy:"👨&zwj;👨&zwj;👦",family_man_man_boy_boy:"👨&zwj;👨&zwj;👦&zwj;👦",family_man_man_girl:"👨&zwj;👨&zwj;👧",family_man_man_girl_boy:"👨&zwj;👨&zwj;👧&zwj;👦",family_man_man_girl_girl:"👨&zwj;👨&zwj;👧&zwj;👧",family_man_woman_boy_boy:"👨&zwj;👩&zwj;👦&zwj;👦",family_man_woman_girl:"👨&zwj;👩&zwj;👧",family_man_woman_girl_boy:"👨&zwj;👩&zwj;👧&zwj;👦",family_man_woman_girl_girl:"👨&zwj;👩&zwj;👧&zwj;👧",family_woman_boy:"👩&zwj;👦",family_woman_boy_boy:"👩&zwj;👦&zwj;👦",family_woman_girl:"👩&zwj;👧",family_woman_girl_boy:"👩&zwj;👧&zwj;👦",family_woman_girl_girl:"👩&zwj;👧&zwj;👧",family_woman_woman_boy:"👩&zwj;👩&zwj;👦",family_woman_woman_boy_boy:"👩&zwj;👩&zwj;👦&zwj;👦",family_woman_woman_girl:"👩&zwj;👩&zwj;👧",family_woman_woman_girl_boy:"👩&zwj;👩&zwj;👧&zwj;👦",family_woman_woman_girl_girl:"👩&zwj;👩&zwj;👧&zwj;👧",fast_forward:"⏩",fax:"📠",fearful:"😨",feet:"🐾",female_detective:"🕵️&zwj;♀️",ferris_wheel:"🎡",ferry:"⛴",field_hockey:"🏑",file_cabinet:"🗄",file_folder:"📁",film_projector:"📽",film_strip:"🎞",fire:"🔥",fire_engine:"🚒",fireworks:"🎆",first_quarter_moon:"🌓",first_quarter_moon_with_face:"🌛",fish:"🐟",fish_cake:"🍥",fishing_pole_and_fish:"🎣",fist_raised:"✊",fist_left:"🤛",fist_right:"🤜",flags:"🎏",flashlight:"🔦",fleur_de_lis:"⚜️",flight_arrival:"🛬",flight_departure:"🛫",floppy_disk:"💾",flower_playing_cards:"🎴",flushed:"😳",fog:"🌫",foggy:"🌁",football:"🏈",footprints:"👣",fork_and_knife:"🍴",fountain:"⛲️",fountain_pen:"🖋",four_leaf_clover:"🍀",fox_face:"🦊",framed_picture:"🖼",free:"🆓",fried_egg:"🍳",fried_shrimp:"🍤",fries:"🍟",frog:"🐸",frowning:"😦",frowning_face:"☹️",frowning_man:"🙍&zwj;♂️",frowning_woman:"🙍",middle_finger:"🖕",fuelpump:"⛽️",full_moon:"🌕",full_moon_with_face:"🌝",funeral_urn:"⚱️",game_die:"🎲",gear:"⚙️",gem:"💎",gemini:"♊️",ghost:"👻",gift:"🎁",gift_heart:"💝",girl:"👧",globe_with_meridians:"🌐",goal_net:"🥅",goat:"🐐",golf:"⛳️",golfing_man:"🏌️",golfing_woman:"🏌️&zwj;♀️",gorilla:"🦍",grapes:"🍇",green_apple:"🍏",green_book:"📗",green_heart:"💚",green_salad:"🥗",grey_exclamation:"❕",grey_question:"❔",grimacing:"😬",grin:"😁",grinning:"😀",guardsman:"💂",guardswoman:"💂&zwj;♀️",guitar:"🎸",gun:"🔫",haircut_woman:"💇",haircut_man:"💇&zwj;♂️",hamburger:"🍔",hammer:"🔨",hammer_and_pick:"⚒",hammer_and_wrench:"🛠",hamster:"🐹",hand:"✋",handbag:"👜",handshake:"🤝",hankey:"💩",hatched_chick:"🐥",hatching_chick:"🐣",headphones:"🎧",hear_no_evil:"🙉",heart:"❤️",heart_decoration:"💟",heart_eyes:"😍",heart_eyes_cat:"😻",heartbeat:"💓",heartpulse:"💗",hearts:"♥️",heavy_check_mark:"✔️",heavy_division_sign:"➗",heavy_dollar_sign:"💲",heavy_heart_exclamation:"❣️",heavy_minus_sign:"➖",heavy_multiplication_x:"✖️",heavy_plus_sign:"➕",helicopter:"🚁",herb:"🌿",hibiscus:"🌺",high_brightness:"🔆",high_heel:"👠",hocho:"🔪",hole:"🕳",honey_pot:"🍯",horse:"🐴",horse_racing:"🏇",hospital:"🏥",hot_pepper:"🌶",hotdog:"🌭",hotel:"🏨",hotsprings:"♨️",hourglass:"⌛️",hourglass_flowing_sand:"⏳",house:"🏠",house_with_garden:"🏡",houses:"🏘",hugs:"🤗",hushed:"😯",ice_cream:"🍨",ice_hockey:"🏒",ice_skate:"⛸",icecream:"🍦",id:"🆔",ideograph_advantage:"🉐",imp:"👿",inbox_tray:"📥",incoming_envelope:"📨",tipping_hand_woman:"💁",information_source:"ℹ️",innocent:"😇",interrobang:"⁉️",iphone:"📱",izakaya_lantern:"🏮",jack_o_lantern:"🎃",japan:"🗾",japanese_castle:"🏯",japanese_goblin:"👺",japanese_ogre:"👹",jeans:"👖",joy:"😂",joy_cat:"😹",joystick:"🕹",kaaba:"🕋",key:"🔑",keyboard:"⌨️",keycap_ten:"🔟",kick_scooter:"🛴",kimono:"👘",kiss:"💋",kissing:"😗",kissing_cat:"😽",kissing_closed_eyes:"😚",kissing_heart:"😘",kissing_smiling_eyes:"😙",kiwi_fruit:"🥝",koala:"🐨",koko:"🈁",label:"🏷",large_blue_circle:"🔵",large_blue_diamond:"🔷",large_orange_diamond:"🔶",last_quarter_moon:"🌗",last_quarter_moon_with_face:"🌜",latin_cross:"✝️",laughing:"😆",leaves:"🍃",ledger:"📒",left_luggage:"🛅",left_right_arrow:"↔️",leftwards_arrow_with_hook:"↩️",lemon:"🍋",leo:"♌️",leopard:"🐆",level_slider:"🎚",libra:"♎️",light_rail:"🚈",link:"🔗",lion:"🦁",lips:"👄",lipstick:"💄",lizard:"🦎",lock:"🔒",lock_with_ink_pen:"🔏",lollipop:"🍭",loop:"➿",loud_sound:"🔊",loudspeaker:"📢",love_hotel:"🏩",love_letter:"💌",low_brightness:"🔅",lying_face:"🤥",m:"Ⓜ️",mag:"🔍",mag_right:"🔎",mahjong:"🀄️",mailbox:"📫",mailbox_closed:"📪",mailbox_with_mail:"📬",mailbox_with_no_mail:"📭",man:"👨",man_artist:"👨&zwj;🎨",man_astronaut:"👨&zwj;🚀",man_cartwheeling:"🤸&zwj;♂️",man_cook:"👨&zwj;🍳",man_dancing:"🕺",man_facepalming:"🤦&zwj;♂️",man_factory_worker:"👨&zwj;🏭",man_farmer:"👨&zwj;🌾",man_firefighter:"👨&zwj;🚒",man_health_worker:"👨&zwj;⚕️",man_in_tuxedo:"🤵",man_judge:"👨&zwj;⚖️",man_juggling:"🤹&zwj;♂️",man_mechanic:"👨&zwj;🔧",man_office_worker:"👨&zwj;💼",man_pilot:"👨&zwj;✈️",man_playing_handball:"🤾&zwj;♂️",man_playing_water_polo:"🤽&zwj;♂️",man_scientist:"👨&zwj;🔬",man_shrugging:"🤷&zwj;♂️",man_singer:"👨&zwj;🎤",man_student:"👨&zwj;🎓",man_teacher:"👨&zwj;🏫",man_technologist:"👨&zwj;💻",man_with_gua_pi_mao:"👲",man_with_turban:"👳",tangerine:"🍊",mans_shoe:"👞",mantelpiece_clock:"🕰",maple_leaf:"🍁",martial_arts_uniform:"🥋",mask:"😷",massage_woman:"💆",massage_man:"💆&zwj;♂️",meat_on_bone:"🍖",medal_military:"🎖",medal_sports:"🏅",mega:"📣",melon:"🍈",memo:"📝",men_wrestling:"🤼&zwj;♂️",menorah:"🕎",mens:"🚹",metal:"🤘",metro:"🚇",microphone:"🎤",microscope:"🔬",milk_glass:"🥛",milky_way:"🌌",minibus:"🚐",minidisc:"💽",mobile_phone_off:"📴",money_mouth_face:"🤑",money_with_wings:"💸",moneybag:"💰",monkey:"🐒",monkey_face:"🐵",monorail:"🚝",moon:"🌔",mortar_board:"🎓",mosque:"🕌",motor_boat:"🛥",motor_scooter:"🛵",motorcycle:"🏍",motorway:"🛣",mount_fuji:"🗻",mountain:"⛰",mountain_biking_man:"🚵",mountain_biking_woman:"🚵&zwj;♀️",mountain_cableway:"🚠",mountain_railway:"🚞",mountain_snow:"🏔",mouse:"🐭",mouse2:"🐁",movie_camera:"🎥",moyai:"🗿",mrs_claus:"🤶",muscle:"💪",mushroom:"🍄",musical_keyboard:"🎹",musical_note:"🎵",musical_score:"🎼",mute:"🔇",nail_care:"💅",name_badge:"📛",national_park:"🏞",nauseated_face:"🤢",necktie:"👔",negative_squared_cross_mark:"❎",nerd_face:"🤓",neutral_face:"😐",new:"🆕",new_moon:"🌑",new_moon_with_face:"🌚",newspaper:"📰",newspaper_roll:"🗞",next_track_button:"⏭",ng:"🆖",no_good_man:"🙅&zwj;♂️",no_good_woman:"🙅",night_with_stars:"🌃",no_bell:"🔕",no_bicycles:"🚳",no_entry:"⛔️",no_entry_sign:"🚫",no_mobile_phones:"📵",no_mouth:"😶",no_pedestrians:"🚷",no_smoking:"🚭","non-potable_water":"🚱",nose:"👃",notebook:"📓",notebook_with_decorative_cover:"📔",notes:"🎶",nut_and_bolt:"🔩",o:"⭕️",o2:"🅾️",ocean:"🌊",octopus:"🐙",oden:"🍢",office:"🏢",oil_drum:"🛢",ok:"🆗",ok_hand:"👌",ok_man:"🙆&zwj;♂️",ok_woman:"🙆",old_key:"🗝",older_man:"👴",older_woman:"👵",om:"🕉",on:"🔛",oncoming_automobile:"🚘",oncoming_bus:"🚍",oncoming_police_car:"🚔",oncoming_taxi:"🚖",open_file_folder:"📂",open_hands:"👐",open_mouth:"😮",open_umbrella:"☂️",ophiuchus:"⛎",orange_book:"📙",orthodox_cross:"☦️",outbox_tray:"📤",owl:"🦉",ox:"🐂",package:"📦",page_facing_up:"📄",page_with_curl:"📃",pager:"📟",paintbrush:"🖌",palm_tree:"🌴",pancakes:"🥞",panda_face:"🐼",paperclip:"📎",paperclips:"🖇",parasol_on_ground:"⛱",parking:"🅿️",part_alternation_mark:"〽️",partly_sunny:"⛅️",passenger_ship:"🛳",passport_control:"🛂",pause_button:"⏸",peace_symbol:"☮️",peach:"🍑",peanuts:"🥜",pear:"🍐",pen:"🖊",pencil2:"✏️",penguin:"🐧",pensive:"😔",performing_arts:"🎭",persevere:"😣",person_fencing:"🤺",pouting_woman:"🙎",phone:"☎️",pick:"⛏",pig:"🐷",pig2:"🐖",pig_nose:"🐽",pill:"💊",pineapple:"🍍",ping_pong:"🏓",pisces:"♓️",pizza:"🍕",place_of_worship:"🛐",plate_with_cutlery:"🍽",play_or_pause_button:"⏯",point_down:"👇",point_left:"👈",point_right:"👉",point_up:"☝️",point_up_2:"👆",police_car:"🚓",policewoman:"👮&zwj;♀️",poodle:"🐩",popcorn:"🍿",post_office:"🏣",postal_horn:"📯",postbox:"📮",potable_water:"🚰",potato:"🥔",pouch:"👝",poultry_leg:"🍗",pound:"💷",rage:"😡",pouting_cat:"😾",pouting_man:"🙎&zwj;♂️",pray:"🙏",prayer_beads:"📿",pregnant_woman:"🤰",previous_track_button:"⏮",prince:"🤴",princess:"👸",printer:"🖨",purple_heart:"💜",purse:"👛",pushpin:"📌",put_litter_in_its_place:"🚮",question:"❓",rabbit:"🐰",rabbit2:"🐇",racehorse:"🐎",racing_car:"🏎",radio:"📻",radio_button:"🔘",radioactive:"☢️",railway_car:"🚃",railway_track:"🛤",rainbow:"🌈",rainbow_flag:"🏳️&zwj;🌈",raised_back_of_hand:"🤚",raised_hand_with_fingers_splayed:"🖐",raised_hands:"🙌",raising_hand_woman:"🙋",raising_hand_man:"🙋&zwj;♂️",ram:"🐏",ramen:"🍜",rat:"🐀",record_button:"⏺",recycle:"♻️",red_circle:"🔴",registered:"®️",relaxed:"☺️",relieved:"😌",reminder_ribbon:"🎗",repeat:"🔁",repeat_one:"🔂",rescue_worker_helmet:"⛑",restroom:"🚻",revolving_hearts:"💞",rewind:"⏪",rhinoceros:"🦏",ribbon:"🎀",rice:"🍚",rice_ball:"🍙",rice_cracker:"🍘",rice_scene:"🎑",right_anger_bubble:"🗯",ring:"💍",robot:"🤖",rocket:"🚀",rofl:"🤣",roll_eyes:"🙄",roller_coaster:"🎢",rooster:"🐓",rose:"🌹",rosette:"🏵",rotating_light:"🚨",round_pushpin:"📍",rowing_man:"🚣",rowing_woman:"🚣&zwj;♀️",rugby_football:"🏉",running_man:"🏃",running_shirt_with_sash:"🎽",running_woman:"🏃&zwj;♀️",sa:"🈂️",sagittarius:"♐️",sake:"🍶",sandal:"👡",santa:"🎅",satellite:"📡",saxophone:"🎷",school:"🏫",school_satchel:"🎒",scissors:"✂️",scorpion:"🦂",scorpius:"♏️",scream:"😱",scream_cat:"🙀",scroll:"📜",seat:"💺",secret:"㊙️",see_no_evil:"🙈",seedling:"🌱",selfie:"🤳",shallow_pan_of_food:"🥘",shamrock:"☘️",shark:"🦈",shaved_ice:"🍧",sheep:"🐑",shell:"🐚",shield:"🛡",shinto_shrine:"⛩",ship:"🚢",shirt:"👕",shopping:"🛍",shopping_cart:"🛒",shower:"🚿",shrimp:"🦐",signal_strength:"📶",six_pointed_star:"🔯",ski:"🎿",skier:"⛷",skull:"💀",skull_and_crossbones:"☠️",sleeping:"😴",sleeping_bed:"🛌",sleepy:"😪",slightly_frowning_face:"🙁",slightly_smiling_face:"🙂",slot_machine:"🎰",small_airplane:"🛩",small_blue_diamond:"🔹",small_orange_diamond:"🔸",small_red_triangle:"🔺",small_red_triangle_down:"🔻",smile:"😄",smile_cat:"😸",smiley:"😃",smiley_cat:"😺",smiling_imp:"😈",smirk:"😏",smirk_cat:"😼",smoking:"🚬",snail:"🐌",snake:"🐍",sneezing_face:"🤧",snowboarder:"🏂",snowflake:"❄️",snowman:"⛄️",snowman_with_snow:"☃️",sob:"😭",soccer:"⚽️",soon:"🔜",sos:"🆘",sound:"🔉",space_invader:"👾",spades:"♠️",spaghetti:"🍝",sparkle:"❇️",sparkler:"🎇",sparkles:"✨",sparkling_heart:"💖",speak_no_evil:"🙊",speaker:"🔈",speaking_head:"🗣",speech_balloon:"💬",speedboat:"🚤",spider:"🕷",spider_web:"🕸",spiral_calendar:"🗓",spiral_notepad:"🗒",spoon:"🥄",squid:"🦑",stadium:"🏟",star:"⭐️",star2:"🌟",star_and_crescent:"☪️",star_of_david:"✡️",stars:"🌠",station:"🚉",statue_of_liberty:"🗽",steam_locomotive:"🚂",stew:"🍲",stop_button:"⏹",stop_sign:"🛑",stopwatch:"⏱",straight_ruler:"📏",strawberry:"🍓",stuck_out_tongue:"😛",stuck_out_tongue_closed_eyes:"😝",stuck_out_tongue_winking_eye:"😜",studio_microphone:"🎙",stuffed_flatbread:"🥙",sun_behind_large_cloud:"🌥",sun_behind_rain_cloud:"🌦",sun_behind_small_cloud:"🌤",sun_with_face:"🌞",sunflower:"🌻",sunglasses:"😎",sunny:"☀️",sunrise:"🌅",sunrise_over_mountains:"🌄",surfing_man:"🏄",surfing_woman:"🏄&zwj;♀️",sushi:"🍣",suspension_railway:"🚟",sweat:"😓",sweat_drops:"💦",sweat_smile:"😅",sweet_potato:"🍠",swimming_man:"🏊",swimming_woman:"🏊&zwj;♀️",symbols:"🔣",synagogue:"🕍",syringe:"💉",taco:"🌮",tada:"🎉",tanabata_tree:"🎋",taurus:"♉️",taxi:"🚕",tea:"🍵",telephone_receiver:"📞",telescope:"🔭",tennis:"🎾",tent:"⛺️",thermometer:"🌡",thinking:"🤔",thought_balloon:"💭",ticket:"🎫",tickets:"🎟",tiger:"🐯",tiger2:"🐅",timer_clock:"⏲",tipping_hand_man:"💁&zwj;♂️",tired_face:"😫",tm:"™️",toilet:"🚽",tokyo_tower:"🗼",tomato:"🍅",tongue:"👅",top:"🔝",tophat:"🎩",tornado:"🌪",trackball:"🖲",tractor:"🚜",traffic_light:"🚥",train:"🚋",train2:"🚆",tram:"🚊",triangular_flag_on_post:"🚩",triangular_ruler:"📐",trident:"🔱",triumph:"😤",trolleybus:"🚎",trophy:"🏆",tropical_drink:"🍹",tropical_fish:"🐠",truck:"🚚",trumpet:"🎺",tulip:"🌷",tumbler_glass:"🥃",turkey:"🦃",turtle:"🐢",tv:"📺",twisted_rightwards_arrows:"🔀",two_hearts:"💕",two_men_holding_hands:"👬",two_women_holding_hands:"👭",u5272:"🈹",u5408:"🈴",u55b6:"🈺",u6307:"🈯️",u6708:"🈷️",u6709:"🈶",u6e80:"🈵",u7121:"🈚️",u7533:"🈸",u7981:"🈲",u7a7a:"🈳",umbrella:"☔️",unamused:"😒",underage:"🔞",unicorn:"🦄",unlock:"🔓",up:"🆙",upside_down_face:"🙃",v:"✌️",vertical_traffic_light:"🚦",vhs:"📼",vibration_mode:"📳",video_camera:"📹",video_game:"🎮",violin:"🎻",virgo:"♍️",volcano:"🌋",volleyball:"🏐",vs:"🆚",vulcan_salute:"🖖",walking_man:"🚶",walking_woman:"🚶&zwj;♀️",waning_crescent_moon:"🌘",waning_gibbous_moon:"🌖",warning:"⚠️",wastebasket:"🗑",watch:"⌚️",water_buffalo:"🐃",watermelon:"🍉",wave:"👋",wavy_dash:"〰️",waxing_crescent_moon:"🌒",wc:"🚾",weary:"😩",wedding:"💒",weight_lifting_man:"🏋️",weight_lifting_woman:"🏋️&zwj;♀️",whale:"🐳",whale2:"🐋",wheel_of_dharma:"☸️",wheelchair:"♿️",white_check_mark:"✅",white_circle:"⚪️",white_flag:"🏳️",white_flower:"💮",white_large_square:"⬜️",white_medium_small_square:"◽️",white_medium_square:"◻️",white_small_square:"▫️",white_square_button:"🔳",wilted_flower:"🥀",wind_chime:"🎐",wind_face:"🌬",wine_glass:"🍷",wink:"😉",wolf:"🐺",woman:"👩",woman_artist:"👩&zwj;🎨",woman_astronaut:"👩&zwj;🚀",woman_cartwheeling:"🤸&zwj;♀️",woman_cook:"👩&zwj;🍳",woman_facepalming:"🤦&zwj;♀️",woman_factory_worker:"👩&zwj;🏭",woman_farmer:"👩&zwj;🌾",woman_firefighter:"👩&zwj;🚒",woman_health_worker:"👩&zwj;⚕️",woman_judge:"👩&zwj;⚖️",woman_juggling:"🤹&zwj;♀️",woman_mechanic:"👩&zwj;🔧",woman_office_worker:"👩&zwj;💼",woman_pilot:"👩&zwj;✈️",woman_playing_handball:"🤾&zwj;♀️",woman_playing_water_polo:"🤽&zwj;♀️",woman_scientist:"👩&zwj;🔬",woman_shrugging:"🤷&zwj;♀️",woman_singer:"👩&zwj;🎤",woman_student:"👩&zwj;🎓",woman_teacher:"👩&zwj;🏫",woman_technologist:"👩&zwj;💻",woman_with_turban:"👳&zwj;♀️",womans_clothes:"👚",womans_hat:"👒",women_wrestling:"🤼&zwj;♀️",womens:"🚺",world_map:"🗺",worried:"😟",wrench:"🔧",writing_hand:"✍️",x:"❌",yellow_heart:"💛",yen:"💴",yin_yang:"☯️",yum:"😋",zap:"⚡️",zipper_mouth_face:"🤐",zzz:"💤",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:`<span style="font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;">S</span>`},n.Converter=function(u){var a={},d=[],i=[],h={},l=_,f={parsed:{},raw:"",format:""};g();function g(){u=u||{};for(var p in c)c.hasOwnProperty(p)&&(a[p]=c[p]);if(typeof u=="object")for(var S in u)u.hasOwnProperty(S)&&(a[S]=u[S]);else throw Error("Converter expects the passed parameter to be an object, but "+typeof u+" was passed instead.");a.extensions&&n.helper.forEach(a.extensions,z)}function z(p,S){if(S=S||null,n.helper.isString(p))if(p=n.helper.stdExtName(p),S=p,n.extensions[p]){console.warn("DEPRECATION WARNING: "+p+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),A(n.extensions[p],p);return}else if(!n.helper.isUndefined(o[p]))p=o[p];else throw Error('Extension "'+p+'" could not be loaded. It was either not found or is not a valid extension.');typeof p=="function"&&(p=p()),n.helper.isArray(p)||(p=[p]);var R=w(p,S);if(!R.valid)throw Error(R.error);for(var K=0;K<p.length;++K){switch(p[K].type){case"lang":d.push(p[K]);break;case"output":i.push(p[K]);break}if(p[K].hasOwnProperty("listeners"))for(var F in p[K].listeners)p[K].listeners.hasOwnProperty(F)&&E(F,p[K].listeners[F])}}function A(p,S){typeof p=="function"&&(p=p(new n.Converter)),n.helper.isArray(p)||(p=[p]);var R=w(p,S);if(!R.valid)throw Error(R.error);for(var K=0;K<p.length;++K)switch(p[K].type){case"lang":d.push(p[K]);break;case"output":i.push(p[K]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function E(p,S){if(!n.helper.isString(p))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof p+" given");if(typeof S!="function")throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof S+" given");h.hasOwnProperty(p)||(h[p]=[]),h[p].push(S)}function M(p){var S=p.match(/^\s*/)[0].length,R=new RegExp("^\\s{0,"+S+"}","gm");return p.replace(R,"")}this._dispatch=function(S,R,K,F){if(h.hasOwnProperty(S))for(var D=0;D<h[S].length;++D){var Y=h[S][D](S,R,this,K,F);Y&&typeof Y<"u"&&(R=Y)}return R},this.listen=function(p,S){return E(p,S),this},this.makeHtml=function(p){if(!p)return p;var S={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:d,outputModifiers:i,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return p=p.replace(/¨/g,"¨T"),p=p.replace(/\$/g,"¨D"),p=p.replace(/\r\n/g,`
`),p=p.replace(/\r/g,`
`),p=p.replace(/\u00A0/g,"&nbsp;"),a.smartIndentationFix&&(p=M(p)),p=`

`+p+`

`,p=n.subParser("detab")(p,a,S),p=p.replace(/^[ \t]+$/mg,""),n.helper.forEach(d,function(R){p=n.subParser("runExtension")(R,p,a,S)}),p=n.subParser("metadata")(p,a,S),p=n.subParser("hashPreCodeTags")(p,a,S),p=n.subParser("githubCodeBlocks")(p,a,S),p=n.subParser("hashHTMLBlocks")(p,a,S),p=n.subParser("hashCodeTags")(p,a,S),p=n.subParser("stripLinkDefinitions")(p,a,S),p=n.subParser("blockGamut")(p,a,S),p=n.subParser("unhashHTMLSpans")(p,a,S),p=n.subParser("unescapeSpecialChars")(p,a,S),p=p.replace(/¨D/g,"$$"),p=p.replace(/¨T/g,"¨"),p=n.subParser("completeHTMLDocument")(p,a,S),n.helper.forEach(i,function(R){p=n.subParser("runExtension")(R,p,a,S)}),f=S.metadata,p},this.makeMarkdown=this.makeMd=function(p,S){if(p=p.replace(/\r\n/g,`
`),p=p.replace(/\r/g,`
`),p=p.replace(/>[ \t]+</,">¨NBSP;<"),!S)if(window&&window.document)S=window.document;else throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");var R=S.createElement("div");R.innerHTML=p;var K={preList:de(R)};ee(R);for(var F=R.childNodes,D="",Y=0;Y<F.length;Y++)D+=n.subParser("makeMarkdown.node")(F[Y],K);function ee(G){for(var X=0;X<G.childNodes.length;++X){var re=G.childNodes[X];re.nodeType===3?!/\S/.test(re.nodeValue)&&!/^[ ]+$/.test(re.nodeValue)?(G.removeChild(re),--X):(re.nodeValue=re.nodeValue.split(`
`).join(" "),re.nodeValue=re.nodeValue.replace(/(\s)+/g,"$1")):re.nodeType===1&&ee(re)}}function de(G){for(var X=G.querySelectorAll("pre"),re=[],ne=0;ne<X.length;++ne)if(X[ne].childElementCount===1&&X[ne].firstChild.tagName.toLowerCase()==="code"){var Ar=X[ne].firstChild.innerHTML.trim(),Mr=X[ne].firstChild.getAttribute("data-language")||"";if(Mr==="")for(var kn=X[ne].firstChild.className.split(" "),zr=0;zr<kn.length;++zr){var Pn=kn[zr].match(/^language-(.+)$/);if(Pn!==null){Mr=Pn[1];break}}Ar=n.helper.unescapeHTMLEntities(Ar),re.push(Ar),X[ne].outerHTML='<precode language="'+Mr+'" precodenum="'+ne.toString()+'"></precode>'}else re.push(X[ne].innerHTML),X[ne].innerHTML="",X[ne].setAttribute("prenum",ne.toString());return re}return D},this.setOption=function(p,S){a[p]=S},this.getOption=function(p){return a[p]},this.getOptions=function(){return a},this.addExtension=function(p,S){S=S||null,z(p,S)},this.useExtension=function(p){z(p)},this.setFlavor=function(p){if(!m.hasOwnProperty(p))throw Error(p+" flavor was not found");var S=m[p];l=p;for(var R in S)S.hasOwnProperty(R)&&(a[R]=S[R])},this.getFlavor=function(){return l},this.removeExtension=function(p){n.helper.isArray(p)||(p=[p]);for(var S=0;S<p.length;++S){for(var R=p[S],K=0;K<d.length;++K)d[K]===R&&d.splice(K,1);for(var F=0;F<i.length;++F)i[F]===R&&i.splice(F,1)}},this.getAllExtensions=function(){return{language:d,output:i}},this.getMetadata=function(p){return p?f.raw:f.parsed},this.getMetadataFormat=function(){return f.format},this._setMetadataPair=function(p,S){f.parsed[p]=S},this._setMetadataFormat=function(p){f.format=p},this._setMetadataRaw=function(p){f.raw=p}},n.subParser("anchors",function(u,a,d){u=d.converter._dispatch("anchors.before",u,a,d);var i=function(h,l,f,g,z,A,E){if(n.helper.isUndefined(E)&&(E=""),f=f.toLowerCase(),h.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)g="";else if(!g)if(f||(f=l.toLowerCase().replace(/ ?\n/g," ")),g="#"+f,!n.helper.isUndefined(d.gUrls[f]))g=d.gUrls[f],n.helper.isUndefined(d.gTitles[f])||(E=d.gTitles[f]);else return h;g=g.replace(n.helper.regexes.asteriskDashAndColon,n.helper.escapeCharactersCallback);var M='<a href="'+g+'"';return E!==""&&E!==null&&(E=E.replace(/"/g,"&quot;"),E=E.replace(n.helper.regexes.asteriskDashAndColon,n.helper.escapeCharactersCallback),M+=' title="'+E+'"'),a.openLinksInNewWindow&&!/^#/.test(g)&&(M+=' rel="noopener noreferrer" target="¨E95Eblank"'),M+=">"+l+"</a>",M};return u=u.replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,i),u=u.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,i),u=u.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,i),u=u.replace(/\[([^\[\]]+)]()()()()()/g,i),a.ghMentions&&(u=u.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gmi,function(h,l,f,g,z){if(f==="\\")return l+g;if(!n.helper.isString(a.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var A=a.ghMentionsLink.replace(/\{u}/g,z),E="";return a.openLinksInNewWindow&&(E=' rel="noopener noreferrer" target="¨E95Eblank"'),l+'<a href="'+A+'"'+E+">"+g+"</a>"})),u=d.converter._dispatch("anchors.after",u,a,d),u});var y=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,P=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,B=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,C=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gmi,T=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,j=function(u){return function(a,d,i,h,l,f,g){i=i.replace(n.helper.regexes.asteriskDashAndColon,n.helper.escapeCharactersCallback);var z=i,A="",E="",M=d||"",p=g||"";return/^www\./i.test(i)&&(i=i.replace(/^www\./i,"http://www.")),u.excludeTrailingPunctuationFromURLs&&f&&(A=f),u.openLinksInNewWindow&&(E=' rel="noopener noreferrer" target="¨E95Eblank"'),M+'<a href="'+i+'"'+E+">"+z+"</a>"+A+p}},k=function(u,a){return function(d,i,h){var l="mailto:";return i=i||"",h=n.subParser("unescapeSpecialChars")(h,u,a),u.encodeEmails?(l=n.helper.encodeEmailAddress(l+h),h=n.helper.encodeEmailAddress(h)):l=l+h,i+'<a href="'+l+'">'+h+"</a>"}};n.subParser("autoLinks",function(u,a,d){return u=d.converter._dispatch("autoLinks.before",u,a,d),u=u.replace(B,j(a)),u=u.replace(T,k(a,d)),u=d.converter._dispatch("autoLinks.after",u,a,d),u}),n.subParser("simplifiedAutoLinks",function(u,a,d){return a.simplifiedAutoLink&&(u=d.converter._dispatch("simplifiedAutoLinks.before",u,a,d),a.excludeTrailingPunctuationFromURLs?u=u.replace(P,j(a)):u=u.replace(y,j(a)),u=u.replace(C,k(a,d)),u=d.converter._dispatch("simplifiedAutoLinks.after",u,a,d)),u}),n.subParser("blockGamut",function(u,a,d){return u=d.converter._dispatch("blockGamut.before",u,a,d),u=n.subParser("blockQuotes")(u,a,d),u=n.subParser("headers")(u,a,d),u=n.subParser("horizontalRule")(u,a,d),u=n.subParser("lists")(u,a,d),u=n.subParser("codeBlocks")(u,a,d),u=n.subParser("tables")(u,a,d),u=n.subParser("hashHTMLBlocks")(u,a,d),u=n.subParser("paragraphs")(u,a,d),u=d.converter._dispatch("blockGamut.after",u,a,d),u}),n.subParser("blockQuotes",function(u,a,d){u=d.converter._dispatch("blockQuotes.before",u,a,d),u=u+`

`;var i=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return a.splitAdjacentBlockquotes&&(i=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),u=u.replace(i,function(h){return h=h.replace(/^[ \t]*>[ \t]?/gm,""),h=h.replace(/¨0/g,""),h=h.replace(/^[ \t]+$/gm,""),h=n.subParser("githubCodeBlocks")(h,a,d),h=n.subParser("blockGamut")(h,a,d),h=h.replace(/(^|\n)/g,"$1  "),h=h.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(l,f){var g=f;return g=g.replace(/^  /mg,"¨0"),g=g.replace(/¨0/g,""),g}),n.subParser("hashBlock")(`<blockquote>
`+h+`
</blockquote>`,a,d)}),u=d.converter._dispatch("blockQuotes.after",u,a,d),u}),n.subParser("codeBlocks",function(u,a,d){u=d.converter._dispatch("codeBlocks.before",u,a,d),u+="¨0";var i=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=¨0))/g;return u=u.replace(i,function(h,l,f){var g=l,z=f,A=`
`;return g=n.subParser("outdent")(g,a,d),g=n.subParser("encodeCode")(g,a,d),g=n.subParser("detab")(g,a,d),g=g.replace(/^\n+/g,""),g=g.replace(/\n+$/g,""),a.omitExtraWLInCodeBlocks&&(A=""),g="<pre><code>"+g+A+"</code></pre>",n.subParser("hashBlock")(g,a,d)+z}),u=u.replace(/¨0/,""),u=d.converter._dispatch("codeBlocks.after",u,a,d),u}),n.subParser("codeSpans",function(u,a,d){return u=d.converter._dispatch("codeSpans.before",u,a,d),typeof u>"u"&&(u=""),u=u.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(i,h,l,f){var g=f;return g=g.replace(/^([ \t]*)/g,""),g=g.replace(/[ \t]*$/g,""),g=n.subParser("encodeCode")(g,a,d),g=h+"<code>"+g+"</code>",g=n.subParser("hashHTMLSpans")(g,a,d),g}),u=d.converter._dispatch("codeSpans.after",u,a,d),u}),n.subParser("completeHTMLDocument",function(u,a,d){if(!a.completeHTMLDocument)return u;u=d.converter._dispatch("completeHTMLDocument.before",u,a,d);var i="html",h=`<!DOCTYPE HTML>
`,l="",f=`<meta charset="utf-8">
`,g="",z="";typeof d.metadata.parsed.doctype<"u"&&(h="<!DOCTYPE "+d.metadata.parsed.doctype+`>
`,i=d.metadata.parsed.doctype.toString().toLowerCase(),(i==="html"||i==="html5")&&(f='<meta charset="utf-8">'));for(var A in d.metadata.parsed)if(d.metadata.parsed.hasOwnProperty(A))switch(A.toLowerCase()){case"doctype":break;case"title":l="<title>"+d.metadata.parsed.title+`</title>
`;break;case"charset":i==="html"||i==="html5"?f='<meta charset="'+d.metadata.parsed.charset+`">
`:f='<meta name="charset" content="'+d.metadata.parsed.charset+`">
`;break;case"language":case"lang":g=' lang="'+d.metadata.parsed[A]+'"',z+='<meta name="'+A+'" content="'+d.metadata.parsed[A]+`">
`;break;default:z+='<meta name="'+A+'" content="'+d.metadata.parsed[A]+`">
`}return u=h+"<html"+g+`>
<head>
`+l+f+z+`</head>
<body>
`+u.trim()+`
</body>
</html>`,u=d.converter._dispatch("completeHTMLDocument.after",u,a,d),u}),n.subParser("detab",function(u,a,d){return u=d.converter._dispatch("detab.before",u,a,d),u=u.replace(/\t(?=\t)/g,"    "),u=u.replace(/\t/g,"¨A¨B"),u=u.replace(/¨B(.+?)¨A/g,function(i,h){for(var l=h,f=4-l.length%4,g=0;g<f;g++)l+=" ";return l}),u=u.replace(/¨A/g,"    "),u=u.replace(/¨B/g,""),u=d.converter._dispatch("detab.after",u,a,d),u}),n.subParser("ellipsis",function(u,a,d){return a.ellipsis&&(u=d.converter._dispatch("ellipsis.before",u,a,d),u=u.replace(/\.\.\./g,"…"),u=d.converter._dispatch("ellipsis.after",u,a,d)),u}),n.subParser("emoji",function(u,a,d){if(!a.emoji)return u;u=d.converter._dispatch("emoji.before",u,a,d);var i=/:([\S]+?):/g;return u=u.replace(i,function(h,l){return n.helper.emojis.hasOwnProperty(l)?n.helper.emojis[l]:h}),u=d.converter._dispatch("emoji.after",u,a,d),u}),n.subParser("encodeAmpsAndAngles",function(u,a,d){return u=d.converter._dispatch("encodeAmpsAndAngles.before",u,a,d),u=u.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),u=u.replace(/<(?![a-z\/?$!])/gi,"&lt;"),u=u.replace(/</g,"&lt;"),u=u.replace(/>/g,"&gt;"),u=d.converter._dispatch("encodeAmpsAndAngles.after",u,a,d),u}),n.subParser("encodeBackslashEscapes",function(u,a,d){return u=d.converter._dispatch("encodeBackslashEscapes.before",u,a,d),u=u.replace(/\\(\\)/g,n.helper.escapeCharactersCallback),u=u.replace(/\\([`*_{}\[\]()>#+.!~=|:-])/g,n.helper.escapeCharactersCallback),u=d.converter._dispatch("encodeBackslashEscapes.after",u,a,d),u}),n.subParser("encodeCode",function(u,a,d){return u=d.converter._dispatch("encodeCode.before",u,a,d),u=u.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,n.helper.escapeCharactersCallback),u=d.converter._dispatch("encodeCode.after",u,a,d),u}),n.subParser("escapeSpecialCharsWithinTagAttributes",function(u,a,d){u=d.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",u,a,d);var i=/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,h=/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;return u=u.replace(i,function(l){return l.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,n.helper.escapeCharactersCallback)}),u=u.replace(h,function(l){return l.replace(/([\\`*_~=|])/g,n.helper.escapeCharactersCallback)}),u=d.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",u,a,d),u}),n.subParser("githubCodeBlocks",function(u,a,d){return a.ghCodeBlocks?(u=d.converter._dispatch("githubCodeBlocks.before",u,a,d),u+="¨0",u=u.replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(i,h,l,f){var g=a.omitExtraWLInCodeBlocks?"":`
`;return f=n.subParser("encodeCode")(f,a,d),f=n.subParser("detab")(f,a,d),f=f.replace(/^\n+/g,""),f=f.replace(/\n+$/g,""),f="<pre><code"+(l?' class="'+l+" language-"+l+'"':"")+">"+f+g+"</code></pre>",f=n.subParser("hashBlock")(f,a,d),`

¨G`+(d.ghCodeBlocks.push({text:i,codeblock:f})-1)+`G

`}),u=u.replace(/¨0/,""),d.converter._dispatch("githubCodeBlocks.after",u,a,d)):u}),n.subParser("hashBlock",function(u,a,d){return u=d.converter._dispatch("hashBlock.before",u,a,d),u=u.replace(/(^\n+|\n+$)/g,""),u=`

¨K`+(d.gHtmlBlocks.push(u)-1)+`K

`,u=d.converter._dispatch("hashBlock.after",u,a,d),u}),n.subParser("hashCodeTags",function(u,a,d){u=d.converter._dispatch("hashCodeTags.before",u,a,d);var i=function(h,l,f,g){var z=f+n.subParser("encodeCode")(l,a,d)+g;return"¨C"+(d.gHtmlSpans.push(z)-1)+"C"};return u=n.helper.replaceRecursiveRegExp(u,i,"<code\\b[^>]*>","</code>","gim"),u=d.converter._dispatch("hashCodeTags.after",u,a,d),u}),n.subParser("hashElement",function(u,a,d){return function(i,h){var l=h;return l=l.replace(/\n\n/g,`
`),l=l.replace(/^\n/,""),l=l.replace(/\n+$/g,""),l=`

¨K`+(d.gHtmlBlocks.push(l)-1)+`K

`,l}}),n.subParser("hashHTMLBlocks",function(u,a,d){u=d.converter._dispatch("hashHTMLBlocks.before",u,a,d);var i=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],h=function(p,S,R,K){var F=p;return R.search(/\bmarkdown\b/)!==-1&&(F=R+d.converter.makeHtml(S)+K),`

¨K`+(d.gHtmlBlocks.push(F)-1)+`K

`};a.backslashEscapesHTMLTags&&(u=u.replace(/\\<(\/?[^>]+?)>/g,function(p,S){return"&lt;"+S+"&gt;"}));for(var l=0;l<i.length;++l)for(var f,g=new RegExp("^ {0,3}(<"+i[l]+"\\b[^>]*>)","im"),z="<"+i[l]+"\\b[^>]*>",A="</"+i[l]+">";(f=n.helper.regexIndexOf(u,g))!==-1;){var E=n.helper.splitAtIndex(u,f),M=n.helper.replaceRecursiveRegExp(E[1],h,z,A,"im");if(M===E[1])break;u=E[0].concat(M)}return u=u.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,n.subParser("hashElement")(u,a,d)),u=n.helper.replaceRecursiveRegExp(u,function(p){return`

¨K`+(d.gHtmlBlocks.push(p)-1)+`K

`},"^ {0,3}<!--","-->","gm"),u=u.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,n.subParser("hashElement")(u,a,d)),u=d.converter._dispatch("hashHTMLBlocks.after",u,a,d),u}),n.subParser("hashHTMLSpans",function(u,a,d){u=d.converter._dispatch("hashHTMLSpans.before",u,a,d);function i(h){return"¨C"+(d.gHtmlSpans.push(h)-1)+"C"}return u=u.replace(/<[^>]+?\/>/gi,function(h){return i(h)}),u=u.replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(h){return i(h)}),u=u.replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(h){return i(h)}),u=u.replace(/<[^>]+?>/gi,function(h){return i(h)}),u=d.converter._dispatch("hashHTMLSpans.after",u,a,d),u}),n.subParser("unhashHTMLSpans",function(u,a,d){u=d.converter._dispatch("unhashHTMLSpans.before",u,a,d);for(var i=0;i<d.gHtmlSpans.length;++i){for(var h=d.gHtmlSpans[i],l=0;/¨C(\d+)C/.test(h);){var f=RegExp.$1;if(h=h.replace("¨C"+f+"C",d.gHtmlSpans[f]),l===10){console.error("maximum nesting of 10 spans reached!!!");break}++l}u=u.replace("¨C"+i+"C",h)}return u=d.converter._dispatch("unhashHTMLSpans.after",u,a,d),u}),n.subParser("hashPreCodeTags",function(u,a,d){u=d.converter._dispatch("hashPreCodeTags.before",u,a,d);var i=function(h,l,f,g){var z=f+n.subParser("encodeCode")(l,a,d)+g;return`

¨G`+(d.ghCodeBlocks.push({text:h,codeblock:z})-1)+`G

`};return u=n.helper.replaceRecursiveRegExp(u,i,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),u=d.converter._dispatch("hashPreCodeTags.after",u,a,d),u}),n.subParser("headers",function(u,a,d){u=d.converter._dispatch("headers.before",u,a,d);var i=isNaN(parseInt(a.headerLevelStart))?1:parseInt(a.headerLevelStart),h=a.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,l=a.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;u=u.replace(h,function(z,A){var E=n.subParser("spanGamut")(A,a,d),M=a.noHeaderId?"":' id="'+g(A)+'"',p=i,S="<h"+p+M+">"+E+"</h"+p+">";return n.subParser("hashBlock")(S,a,d)}),u=u.replace(l,function(z,A){var E=n.subParser("spanGamut")(A,a,d),M=a.noHeaderId?"":' id="'+g(A)+'"',p=i+1,S="<h"+p+M+">"+E+"</h"+p+">";return n.subParser("hashBlock")(S,a,d)});var f=a.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;u=u.replace(f,function(z,A,E){var M=E;a.customizedHeaderId&&(M=E.replace(/\s?\{([^{]+?)}\s*$/,""));var p=n.subParser("spanGamut")(M,a,d),S=a.noHeaderId?"":' id="'+g(E)+'"',R=i-1+A.length,K="<h"+R+S+">"+p+"</h"+R+">";return n.subParser("hashBlock")(K,a,d)});function g(z){var A,E;if(a.customizedHeaderId){var M=z.match(/\{([^{]+?)}\s*$/);M&&M[1]&&(z=M[1])}return A=z,n.helper.isString(a.prefixHeaderId)?E=a.prefixHeaderId:a.prefixHeaderId===!0?E="section-":E="",a.rawPrefixHeaderId||(A=E+A),a.ghCompatibleHeaderId?A=A.replace(/ /g,"-").replace(/&amp;/g,"").replace(/¨T/g,"").replace(/¨D/g,"").replace(/[&+$,\/:;=?@"#{}|^¨~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():a.rawHeaderId?A=A.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/¨T/g,"¨").replace(/¨D/g,"$").replace(/["']/g,"-").toLowerCase():A=A.replace(/[^\w]/g,"").toLowerCase(),a.rawPrefixHeaderId&&(A=E+A),d.hashLinkCounts[A]?A=A+"-"+d.hashLinkCounts[A]++:d.hashLinkCounts[A]=1,A}return u=d.converter._dispatch("headers.after",u,a,d),u}),n.subParser("horizontalRule",function(u,a,d){u=d.converter._dispatch("horizontalRule.before",u,a,d);var i=n.subParser("hashBlock")("<hr />",a,d);return u=u.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,i),u=u.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,i),u=u.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,i),u=d.converter._dispatch("horizontalRule.after",u,a,d),u}),n.subParser("images",function(u,a,d){u=d.converter._dispatch("images.before",u,a,d);var i=/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,h=/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,l=/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,f=/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,g=/!\[([^\[\]]+)]()()()()()/g;function z(E,M,p,S,R,K,F,D){return S=S.replace(/\s/g,""),A(E,M,p,S,R,K,F,D)}function A(E,M,p,S,R,K,F,D){var Y=d.gUrls,ee=d.gTitles,de=d.gDimensions;if(p=p.toLowerCase(),D||(D=""),E.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)S="";else if(S===""||S===null)if((p===""||p===null)&&(p=M.toLowerCase().replace(/ ?\n/g," ")),S="#"+p,!n.helper.isUndefined(Y[p]))S=Y[p],n.helper.isUndefined(ee[p])||(D=ee[p]),n.helper.isUndefined(de[p])||(R=de[p].width,K=de[p].height);else return E;M=M.replace(/"/g,"&quot;").replace(n.helper.regexes.asteriskDashAndColon,n.helper.escapeCharactersCallback),S=S.replace(n.helper.regexes.asteriskDashAndColon,n.helper.escapeCharactersCallback);var G='<img src="'+S+'" alt="'+M+'"';return D&&n.helper.isString(D)&&(D=D.replace(/"/g,"&quot;").replace(n.helper.regexes.asteriskDashAndColon,n.helper.escapeCharactersCallback),G+=' title="'+D+'"'),R&&K&&(R=R==="*"?"auto":R,K=K==="*"?"auto":K,G+=' width="'+R+'"',G+=' height="'+K+'"'),G+=" />",G}return u=u.replace(f,A),u=u.replace(l,z),u=u.replace(h,A),u=u.replace(i,A),u=u.replace(g,A),u=d.converter._dispatch("images.after",u,a,d),u}),n.subParser("italicsAndBold",function(u,a,d){u=d.converter._dispatch("italicsAndBold.before",u,a,d);function i(h,l,f){return l+h+f}return a.literalMidWordUnderscores?(u=u.replace(/\b___(\S[\s\S]*?)___\b/g,function(h,l){return i(l,"<strong><em>","</em></strong>")}),u=u.replace(/\b__(\S[\s\S]*?)__\b/g,function(h,l){return i(l,"<strong>","</strong>")}),u=u.replace(/\b_(\S[\s\S]*?)_\b/g,function(h,l){return i(l,"<em>","</em>")})):(u=u.replace(/___(\S[\s\S]*?)___/g,function(h,l){return/\S$/.test(l)?i(l,"<strong><em>","</em></strong>"):h}),u=u.replace(/__(\S[\s\S]*?)__/g,function(h,l){return/\S$/.test(l)?i(l,"<strong>","</strong>"):h}),u=u.replace(/_([^\s_][\s\S]*?)_/g,function(h,l){return/\S$/.test(l)?i(l,"<em>","</em>"):h})),a.literalMidWordAsterisks?(u=u.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(h,l,f){return i(f,l+"<strong><em>","</em></strong>")}),u=u.replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(h,l,f){return i(f,l+"<strong>","</strong>")}),u=u.replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(h,l,f){return i(f,l+"<em>","</em>")})):(u=u.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(h,l){return/\S$/.test(l)?i(l,"<strong><em>","</em></strong>"):h}),u=u.replace(/\*\*(\S[\s\S]*?)\*\*/g,function(h,l){return/\S$/.test(l)?i(l,"<strong>","</strong>"):h}),u=u.replace(/\*([^\s*][\s\S]*?)\*/g,function(h,l){return/\S$/.test(l)?i(l,"<em>","</em>"):h})),u=d.converter._dispatch("italicsAndBold.after",u,a,d),u}),n.subParser("lists",function(u,a,d){function i(f,g){d.gListLevel++,f=f.replace(/\n{2,}$/,`
`),f+="¨0";var z=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,A=/\n[ \t]*\n(?!¨0)/.test(f);return a.disableForced4SpacesIndentedSublists&&(z=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0|\2([*+-]|\d+[.])[ \t]+))/gm),f=f.replace(z,function(E,M,p,S,R,K,F){F=F&&F.trim()!=="";var D=n.subParser("outdent")(R,a,d),Y="";return K&&a.tasklists&&(Y=' class="task-list-item" style="list-style-type: none;"',D=D.replace(/^[ \t]*\[(x|X| )?]/m,function(){var ee='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return F&&(ee+=" checked"),ee+=">",ee})),D=D.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(ee){return"¨A"+ee}),M||D.search(/\n{2,}/)>-1?(D=n.subParser("githubCodeBlocks")(D,a,d),D=n.subParser("blockGamut")(D,a,d)):(D=n.subParser("lists")(D,a,d),D=D.replace(/\n$/,""),D=n.subParser("hashHTMLBlocks")(D,a,d),D=D.replace(/\n\n+/g,`

`),A?D=n.subParser("paragraphs")(D,a,d):D=n.subParser("spanGamut")(D,a,d)),D=D.replace("¨A",""),D="<li"+Y+">"+D+`</li>
`,D}),f=f.replace(/¨0/g,""),d.gListLevel--,g&&(f=f.replace(/\s+$/,"")),f}function h(f,g){if(g==="ol"){var z=f.match(/^ *(\d+)\./);if(z&&z[1]!=="1")return' start="'+z[1]+'"'}return""}function l(f,g,z){var A=a.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,E=a.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,M=g==="ul"?A:E,p="";if(f.search(M)!==-1)(function R(K){var F=K.search(M),D=h(f,g);F!==-1?(p+=`

<`+g+D+`>
`+i(K.slice(0,F),!!z)+"</"+g+`>
`,g=g==="ul"?"ol":"ul",M=g==="ul"?A:E,R(K.slice(F))):p+=`

<`+g+D+`>
`+i(K,!!z)+"</"+g+`>
`})(f);else{var S=h(f,g);p=`

<`+g+S+`>
`+i(f,!!z)+"</"+g+`>
`}return p}return u=d.converter._dispatch("lists.before",u,a,d),u+="¨0",d.gListLevel?u=u.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(f,g,z){var A=z.search(/[*+-]/g)>-1?"ul":"ol";return l(g,A,!0)}):u=u.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(f,g,z,A){var E=A.search(/[*+-]/g)>-1?"ul":"ol";return l(z,E,!1)}),u=u.replace(/¨0/,""),u=d.converter._dispatch("lists.after",u,a,d),u}),n.subParser("metadata",function(u,a,d){if(!a.metadata)return u;u=d.converter._dispatch("metadata.before",u,a,d);function i(h){d.metadata.raw=h,h=h.replace(/&/g,"&amp;").replace(/"/g,"&quot;"),h=h.replace(/\n {4}/g," "),h.replace(/^([\S ]+): +([\s\S]+?)$/gm,function(l,f,g){return d.metadata.parsed[f]=g,""})}return u=u.replace(/^\s*«««+(\S*?)\n([\s\S]+?)\n»»»+\n/,function(h,l,f){return i(f),"¨M"}),u=u.replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(h,l,f){return l&&(d.metadata.format=l),i(f),"¨M"}),u=u.replace(/¨M/g,""),u=d.converter._dispatch("metadata.after",u,a,d),u}),n.subParser("outdent",function(u,a,d){return u=d.converter._dispatch("outdent.before",u,a,d),u=u.replace(/^(\t|[ ]{1,4})/gm,"¨0"),u=u.replace(/¨0/g,""),u=d.converter._dispatch("outdent.after",u,a,d),u}),n.subParser("paragraphs",function(u,a,d){u=d.converter._dispatch("paragraphs.before",u,a,d),u=u.replace(/^\n+/g,""),u=u.replace(/\n+$/g,"");for(var i=u.split(/\n{2,}/g),h=[],l=i.length,f=0;f<l;f++){var g=i[f];g.search(/¨(K|G)(\d+)\1/g)>=0?h.push(g):g.search(/\S/)>=0&&(g=n.subParser("spanGamut")(g,a,d),g=g.replace(/^([ \t]*)/g,"<p>"),g+="</p>",h.push(g))}for(l=h.length,f=0;f<l;f++){for(var z="",A=h[f],E=!1;/¨(K|G)(\d+)\1/.test(A);){var M=RegExp.$1,p=RegExp.$2;M==="K"?z=d.gHtmlBlocks[p]:E?z=n.subParser("encodeCode")(d.ghCodeBlocks[p].text,a,d):z=d.ghCodeBlocks[p].codeblock,z=z.replace(/\$/g,"$$$$"),A=A.replace(/(\n\n)?¨(K|G)\d+\2(\n\n)?/,z),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(A)&&(E=!0)}h[f]=A}return u=h.join(`
`),u=u.replace(/^\n+/g,""),u=u.replace(/\n+$/g,""),d.converter._dispatch("paragraphs.after",u,a,d)}),n.subParser("runExtension",function(u,a,d,i){if(u.filter)a=u.filter(a,i.converter,d);else if(u.regex){var h=u.regex;h instanceof RegExp||(h=new RegExp(h,"g")),a=a.replace(h,u.replace)}return a}),n.subParser("spanGamut",function(u,a,d){return u=d.converter._dispatch("spanGamut.before",u,a,d),u=n.subParser("codeSpans")(u,a,d),u=n.subParser("escapeSpecialCharsWithinTagAttributes")(u,a,d),u=n.subParser("encodeBackslashEscapes")(u,a,d),u=n.subParser("images")(u,a,d),u=n.subParser("anchors")(u,a,d),u=n.subParser("autoLinks")(u,a,d),u=n.subParser("simplifiedAutoLinks")(u,a,d),u=n.subParser("emoji")(u,a,d),u=n.subParser("underline")(u,a,d),u=n.subParser("italicsAndBold")(u,a,d),u=n.subParser("strikethrough")(u,a,d),u=n.subParser("ellipsis")(u,a,d),u=n.subParser("hashHTMLSpans")(u,a,d),u=n.subParser("encodeAmpsAndAngles")(u,a,d),a.simpleLineBreaks?/\n\n¨K/.test(u)||(u=u.replace(/\n+/g,`<br />
`)):u=u.replace(/  +\n/g,`<br />
`),u=d.converter._dispatch("spanGamut.after",u,a,d),u}),n.subParser("strikethrough",function(u,a,d){function i(h){return a.simplifiedAutoLink&&(h=n.subParser("simplifiedAutoLinks")(h,a,d)),"<del>"+h+"</del>"}return a.strikethrough&&(u=d.converter._dispatch("strikethrough.before",u,a,d),u=u.replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(h,l){return i(l)}),u=d.converter._dispatch("strikethrough.after",u,a,d)),u}),n.subParser("stripLinkDefinitions",function(u,a,d){var i=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=¨0))/gm,h=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=¨0)|(?=\n\[))/gm;u+="¨0";var l=function(f,g,z,A,E,M,p){return g=g.toLowerCase(),u.toLowerCase().split(g).length-1<2?f:(z.match(/^data:.+?\/.+?;base64,/)?d.gUrls[g]=z.replace(/\s/g,""):d.gUrls[g]=n.subParser("encodeAmpsAndAngles")(z,a,d),M?M+p:(p&&(d.gTitles[g]=p.replace(/"|'/g,"&quot;")),a.parseImgDimensions&&A&&E&&(d.gDimensions[g]={width:A,height:E}),""))};return u=u.replace(h,l),u=u.replace(i,l),u=u.replace(/¨0/,""),u}),n.subParser("tables",function(u,a,d){if(!a.tables)return u;var i=/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|¨0)/gm,h=/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|¨0)/gm;function l(E){return/^:[ \t]*--*$/.test(E)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(E)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(E)?' style="text-align:center;"':""}function f(E,M){var p="";return E=E.trim(),(a.tablesHeaderId||a.tableHeaderId)&&(p=' id="'+E.replace(/ /g,"_").toLowerCase()+'"'),E=n.subParser("spanGamut")(E,a,d),"<th"+p+M+">"+E+`</th>
`}function g(E,M){var p=n.subParser("spanGamut")(E,a,d);return"<td"+M+">"+p+`</td>
`}function z(E,M){for(var p=`<table>
<thead>
<tr>
`,S=E.length,R=0;R<S;++R)p+=E[R];for(p+=`</tr>
</thead>
<tbody>
`,R=0;R<M.length;++R){p+=`<tr>
`;for(var K=0;K<S;++K)p+=M[R][K];p+=`</tr>
`}return p+=`</tbody>
</table>
`,p}function A(E){var M,p=E.split(`
`);for(M=0;M<p.length;++M)/^ {0,3}\|/.test(p[M])&&(p[M]=p[M].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(p[M])&&(p[M]=p[M].replace(/\|[ \t]*$/,"")),p[M]=n.subParser("codeSpans")(p[M],a,d);var S=p[0].split("|").map(function(G){return G.trim()}),R=p[1].split("|").map(function(G){return G.trim()}),K=[],F=[],D=[],Y=[];for(p.shift(),p.shift(),M=0;M<p.length;++M)p[M].trim()!==""&&K.push(p[M].split("|").map(function(G){return G.trim()}));if(S.length<R.length)return E;for(M=0;M<R.length;++M)D.push(l(R[M]));for(M=0;M<S.length;++M)n.helper.isUndefined(D[M])&&(D[M]=""),F.push(f(S[M],D[M]));for(M=0;M<K.length;++M){for(var ee=[],de=0;de<F.length;++de)n.helper.isUndefined(K[M][de]),ee.push(g(K[M][de],D[de]));Y.push(ee)}return z(F,Y)}return u=d.converter._dispatch("tables.before",u,a,d),u=u.replace(/\\(\|)/g,n.helper.escapeCharactersCallback),u=u.replace(i,A),u=u.replace(h,A),u=d.converter._dispatch("tables.after",u,a,d),u}),n.subParser("underline",function(u,a,d){return a.underline&&(u=d.converter._dispatch("underline.before",u,a,d),a.literalMidWordUnderscores?(u=u.replace(/\b___(\S[\s\S]*?)___\b/g,function(i,h){return"<u>"+h+"</u>"}),u=u.replace(/\b__(\S[\s\S]*?)__\b/g,function(i,h){return"<u>"+h+"</u>"})):(u=u.replace(/___(\S[\s\S]*?)___/g,function(i,h){return/\S$/.test(h)?"<u>"+h+"</u>":i}),u=u.replace(/__(\S[\s\S]*?)__/g,function(i,h){return/\S$/.test(h)?"<u>"+h+"</u>":i})),u=u.replace(/(_)/g,n.helper.escapeCharactersCallback),u=d.converter._dispatch("underline.after",u,a,d)),u}),n.subParser("unescapeSpecialChars",function(u,a,d){return u=d.converter._dispatch("unescapeSpecialChars.before",u,a,d),u=u.replace(/¨E(\d+)E/g,function(i,h){var l=parseInt(h);return String.fromCharCode(l)}),u=d.converter._dispatch("unescapeSpecialChars.after",u,a,d),u}),n.subParser("makeMarkdown.blockquote",function(u,a){var d="";if(u.hasChildNodes())for(var i=u.childNodes,h=i.length,l=0;l<h;++l){var f=n.subParser("makeMarkdown.node")(i[l],a);f!==""&&(d+=f)}return d=d.trim(),d="> "+d.split(`
`).join(`
> `),d}),n.subParser("makeMarkdown.codeBlock",function(u,a){var d=u.getAttribute("language"),i=u.getAttribute("precodenum");return"```"+d+`
`+a.preList[i]+"\n```"}),n.subParser("makeMarkdown.codeSpan",function(u){return"`"+u.innerHTML+"`"}),n.subParser("makeMarkdown.emphasis",function(u,a){var d="";if(u.hasChildNodes()){d+="*";for(var i=u.childNodes,h=i.length,l=0;l<h;++l)d+=n.subParser("makeMarkdown.node")(i[l],a);d+="*"}return d}),n.subParser("makeMarkdown.header",function(u,a,d){var i=new Array(d+1).join("#"),h="";if(u.hasChildNodes()){h=i+" ";for(var l=u.childNodes,f=l.length,g=0;g<f;++g)h+=n.subParser("makeMarkdown.node")(l[g],a)}return h}),n.subParser("makeMarkdown.hr",function(){return"---"}),n.subParser("makeMarkdown.image",function(u){var a="";return u.hasAttribute("src")&&(a+="!["+u.getAttribute("alt")+"](",a+="<"+u.getAttribute("src")+">",u.hasAttribute("width")&&u.hasAttribute("height")&&(a+=" ="+u.getAttribute("width")+"x"+u.getAttribute("height")),u.hasAttribute("title")&&(a+=' "'+u.getAttribute("title")+'"'),a+=")"),a}),n.subParser("makeMarkdown.links",function(u,a){var d="";if(u.hasChildNodes()&&u.hasAttribute("href")){var i=u.childNodes,h=i.length;d="[";for(var l=0;l<h;++l)d+=n.subParser("makeMarkdown.node")(i[l],a);d+="](",d+="<"+u.getAttribute("href")+">",u.hasAttribute("title")&&(d+=' "'+u.getAttribute("title")+'"'),d+=")"}return d}),n.subParser("makeMarkdown.list",function(u,a,d){var i="";if(!u.hasChildNodes())return"";for(var h=u.childNodes,l=h.length,f=u.getAttribute("start")||1,g=0;g<l;++g)if(!(typeof h[g].tagName>"u"||h[g].tagName.toLowerCase()!=="li")){var z="";d==="ol"?z=f.toString()+". ":z="- ",i+=z+n.subParser("makeMarkdown.listItem")(h[g],a),++f}return i+=`
<!-- -->
`,i.trim()}),n.subParser("makeMarkdown.listItem",function(u,a){for(var d="",i=u.childNodes,h=i.length,l=0;l<h;++l)d+=n.subParser("makeMarkdown.node")(i[l],a);return/\n$/.test(d)?d=d.split(`
`).join(`
    `).replace(/^ {4}$/gm,"").replace(/\n\n+/g,`

`):d+=`
`,d}),n.subParser("makeMarkdown.node",function(u,a,d){d=d||!1;var i="";if(u.nodeType===3)return n.subParser("makeMarkdown.txt")(u,a);if(u.nodeType===8)return"<!--"+u.data+`-->

`;if(u.nodeType!==1)return"";var h=u.tagName.toLowerCase();switch(h){case"h1":d||(i=n.subParser("makeMarkdown.header")(u,a,1)+`

`);break;case"h2":d||(i=n.subParser("makeMarkdown.header")(u,a,2)+`

`);break;case"h3":d||(i=n.subParser("makeMarkdown.header")(u,a,3)+`

`);break;case"h4":d||(i=n.subParser("makeMarkdown.header")(u,a,4)+`

`);break;case"h5":d||(i=n.subParser("makeMarkdown.header")(u,a,5)+`

`);break;case"h6":d||(i=n.subParser("makeMarkdown.header")(u,a,6)+`

`);break;case"p":d||(i=n.subParser("makeMarkdown.paragraph")(u,a)+`

`);break;case"blockquote":d||(i=n.subParser("makeMarkdown.blockquote")(u,a)+`

`);break;case"hr":d||(i=n.subParser("makeMarkdown.hr")(u,a)+`

`);break;case"ol":d||(i=n.subParser("makeMarkdown.list")(u,a,"ol")+`

`);break;case"ul":d||(i=n.subParser("makeMarkdown.list")(u,a,"ul")+`

`);break;case"precode":d||(i=n.subParser("makeMarkdown.codeBlock")(u,a)+`

`);break;case"pre":d||(i=n.subParser("makeMarkdown.pre")(u,a)+`

`);break;case"table":d||(i=n.subParser("makeMarkdown.table")(u,a)+`

`);break;case"code":i=n.subParser("makeMarkdown.codeSpan")(u,a);break;case"em":case"i":i=n.subParser("makeMarkdown.emphasis")(u,a);break;case"strong":case"b":i=n.subParser("makeMarkdown.strong")(u,a);break;case"del":i=n.subParser("makeMarkdown.strikethrough")(u,a);break;case"a":i=n.subParser("makeMarkdown.links")(u,a);break;case"img":i=n.subParser("makeMarkdown.image")(u,a);break;default:i=u.outerHTML+`

`}return i}),n.subParser("makeMarkdown.paragraph",function(u,a){var d="";if(u.hasChildNodes())for(var i=u.childNodes,h=i.length,l=0;l<h;++l)d+=n.subParser("makeMarkdown.node")(i[l],a);return d=d.trim(),d}),n.subParser("makeMarkdown.pre",function(u,a){var d=u.getAttribute("prenum");return"<pre>"+a.preList[d]+"</pre>"}),n.subParser("makeMarkdown.strikethrough",function(u,a){var d="";if(u.hasChildNodes()){d+="~~";for(var i=u.childNodes,h=i.length,l=0;l<h;++l)d+=n.subParser("makeMarkdown.node")(i[l],a);d+="~~"}return d}),n.subParser("makeMarkdown.strong",function(u,a){var d="";if(u.hasChildNodes()){d+="**";for(var i=u.childNodes,h=i.length,l=0;l<h;++l)d+=n.subParser("makeMarkdown.node")(i[l],a);d+="**"}return d}),n.subParser("makeMarkdown.table",function(u,a){var d="",i=[[],[]],h=u.querySelectorAll("thead>tr>th"),l=u.querySelectorAll("tbody>tr"),f,g;for(f=0;f<h.length;++f){var z=n.subParser("makeMarkdown.tableCell")(h[f],a),A="---";if(h[f].hasAttribute("style")){var E=h[f].getAttribute("style").toLowerCase().replace(/\s/g,"");switch(E){case"text-align:left;":A=":---";break;case"text-align:right;":A="---:";break;case"text-align:center;":A=":---:";break}}i[0][f]=z.trim(),i[1][f]=A}for(f=0;f<l.length;++f){var M=i.push([])-1,p=l[f].getElementsByTagName("td");for(g=0;g<h.length;++g){var S=" ";typeof p[g]<"u"&&(S=n.subParser("makeMarkdown.tableCell")(p[g],a)),i[M].push(S)}}var R=3;for(f=0;f<i.length;++f)for(g=0;g<i[f].length;++g){var K=i[f][g].length;K>R&&(R=K)}for(f=0;f<i.length;++f){for(g=0;g<i[f].length;++g)f===1?i[f][g].slice(-1)===":"?i[f][g]=n.helper.padEnd(i[f][g].slice(-1),R-1,"-")+":":i[f][g]=n.helper.padEnd(i[f][g],R,"-"):i[f][g]=n.helper.padEnd(i[f][g],R);d+="| "+i[f].join(" | ")+` |
`}return d.trim()}),n.subParser("makeMarkdown.tableCell",function(u,a){var d="";if(!u.hasChildNodes())return"";for(var i=u.childNodes,h=i.length,l=0;l<h;++l)d+=n.subParser("makeMarkdown.node")(i[l],a,!0);return d.trim()}),n.subParser("makeMarkdown.txt",function(u){var a=u.nodeValue;return a=a.replace(/ +/g," "),a=a.replace(/¨NBSP;/g," "),a=n.helper.unescapeHTMLEntities(a),a=a.replace(/([*_~|`])/g,"\\$1"),a=a.replace(/^(\s*)>/g,"\\$1>"),a=a.replace(/^#/gm,"\\#"),a=a.replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3"),a=a.replace(/^( {0,3}\d+)\./gm,"$1\\."),a=a.replace(/^( {0,3})([+-])/gm,"$1\\$2"),a=a.replace(/]([\s]*)\(/g,"\\]$1\\("),a=a.replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:"),a});var O=this;r.exports?r.exports=n:O.showdown=n}).call(ct)})(pu);var ft=pu.exports;const pt=lt(ft);export{Ie as X,pt as s,dt as t,ht as v};
