import{c as y,b as f,e as bo,F as ae,f as Ne,n as Fe,g as It,j as kn,k as $l,l as Ll,r as yt,m as V,p as i,q as ue,v as Ee,u as k,x as ye,y as Tt,z as li,A as qn,B as Q,C as _e,D as bt,E as Te,T as Zn,o as wi,G as di,d as Ts,h as Wo,H as kl,I as co,J as un,N as $t,K as Mn,L as dt,M as Kn,O as cn,P as pn,Q as Vo,R as Ci,S as An,U as ui,V as Gn,W as xl,X as Yn,Y as Hl,Z as as,_ as Es,$ as $i,a0 as Al,a1 as Vl,a2 as Ml,a3 as Sl,a4 as Tl,a5 as Bs,a6 as El,a7 as Bl,a8 as Qe,a9 as Li,aa as ki,ab as Il,a as Dl,w as ls,ac as ot,ad as no,ae as _l}from"./vendor-Cv3Y1QpI.js";import{X as ft,t as hn,s as Pl,v as Ol}from"./utils-DO5yBvG6.js";import{C as Nl,p as Rl,a as jl,b as Fl,B as Ul,c as zl,L as Wl,d as Gl}from"./charts-RtThZEbT.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function ds(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function wn(t,e,n,o=1){const[r,s]=typeof o=="number"?[o,o]:o,a=Math.round(e/r/t[0])*t[0],u=Math.round(n/s/t[1])*t[1];return[a,u]}function Go(t,e,n){return t-e-n}function qo(t,e,n){return t-e-n}function St(t,e,n){return e!==null&&t<e?e:n!==null&&n<t?n:t}function us(t,e,n){let o=t;const r=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].find(s=>ds(o[s]));if(!ds(o[r]))return!1;do{if(o[r](e))return!0;if(o===n)return!1;o=o.parentNode}while(o);return!1}function ql(t){const e=window.getComputedStyle(t);return[parseFloat(e.getPropertyValue("width"),10),parseFloat(e.getPropertyValue("height"),10)]}function sn(t,e,n){t&&(t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener?t.addEventListener(e,n,!0):t["on"+e]=n)}function Wt(t,e,n){t&&(t.detachEvent?t.detachEvent("on"+e,n):t.removeEventListener?t.removeEventListener(e,n,!0):t["on"+e]=null)}const Zl=(t,e)=>{const n=t.__vccOpts||t;for(const[o,r]of e)n[o]=r;return n},po={mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"},touch:{start:"touchstart",move:"touchmove",stop:"touchend"}},Kl={userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",MsUserSelect:"none"},Yl={userSelect:"auto",MozUserSelect:"auto",WebkitUserSelect:"auto",MsUserSelect:"auto"};let Gt=po.mouse;const Jl={replace:!0,name:"vue-draggable-resizable",props:{className:{type:String,default:"vdr"},classNameDraggable:{type:String,default:"draggable"},classNameResizable:{type:String,default:"resizable"},classNameDragging:{type:String,default:"dragging"},classNameResizing:{type:String,default:"resizing"},classNameActive:{type:String,default:"active"},classNameHandle:{type:String,default:"handle"},disableUserSelect:{type:Boolean,default:!0},enableNativeDrag:{type:Boolean,default:!1},preventDeactivation:{type:Boolean,default:!1},active:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},lockAspectRatio:{type:Boolean,default:!1},w:{type:[Number,String],default:200,validator:t=>typeof t=="number"?t>0:t==="auto"},h:{type:[Number,String],default:200,validator:t=>typeof t=="number"?t>0:t==="auto"},minWidth:{type:Number,default:0,validator:t=>t>=0},minHeight:{type:Number,default:0,validator:t=>t>=0},maxWidth:{type:Number,default:null,validator:t=>t>=0},maxHeight:{type:Number,default:null,validator:t=>t>=0},x:{type:Number,default:0},y:{type:Number,default:0},z:{type:[String,Number],default:"auto",validator:t=>typeof t=="string"?t==="auto":t>=0},handles:{type:Array,default:()=>["tl","tm","tr","mr","br","bm","bl","ml"],validator:t=>{const e=new Set(["tl","tm","tr","mr","br","bm","bl","ml"]);return new Set(t.filter(n=>e.has(n))).size===t.length}},dragHandle:{type:String,default:null},dragCancel:{type:String,default:null},axis:{type:String,default:"both",validator:t=>["x","y","both"].includes(t)},grid:{type:Array,default:()=>[1,1]},parent:{type:Boolean,default:!1},scale:{type:[Number,Array],default:1,validator:t=>typeof t=="number"?t>0:t.length===2&&t[0]>0&&t[1]>0},onDragStart:{type:Function,default:()=>!0},onDrag:{type:Function,default:()=>!0},onResizeStart:{type:Function,default:()=>!0},onResize:{type:Function,default:()=>!0}},data:function(){return{left:this.x,top:this.y,right:null,bottom:null,width:null,height:null,widthTouched:!1,heightTouched:!1,aspectFactor:null,parentWidth:null,parentHeight:null,handle:null,enabled:this.active,resizing:!1,dragging:!1,dragEnable:!1,resizeEnable:!1,zIndex:this.z}},created:function(){this.maxWidth&&this.minWidth>this.maxWidth&&console.warn("[Vdr warn]: Invalid prop: minWidth cannot be greater than maxWidth"),this.maxHeight&&this.minHeight>this.maxHeight&&console.warn("[Vdr warn]: Invalid prop: minHeight cannot be greater than maxHeight"),this.resetBoundsAndMouseState()},mounted:function(){this.enableNativeDrag||(this.$el.ondragstart=()=>!1);const[t,e]=this.getParentSize();this.parentWidth=t,this.parentHeight=e;const[n,o]=ql(this.$el);this.aspectFactor=(this.w!=="auto"?this.w:n)/(this.h!=="auto"?this.h:o),this.width=this.w!=="auto"?this.w:n,this.height=this.h!=="auto"?this.h:o,this.right=this.parentWidth-this.width-this.left,this.bottom=this.parentHeight-this.height-this.top,this.active&&this.$emit("activated"),sn(document.documentElement,"mousedown",this.deselect),sn(document.documentElement,"touchend touchcancel",this.deselect),sn(window,"resize",this.checkParentSize)},beforeUnmount:function(){Wt(document.documentElement,"mousedown",this.deselect),Wt(document.documentElement,"touchstart",this.handleUp),Wt(document.documentElement,"mousemove",this.move),Wt(document.documentElement,"touchmove",this.move),Wt(document.documentElement,"mouseup",this.handleUp),Wt(document.documentElement,"touchend touchcancel",this.deselect),Wt(window,"resize",this.checkParentSize)},methods:{resetBoundsAndMouseState(){this.mouseClickPosition={mouseX:0,mouseY:0,x:0,y:0,w:0,h:0},this.bounds={minLeft:null,maxLeft:null,minRight:null,maxRight:null,minTop:null,maxTop:null,minBottom:null,maxBottom:null}},checkParentSize(){if(this.parent){const[t,e]=this.getParentSize();this.parentWidth=t,this.parentHeight=e,this.right=this.parentWidth-this.width-this.left,this.bottom=this.parentHeight-this.height-this.top}},getParentSize(){if(this.parent){const t=window.getComputedStyle(this.$el.parentNode,null);return[parseInt(t.getPropertyValue("width"),10),parseInt(t.getPropertyValue("height"),10)]}return[null,null]},elementTouchDown(t){Gt=po.touch,this.elementDown(t)},elementMouseDown(t){Gt=po.mouse,this.elementDown(t)},elementDown(t){if(t instanceof MouseEvent&&t.button!==0)return;const e=t.target||t.srcElement;if(this.$el.contains(e)){if(this.onDragStart(t)===!1)return;if(this.dragHandle&&!us(e,this.dragHandle,this.$el)||this.dragCancel&&us(e,this.dragCancel,this.$el)){this.dragging=!1;return}this.enabled||(this.enabled=!0,this.$emit("activated"),this.$emit("update:active",!0)),this.draggable&&(this.dragEnable=!0),this.mouseClickPosition.mouseX=t.touches?t.touches[0].pageX:t.pageX,this.mouseClickPosition.mouseY=t.touches?t.touches[0].pageY:t.pageY,this.mouseClickPosition.left=this.left,this.mouseClickPosition.right=this.right,this.mouseClickPosition.top=this.top,this.mouseClickPosition.bottom=this.bottom,this.parent&&(this.bounds=this.calcDragLimits()),sn(document.documentElement,Gt.move,this.move),sn(document.documentElement,Gt.stop,this.handleUp)}},calcDragLimits(){return{minLeft:this.left%this.grid[0],maxLeft:Math.floor((this.parentWidth-this.width-this.left)/this.grid[0])*this.grid[0]+this.left,minRight:this.right%this.grid[0],maxRight:Math.floor((this.parentWidth-this.width-this.right)/this.grid[0])*this.grid[0]+this.right,minTop:this.top%this.grid[1],maxTop:Math.floor((this.parentHeight-this.height-this.top)/this.grid[1])*this.grid[1]+this.top,minBottom:this.bottom%this.grid[1],maxBottom:Math.floor((this.parentHeight-this.height-this.bottom)/this.grid[1])*this.grid[1]+this.bottom}},deselect(t){const e=t.target||t.srcElement,n=new RegExp(this.className+"-([trmbl]{2})","");!this.$el.contains(e)&&!n.test(e.className)&&(this.enabled&&!this.preventDeactivation&&(this.enabled=!1,this.$emit("deactivated"),this.$emit("update:active",!1)),Wt(document.documentElement,Gt.move,this.handleResize)),this.resetBoundsAndMouseState()},handleTouchDown(t,e){Gt=po.touch,this.handleDown(t,e)},handleDown(t,e){e instanceof MouseEvent&&e.which!==1||this.onResizeStart(t,e)!==!1&&(e.stopPropagation&&e.stopPropagation(),this.lockAspectRatio&&!t.includes("m")?this.handle="m"+t.substring(1):this.handle=t,this.resizeEnable=!0,this.mouseClickPosition.mouseX=e.touches?e.touches[0].pageX:e.pageX,this.mouseClickPosition.mouseY=e.touches?e.touches[0].pageY:e.pageY,this.mouseClickPosition.left=this.left,this.mouseClickPosition.right=this.right,this.mouseClickPosition.top=this.top,this.mouseClickPosition.bottom=this.bottom,this.bounds=this.calcResizeLimits(),sn(document.documentElement,Gt.move,this.handleResize),sn(document.documentElement,Gt.stop,this.handleUp))},calcResizeLimits(){let t=this.minW,e=this.minH,n=this.maxW,o=this.maxH;const r=this.aspectFactor,[s,a]=this.grid,u=this.width,p=this.height,c=this.left,b=this.top,C=this.right,A=this.bottom;this.lockAspectRatio&&(t/e>r?e=t/r:t=r*e,n&&o?(n=Math.min(n,r*o),o=Math.min(o,n/r)):n?o=n/r:o&&(n=r*o)),n=n-n%s,o=o-o%a;const x={minLeft:null,maxLeft:null,minTop:null,maxTop:null,minRight:null,maxRight:null,minBottom:null,maxBottom:null};return this.parent?(x.minLeft=c%s,x.maxLeft=c+Math.floor((u-t)/s)*s,x.minTop=b%a,x.maxTop=b+Math.floor((p-e)/a)*a,x.minRight=C%s,x.maxRight=C+Math.floor((u-t)/s)*s,x.minBottom=A%a,x.maxBottom=A+Math.floor((p-e)/a)*a,n&&(x.minLeft=Math.max(x.minLeft,this.parentWidth-C-n),x.minRight=Math.max(x.minRight,this.parentWidth-c-n)),o&&(x.minTop=Math.max(x.minTop,this.parentHeight-A-o),x.minBottom=Math.max(x.minBottom,this.parentHeight-b-o)),this.lockAspectRatio&&(x.minLeft=Math.max(x.minLeft,c-b*r),x.minTop=Math.max(x.minTop,b-c/r),x.minRight=Math.max(x.minRight,C-A*r),x.minBottom=Math.max(x.minBottom,A-C/r))):(x.minLeft=null,x.maxLeft=c+Math.floor((u-t)/s)*s,x.minTop=null,x.maxTop=b+Math.floor((p-e)/a)*a,x.minRight=null,x.maxRight=C+Math.floor((u-t)/s)*s,x.minBottom=null,x.maxBottom=A+Math.floor((p-e)/a)*a,n&&(x.minLeft=-(C+n),x.minRight=-(c+n)),o&&(x.minTop=-(A+o),x.minBottom=-(b+o)),this.lockAspectRatio&&n&&o&&(x.minLeft=Math.min(x.minLeft,-(C+n)),x.minTop=Math.min(x.minTop,-(o+A)),x.minRight=Math.min(x.minRight,-c-n),x.minBottom=Math.min(x.minBottom,-b-o))),x},move(t){this.resizing?this.handleResize(t):this.dragEnable&&this.handleDrag(t)},handleDrag(t){const e=this.axis,n=this.grid,o=this.bounds,r=this.mouseClickPosition,s=e&&e!=="y"?r.mouseX-(t.touches?t.touches[0].pageX:t.pageX):0,a=e&&e!=="x"?r.mouseY-(t.touches?t.touches[0].pageY:t.pageY):0,[u,p]=wn(n,s,a,this.scale),c=St(r.left-u,o.minLeft,o.maxLeft),b=St(r.top-p,o.minTop,o.maxTop);if(this.onDrag(c,b)===!1)return;const C=St(r.right+u,o.minRight,o.maxRight),A=St(r.bottom+p,o.minBottom,o.maxBottom);this.left=c,this.top=b,this.right=C,this.bottom=A,this.$emit("dragging",this.left,this.top),this.dragging=!0},moveHorizontally(t){const[e]=wn(this.grid,t,this.top,1),n=St(e,this.bounds.minLeft,this.bounds.maxLeft);this.left=n,this.right=this.parentWidth-this.width-n},moveVertically(t){const[e,n]=wn(this.grid,this.left,t,1),o=St(n,this.bounds.minTop,this.bounds.maxTop);this.top=o,this.bottom=this.parentHeight-this.height-o},handleResize(t){let e=this.left,n=this.top,o=this.right,r=this.bottom;const s=this.mouseClickPosition,a=this.aspectFactor,u=s.mouseX-(t.touches?t.touches[0].pageX:t.pageX),p=s.mouseY-(t.touches?t.touches[0].pageY:t.pageY);!this.widthTouched&&u&&(this.widthTouched=!0),!this.heightTouched&&p&&(this.heightTouched=!0);const[c,b]=wn(this.grid,u,p,this.scale);this.handle.includes("b")?(r=St(s.bottom+b,this.bounds.minBottom,this.bounds.maxBottom),this.lockAspectRatio&&this.resizingOnY&&(o=this.right-(this.bottom-r)*a)):this.handle.includes("t")&&(n=St(s.top-b,this.bounds.minTop,this.bounds.maxTop),this.lockAspectRatio&&this.resizingOnY&&(e=this.left-(this.top-n)*a)),this.handle.includes("r")?(o=St(s.right+c,this.bounds.minRight,this.bounds.maxRight),this.lockAspectRatio&&this.resizingOnX&&(r=this.bottom-(this.right-o)/a)):this.handle.includes("l")&&(e=St(s.left-c,this.bounds.minLeft,this.bounds.maxLeft),this.lockAspectRatio&&this.resizingOnX&&(n=this.top-(this.left-e)/a));const C=Go(this.parentWidth,e,o),A=qo(this.parentHeight,n,r);this.onResize(this.handle,e,n,C,A)!==!1&&(this.left=e,this.top=n,this.right=o,this.bottom=r,this.width=C,this.height=A,this.$emit("resizing",this.left,this.top,this.width,this.height),this.resizing=!0)},changeWidth(t){const[e]=wn(this.grid,t,0,1),n=St(this.parentWidth-e-this.left,this.bounds.minRight,this.bounds.maxRight);let o=this.bottom;this.lockAspectRatio&&(o=this.bottom-(this.right-n)/this.aspectFactor);const r=Go(this.parentWidth,this.left,n),s=qo(this.parentHeight,this.top,o);this.right=n,this.bottom=o,this.width=r,this.height=s},changeHeight(t){const[e,n]=wn(this.grid,0,t,1),o=St(this.parentHeight-n-this.top,this.bounds.minBottom,this.bounds.maxBottom);let r=this.right;this.lockAspectRatio&&(r=this.right-(this.bottom-o)*this.aspectFactor);const s=Go(this.parentWidth,this.left,r),a=qo(this.parentHeight,this.top,o);this.right=r,this.bottom=o,this.width=s,this.height=a},handleUp(t){this.handle=null,this.resetBoundsAndMouseState(),this.dragEnable=!1,this.resizeEnable=!1,this.resizing&&(this.resizing=!1,this.$emit("resizeStop",this.left,this.top,this.width,this.height)),this.dragging&&(this.dragging=!1,this.$emit("dragStop",this.left,this.top)),Wt(document.documentElement,Gt.move,this.handleResize)}},computed:{style(){return{transform:`translate(${this.left}px, ${this.top}px)`,width:this.computedWidth,height:this.computedHeight,zIndex:this.zIndex,...this.dragging&&this.disableUserSelect?Kl:Yl}},actualHandles(){return this.resizable?this.handles:[]},computedWidth(){return this.w==="auto"&&!this.widthTouched?"auto":this.width+"px"},computedHeight(){return this.h==="auto"&&!this.heightTouched?"auto":this.height+"px"},minW(){return this.minWidth},minH(){return this.minHeight},maxW(){return this.maxWidth},maxH(){return this.maxHeight},resizingOnX(){return!!this.handle&&(this.handle.includes("l")||this.handle.includes("r"))},resizingOnY(){return!!this.handle&&(this.handle.includes("t")||this.handle.includes("b"))},isCornerHandle(){return!!this.handle&&["tl","tr","br","bl"].includes(this.handle)}},watch:{active(t){this.enabled=t,t?this.$emit("activated"):this.$emit("deactivated")},z(t){(t>=0||t==="auto")&&(this.zIndex=t)},x(t){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcDragLimits()),this.moveHorizontally(t))},y(t){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcDragLimits()),this.moveVertically(t))},lockAspectRatio(t){t?this.aspectFactor=this.width/this.height:this.aspectFactor=void 0},w(t){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcResizeLimits()),this.changeWidth(t))},h(t){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcResizeLimits()),this.changeHeight(t))}}},Xl=["onMousedown","onTouchstart"];function Ql(t,e,n,o,r,s){return f(),y("div",{style:It(s.style),class:Fe([{[n.classNameActive]:t.enabled,[n.classNameDragging]:t.dragging,[n.classNameResizing]:t.resizing,[n.classNameDraggable]:n.draggable,[n.classNameResizable]:n.resizable},n.className]),onMousedown:e[0]||(e[0]=(...a)=>s.elementMouseDown&&s.elementMouseDown(...a)),onTouchstart:e[1]||(e[1]=(...a)=>s.elementTouchDown&&s.elementTouchDown(...a))},[(f(!0),y(ae,null,Ne(s.actualHandles,a=>(f(),y("div",{key:a,class:Fe([n.classNameHandle,n.classNameHandle+"-"+a]),style:It({display:t.enabled?"block":"none"}),onMousedown:kn(u=>s.handleDown(a,u),["stop","prevent"]),onTouchstart:kn(u=>s.handleTouchDown(a,u),["stop","prevent"])},[bo(t.$slots,a)],46,Xl))),128)),bo(t.$slots,"default")],38)}const Is=Zl(Jl,[["render",Ql]]);function ci(t){ci.installed||(ci.installed=!0,t.component("VueDraggableResizable",Is))}const ed={install:ci};let wo=null;typeof window<"u"?wo=window.Vue:typeof global<"u"&&(wo=global.Vue);wo&&wo.use(ed);const td="wavemakerv4",nd="4.1.5",od="module",id={dev:"vite",build:"vite build",preview:"vite preview"},sd={"@tiptap/extension-bubble-menu":"^2.0.0-beta.202","@tiptap/extension-dropcursor":"^2.0.0-beta.25","@tiptap/extension-highlight":"^2.0.0-beta.202","@tiptap/extension-image":"^2.0.0-beta.27","@tiptap/extension-task-item":"^2.0.0-beta.32","@tiptap/extension-task-list":"^2.0.0-beta.26","@tiptap/extension-typography":"^2.0.0-beta.20","@tiptap/starter-kit":"^2.0.0-beta.185","@tiptap/vue-3":"^2.0.0-beta.91","@vueuse/core":"^9.3.1","@vueuse/rxjs":"^9.3.1","@yeger/vue-masonry-wall":"^3.2.22","core-js":"^3.8.3",dexie:"^3.2.2","dexie-export-import":"^1.0.3","dexie-observable":"^3.0.0-beta.11","register-service-worker":"^1.7.2",rxjs:"^7.5.7",showdown:"^2.1.0",uuid:"^9.0.0",vue:"^3.4.15","vue-chartjs":"^4.1.2","vue-draggable-next":"^2.1.1","vue-draggable-resizable":"^3.0.0","vue-sweetalert2":"^5.0.5"},rd={"@vitejs/plugin-vue":"^5.0.3",vite:"^5.1.0","vite-plugin-pwa":"^0.18.1"},ad={name:td,private:!0,version:nd,type:od,scripts:id,dependencies:sd,devDependencies:rd},ld={data(){return{}},methods:{file_loadDB(){document.getElementById("wavemakerHiddenPicker").click()},file_load(t){console.log(t.target.files);var e=new FileReader;e.onload=async n=>{const o=new Blob([n.target.result],{type:"text/json;charset=utf-8"});await this.$root.databaseImport(o),console.log("import complete"),this.$root.getSettings()},e.readAsText(t.target.files.item(0))},async file_downloadDB(){this.$swal({title:this.$root.setlang.confirm.sure,text:this.$root.setlang.confirm.downloadfile,icon:"question",showCancelButton:!0,cancelButtonText:this.$root.setlang.confirm.filecancel,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirm.fileexport}).then(async t=>{if(t.isConfirmed){var e=new Date,n=String(e.getDate()).padStart(2,"0"),o=String(e.getMonth()+1).padStart(2,"0"),r=e.getFullYear(),s=e.getHours()+"-"+e.getMinutes()+"-"+e.getSeconds();let a=this.$root.session.settings.ProjectName;a=a.replace(/[\W_]+/g,"-");let u=a+"["+r+"-"+o+"-"+n+"-"+s+"].wm4",p=await this.$root.databaseExport();const c=new Blob([p],{type:"text/json;charset=utf-8"}),b=URL.createObjectURL(c),C=document.createElement("a");C.href=b,C.target="_blank",C.download=u,C.click(),URL.revokeObjectURL(b),this.$swal(this.$root.setlang.confirm.exportedsuccess,this.$root.setlang.confirm.exportedmessage,"success")}})}},mounted(){let t=document.createElement("input");t.type="file",t.id="wavemakerHiddenPicker",t.accept=".wm4",t.style="display:none",document.body.appendChild(t)}};var cs={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function tn(t,e,n,o){function r(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function u(b){try{c(o.next(b))}catch(C){a(C)}}function p(b){try{c(o.throw(b))}catch(C){a(C)}}function c(b){b.done?s(b.value):r(b.value).then(u,p)}c((o=o.apply(t,[])).next())})}function Nt(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},o,r,s,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(c){return function(b){return p([c,b])}}function p(c){if(o)throw new TypeError("Generator is already executing.");for(;n;)try{if(o=1,r&&(s=c[0]&2?r.return:c[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,c[1])).done)return s;switch(r=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,r=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(b){c=[6,b],r=0}finally{o=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function dd(t){var e=[t.schema.primKey].concat(t.schema.indexes);return e.map(function(n){return n.src}).join(",")}function ud(t){for(var e={},n=0,o=t.tables;n<o.length;n++){var r=o[n];e[r.name]=r.schema}return e}function Ds(t,e){return new Promise(function(n,o){var r=new FileReader;r.onabort=function(s){return o(new Error("file read aborted"))},r.onerror=function(s){return o(s.target.error)},r.onload=function(s){return n(s.target.result)},e==="binary"?r.readAsArrayBuffer(t):r.readAsText(t)})}function _s(t,e){if(typeof FileReaderSync>"u")throw new Error("FileReaderSync missing. Reading blobs synchronously requires code to run from within a web worker. Use TSON.encapsulateAsync() to do it from the main thread.");var n=new FileReaderSync,o=e==="binary"?n.readAsArrayBuffer(t):n.readAsText(t);return o}var pi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xi(t,e){return e={exports:{}},t(e,e.exports),e.exports}var Mo=xi(function(t,e){(function(n,o){t.exports=o()})(pi,function(){var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},o=function(){return function(M,$){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return function(S,v){var he=[],te=!0,Ie=!1,fe=void 0;try{for(var I,U=S[Symbol.iterator]();!(te=(I=U.next()).done)&&(he.push(I.value),!v||he.length!==v);te=!0);}catch(ne){Ie=!0,fe=ne}finally{try{!te&&U.return&&U.return()}finally{if(Ie)throw fe}}return he}(M,$);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(M){if(Array.isArray(M)){for(var $=0,g=Array(M.length);$<M.length;$++)g[$]=M[$];return g}return Array.from(M)},s=Object.keys,a=Array.isArray,u={}.toString,p=Object.getPrototypeOf,c={}.hasOwnProperty,b=c.toString,C=["type","replaced","iterateIn","iterateUnsetNumeric"];function A(M,$){return B.isObject(M)&&typeof M.then=="function"&&(!$||typeof M.catch=="function")}function x(M){return u.call(M).slice(8,-1)}function E(M,$){if(!M||(M===void 0?"undefined":n(M))!=="object")return!1;var g=p(M);if(!g)return!1;var S=c.call(g,"constructor")&&g.constructor;return typeof S!="function"?$===null:typeof S=="function"&&$!==null&&b.call(S)===b.call($)}function O(M){return!(!M||x(M)!=="Object")&&(!p(M)||E(M,Object))}function oe(M){return M&&(M===void 0?"undefined":n(M))==="object"}function B(M){var $=[],g=[],S={},v=this.types={},he=this.stringify=function(I,U,ne,$e){$e=Object.assign({},M,$e,{stringification:!0});var Me=Ie(I,null,$e);return a(Me)?JSON.stringify(Me[0],U,ne):Me.then(function(ge){return JSON.stringify(ge,U,ne)})};this.stringifySync=function(I,U,ne,$e){return he(I,U,ne,Object.assign({},{throwOnBadSyncType:!0},$e,{sync:!0}))},this.stringifyAsync=function(I,U,ne,$e){return he(I,U,ne,Object.assign({},{throwOnBadSyncType:!0},$e,{sync:!1}))};var te=this.parse=function(I,U,ne){return ne=Object.assign({},M,ne,{parse:!0}),fe(JSON.parse(I,U),ne)};this.parseSync=function(I,U,ne){return te(I,U,Object.assign({},{throwOnBadSyncType:!0},ne,{sync:!0}))},this.parseAsync=function(I,U,ne){return te(I,U,Object.assign({},{throwOnBadSyncType:!0},ne,{sync:!1}))},this.specialTypeNames=function(I,U){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ne.returnTypeNames=!0,this.encapsulate(I,U,ne)},this.rootTypeName=function(I,U){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ne.iterateNone=!0,this.encapsulate(I,U,ne)};var Ie=this.encapsulate=function(I,U,ne){var $e=(ne=Object.assign({sync:!0},M,ne)).sync,Me={},ge=[],R=[],P=[],G=!(ne&&"cyclic"in ne)||ne.cyclic,be=ne.encapsulateObserver,we=H("",I,G,U||{},P);function L(T){var _=Object.values(Me);if(ne.iterateNone)return _.length?_[0]:B.getJSONType(T);if(_.length){if(ne.returnTypeNames)return[].concat(r(new Set(_)));T&&O(T)&&!T.hasOwnProperty("$types")?T.$types=Me:T={$:T,$types:{$:Me}}}else oe(T)&&T.hasOwnProperty("$types")&&(T={$:T,$types:!0});return!ne.returnTypeNames&&T}return P.length?$e&&ne.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(function T(_,J){return Promise.all(J.map(function(Z){return Z[1].p})).then(function(Z){return Promise.all(Z.map(function(Ve){var X=[],K=J.splice(0,1)[0],D=o(K,7),ce=D[0],Se=D[2],F=D[3],je=D[4],Ue=D[5],ut=D[6],se=H(ce,Ve,Se,F,X,!0,ut),xe=E(se,N);return ce&&xe?se.p.then(function(We){return je[Ue]=We,T(_,X)}):(ce?je[Ue]=se:_=xe?se.p:se,T(_,X))}))}).then(function(){return _})}(we,P)).then(L):!$e&&ne.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():ne.stringification&&$e?[L(we)]:$e?L(we):Promise.resolve(L(we));function m(T,_,J){Object.assign(T,_);var Z=C.map(function(Ve){var X=T[Ve];return delete T[Ve],X});J(),C.forEach(function(Ve,X){T[Ve]=Z[X]})}function H(T,_,J,Z,Ve,X,K){var D=void 0,ce={},Se=_===void 0?"undefined":n(_),F=be?function(Y){var re=K||Z.type||B.getJSONType(_);be(Object.assign(Y||ce,{keypath:T,value:_,cyclic:J,stateObj:Z,promisesData:Ve,resolvingTypesonPromise:X,awaitingTypesonPromise:E(_,N)},re!==void 0?{type:re}:{}))}:null;if(Se in{string:1,boolean:1,number:1,undefined:1})return _===void 0||Se==="number"&&(isNaN(_)||_===-1/0||_===1/0)?(D=q(T,_,Z,Ve,!1,X,F))!==_&&(ce={replaced:D}):D=_,F&&F(),D;if(_===null)return F&&F(),_;if(J&&!Z.iterateIn&&!Z.iterateUnsetNumeric){var je=ge.indexOf(_);if(!(je<0))return Me[T]="#",F&&F({cyclicKeypath:R[je]}),"#"+R[je];J===!0&&(ge.push(_),R.push(T))}var Ue=O(_),ut=a(_),se=(Ue||ut)&&(!$.length||Z.replaced)||Z.iterateIn?_:q(T,_,Z,Ve,Ue||ut,null,F),xe=void 0;if(se!==_?(D=se,ce={replaced:se}):ut||Z.iterateIn==="array"?(xe=new Array(_.length),ce={clone:xe}):Ue||Z.iterateIn==="object"?ce={clone:xe={}}:(T===""&&E(_,N)&&Ve.push([T,_,J,Z,void 0,void 0,Z.type]),D=_),F&&F(),ne.iterateNone)return xe||D;if(!xe)return D;if(Z.iterateIn){var We=function(re){var Ce={ownKeys:_.hasOwnProperty(re)};m(Z,Ce,function(){var Oe=T+(T?".":"")+le(re),ze=H(Oe,_[re],!!J,Z,Ve,X);E(ze,N)?Ve.push([Oe,ze,!!J,Z,xe,re,Z.type]):ze!==void 0&&(xe[re]=ze)})};for(var nt in _)We(nt);F&&F({endIterateIn:!0,end:!0})}else s(_).forEach(function(Y){var re=T+(T?".":"")+le(Y);m(Z,{ownKeys:!0},function(){var Ce=H(re,_[Y],!!J,Z,Ve,X);E(Ce,N)?Ve.push([re,Ce,!!J,Z,xe,Y,Z.type]):Ce!==void 0&&(xe[Y]=Ce)})}),F&&F({endIterateOwn:!0,end:!0});if(Z.iterateUnsetNumeric){for(var De=_.length,Ze=function(re){if(!(re in _)){var Ce=T+(T?".":"")+re;m(Z,{ownKeys:!1},function(){var Oe=H(Ce,void 0,!!J,Z,Ve,X);E(Oe,N)?Ve.push([Ce,Oe,!!J,Z,xe,re,Z.type]):Oe!==void 0&&(xe[re]=Oe)})}},ve=0;ve<De;ve++)Ze(ve);F&&F({endIterateUnsetNumeric:!0,end:!0})}return xe}function q(T,_,J,Z,Ve,X,K){for(var D=Ve?$:g,ce=D.length;ce--;){var Se=D[ce];if(Se.test(_,J)){var F=Se.type;if(S[F]){var je=Me[T];Me[T]=je?[F].concat(je):F}return Object.assign(J,{type:F,replaced:!0}),!$e&&Se.replaceAsync||Se.replace?(K&&K({replacing:!0}),H(T,Se[$e||!Se.replaceAsync?"replace":"replaceAsync"](_,J),G&&"readonly",J,Z,X,F)):(K&&K({typeDetected:!0}),H(T,_,G&&"readonly",J,Z,X,F))}}return _}};this.encapsulateSync=function(I,U,ne){return Ie(I,U,Object.assign({},{throwOnBadSyncType:!0},ne,{sync:!0}))},this.encapsulateAsync=function(I,U,ne){return Ie(I,U,Object.assign({},{throwOnBadSyncType:!0},ne,{sync:!1}))};var fe=this.revive=function(I,U){var ne=(U=Object.assign({sync:!0},M,U)).sync,$e=I&&I.$types,Me=!0;if(!$e)return I;if($e===!0)return I.$;$e.$&&O($e.$)&&(I=I.$,$e=$e.$,Me=!1);var ge=[],R={},P=function G(be,we,L,m,H,q){if(!(Me&&be==="$types")){var T=$e[be];if(a(we)||O(we)){var _=a(we)?new Array(we.length):{};for(s(we).forEach(function(F){var je=G(be+(be?".":"")+le(F),we[F],L||_,m,_,F);E(je,me)?_[F]=void 0:je!==void 0&&(_[F]=je)}),we=_;ge.length;){var J=o(ge[0],4),Z=J[0],Ve=J[1],X=J[2],K=J[3],D=ee(Z,Ve);if(E(D,me))X[K]=void 0;else{if(D===void 0)break;X[K]=D}ge.splice(0,1)}}if(!T)return we;if(T==="#"){var ce=ee(L,we.substr(1));return ce===void 0&&ge.push([L,we.substr(1),H,q]),ce}var Se=m.sync;return[].concat(T).reduce(function(F,je){var Ue=S[je];if(!Ue)throw new Error("Unregistered type: "+je);return Ue[Se&&Ue.revive?"revive":!Se&&Ue.reviveAsync?"reviveAsync":"revive"](F,R)},we)}}("",I,null,U);return A(P=E(P,me)?void 0:P)?ne&&U.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():P:!ne&&U.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():ne?P:Promise.resolve(P)};this.reviveSync=function(I,U){return fe(I,Object.assign({},{throwOnBadSyncType:!0},U,{sync:!0}))},this.reviveAsync=function(I,U){return fe(I,Object.assign({},{throwOnBadSyncType:!0},U,{sync:!1}))},this.register=function(I,U){return U=U||{},[].concat(I).forEach(function ne($e){if(a($e))return $e.map(ne);$e&&s($e).forEach(function(Me){if(Me==="#")throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(B.JSON_TYPES.includes(Me))throw new TypeError("Plain JSON object types are reserved as type names");var ge=$e[Me],R=ge.testPlainObjects?$:g,P=R.filter(function(m){return m.type===Me});if(P.length&&(R.splice(R.indexOf(P[0]),1),delete S[Me],delete v[Me]),ge){if(typeof ge=="function"){var G=ge;ge={test:function(H){return H&&H.constructor===G},replace:function(H){return ie({},H)},revive:function(H){return ie(Object.create(G.prototype),H)}}}else a(ge)&&(ge={test:ge[0],replace:ge[1],revive:ge[2]});var be={type:Me,test:ge.test.bind(ge)};ge.replace&&(be.replace=ge.replace.bind(ge)),ge.replaceAsync&&(be.replaceAsync=ge.replaceAsync.bind(ge));var we=typeof U.fallback=="number"?U.fallback:U.fallback?0:1/0;if(ge.testPlainObjects?$.splice(we,0,be):g.splice(we,0,be),ge.revive||ge.reviveAsync){var L={};ge.revive&&(L.revive=ge.revive.bind(ge)),ge.reviveAsync&&(L.reviveAsync=ge.reviveAsync.bind(ge)),S[Me]=L}v[Me]=ge}})}),this}}function ie(M,$){return s($).map(function(g){M[g]=$[g]}),M}function le(M){return M.replace(/~/g,"~0").replace(/\./g,"~1")}function pe(M){return M.replace(/~1/g,".").replace(/~0/g,"~")}function ee(M,$){if($==="")return M;var g=$.indexOf(".");if(g>-1){var S=M[pe($.substr(0,g))];return S===void 0?void 0:ee(S,$.substr(g+1))}return M[pe($)]}function me(){}function N(M){this.p=new Promise(M)}return N.prototype.then=function(M,$){var g=this;return new N(function(S,v){g.p.then(function(he){S(M?M(he):he)},function(he){g.p.catch(function(te){return $?$(te):Promise.reject(te)}).then(S,v)})})},N.prototype.catch=function(M){return this.then(null,M)},N.resolve=function(M){return new N(function($){$(M)})},N.reject=function(M){return new N(function($,g){g(M)})},["all","race"].map(function(M){N[M]=function($){return new N(function(g,S){Promise[M]($.map(function(v){return v.p})).then(g,S)})}}),B.Undefined=me,B.Promise=N,B.isThenable=A,B.toStringTag=x,B.hasConstructorOf=E,B.isObject=oe,B.isPlainObject=O,B.isUserObject=function M($){if(!$||x($)!=="Object")return!1;var g=p($);return!g||E($,Object)||M(g)},B.escapeKeyPathComponent=le,B.unescapeKeyPathComponent=pe,B.getByKeyPath=ee,B.getJSONType=function(M){return M===null?"null":a(M)?"array":M===void 0?"undefined":n(M)},B.JSON_TYPES=["null","boolean","number","string","array","object"],B})}),cd=xi(function(t,e){(function(n,o){t.exports=o()})(pi,function(){var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},o=function(){return function(L,m){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return function(q,T){var _=[],J=!0,Z=!1,Ve=void 0;try{for(var X,K=q[Symbol.iterator]();!(J=(X=K.next()).done)&&(_.push(X.value),!T||_.length!==T);J=!0);}catch(D){Z=!0,Ve=D}finally{try{!J&&K.return&&K.return()}finally{if(Z)throw Ve}}return _}(L,m);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(L){if(Array.isArray(L)){for(var m=0,H=Array(L.length);m<L.length;m++)H[m]=L[m];return H}return Array.from(L)},s=Object.keys,a=Array.isArray,u={}.toString,p=Object.getPrototypeOf,c={}.hasOwnProperty,b=c.toString,C=["type","replaced","iterateIn","iterateUnsetNumeric"];function A(L,m){return B.isObject(L)&&typeof L.then=="function"&&(!m||typeof L.catch=="function")}function x(L){return u.call(L).slice(8,-1)}function E(L,m){if(!L||(L===void 0?"undefined":n(L))!=="object")return!1;var H=p(L);if(!H)return!1;var q=c.call(H,"constructor")&&H.constructor;return typeof q!="function"?m===null:typeof q=="function"&&m!==null&&b.call(q)===b.call(m)}function O(L){return!(!L||x(L)!=="Object")&&(!p(L)||E(L,Object))}function oe(L){return L&&(L===void 0?"undefined":n(L))==="object"}function B(L){var m=[],H=[],q={},T=this.types={},_=this.stringify=function(X,K,D,ce){ce=Object.assign({},L,ce,{stringification:!0});var Se=Z(X,null,ce);return a(Se)?JSON.stringify(Se[0],K,D):Se.then(function(F){return JSON.stringify(F,K,D)})};this.stringifySync=function(X,K,D,ce){return _(X,K,D,Object.assign({},{throwOnBadSyncType:!0},ce,{sync:!0}))},this.stringifyAsync=function(X,K,D,ce){return _(X,K,D,Object.assign({},{throwOnBadSyncType:!0},ce,{sync:!1}))};var J=this.parse=function(X,K,D){return D=Object.assign({},L,D,{parse:!0}),Ve(JSON.parse(X,K),D)};this.parseSync=function(X,K,D){return J(X,K,Object.assign({},{throwOnBadSyncType:!0},D,{sync:!0}))},this.parseAsync=function(X,K,D){return J(X,K,Object.assign({},{throwOnBadSyncType:!0},D,{sync:!1}))},this.specialTypeNames=function(X,K){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return D.returnTypeNames=!0,this.encapsulate(X,K,D)},this.rootTypeName=function(X,K){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return D.iterateNone=!0,this.encapsulate(X,K,D)};var Z=this.encapsulate=function(X,K,D){var ce=(D=Object.assign({sync:!0},L,D)).sync,Se={},F=[],je=[],Ue=[],ut=!(D&&"cyclic"in D)||D.cyclic,se=D.encapsulateObserver,xe=De("",X,ut,K||{},Ue);function We(ve){var Y=Object.values(Se);if(D.iterateNone)return Y.length?Y[0]:B.getJSONType(ve);if(Y.length){if(D.returnTypeNames)return[].concat(r(new Set(Y)));ve&&O(ve)&&!ve.hasOwnProperty("$types")?ve.$types=Se:ve={$:ve,$types:{$:Se}}}else oe(ve)&&ve.hasOwnProperty("$types")&&(ve={$:ve,$types:!0});return!D.returnTypeNames&&ve}return Ue.length?ce&&D.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(function ve(Y,re){return Promise.all(re.map(function(Ce){return Ce[1].p})).then(function(Ce){return Promise.all(Ce.map(function(Oe){var ze=[],gt=re.splice(0,1)[0],Ge=o(gt,7),st=Ge[0],pt=Ge[2],W=Ge[3],rt=Ge[4],Lt=Ge[5],nn=Ge[6],Dt=De(st,Oe,pt,W,ze,!0,nn),Ke=E(Dt,N);return st&&Ke?Dt.p.then(function(En){return rt[Lt]=En,ve(Y,ze)}):(st?rt[Lt]=Dt:Y=Ke?Dt.p:Dt,ve(Y,ze))}))}).then(function(){return Y})}(xe,Ue)).then(We):!ce&&D.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():D.stringification&&ce?[We(xe)]:ce?We(xe):Promise.resolve(We(xe));function nt(ve,Y,re){Object.assign(ve,Y);var Ce=C.map(function(Oe){var ze=ve[Oe];return delete ve[Oe],ze});re(),C.forEach(function(Oe,ze){ve[Oe]=Ce[ze]})}function De(ve,Y,re,Ce,Oe,ze,gt){var Ge=void 0,st={},pt=Y===void 0?"undefined":n(Y),W=se?function(Mt){var at=gt||Ce.type||B.getJSONType(Y);se(Object.assign(Mt||st,{keypath:ve,value:Y,cyclic:re,stateObj:Ce,promisesData:Oe,resolvingTypesonPromise:ze,awaitingTypesonPromise:E(Y,N)},at!==void 0?{type:at}:{}))}:null;if(pt in{string:1,boolean:1,number:1,undefined:1})return Y===void 0||pt==="number"&&(isNaN(Y)||Y===-1/0||Y===1/0)?(Ge=Ze(ve,Y,Ce,Oe,!1,ze,W))!==Y&&(st={replaced:Ge}):Ge=Y,W&&W(),Ge;if(Y===null)return W&&W(),Y;if(re&&!Ce.iterateIn&&!Ce.iterateUnsetNumeric){var rt=F.indexOf(Y);if(!(rt<0))return Se[ve]="#",W&&W({cyclicKeypath:je[rt]}),"#"+je[rt];re===!0&&(F.push(Y),je.push(ve))}var Lt=O(Y),nn=a(Y),Dt=(Lt||nn)&&(!m.length||Ce.replaced)||Ce.iterateIn?Y:Ze(ve,Y,Ce,Oe,Lt||nn,null,W),Ke=void 0;if(Dt!==Y?(Ge=Dt,st={replaced:Dt}):nn||Ce.iterateIn==="array"?(Ke=new Array(Y.length),st={clone:Ke}):Lt||Ce.iterateIn==="object"?st={clone:Ke={}}:(ve===""&&E(Y,N)&&Oe.push([ve,Y,re,Ce,void 0,void 0,Ce.type]),Ge=Y),W&&W(),D.iterateNone)return Ke||Ge;if(!Ke)return Ge;if(Ce.iterateIn){var En=function(at){var _t={ownKeys:Y.hasOwnProperty(at)};nt(Ce,_t,function(){var kt=ve+(ve?".":"")+le(at),gn=De(kt,Y[at],!!re,Ce,Oe,ze);E(gn,N)?Oe.push([kt,gn,!!re,Ce,Ke,at,Ce.type]):gn!==void 0&&(Ke[at]=gn)})};for(var Eo in Y)En(Eo);W&&W({endIterateIn:!0,end:!0})}else s(Y).forEach(function(Mt){var at=ve+(ve?".":"")+le(Mt);nt(Ce,{ownKeys:!0},function(){var _t=De(at,Y[Mt],!!re,Ce,Oe,ze);E(_t,N)?Oe.push([at,_t,!!re,Ce,Ke,Mt,Ce.type]):_t!==void 0&&(Ke[Mt]=_t)})}),W&&W({endIterateOwn:!0,end:!0});if(Ce.iterateUnsetNumeric){for(var Bo=Y.length,Io=function(at){if(!(at in Y)){var _t=ve+(ve?".":"")+at;nt(Ce,{ownKeys:!1},function(){var kt=De(_t,void 0,!!re,Ce,Oe,ze);E(kt,N)?Oe.push([_t,kt,!!re,Ce,Ke,at,Ce.type]):kt!==void 0&&(Ke[at]=kt)})}},Bn=0;Bn<Bo;Bn++)Io(Bn);W&&W({endIterateUnsetNumeric:!0,end:!0})}return Ke}function Ze(ve,Y,re,Ce,Oe,ze,gt){for(var Ge=Oe?m:H,st=Ge.length;st--;){var pt=Ge[st];if(pt.test(Y,re)){var W=pt.type;if(q[W]){var rt=Se[ve];Se[ve]=rt?[W].concat(rt):W}return Object.assign(re,{type:W,replaced:!0}),!ce&&pt.replaceAsync||pt.replace?(gt&&gt({replacing:!0}),De(ve,pt[ce||!pt.replaceAsync?"replace":"replaceAsync"](Y,re),ut&&"readonly",re,Ce,ze,W)):(gt&&gt({typeDetected:!0}),De(ve,Y,ut&&"readonly",re,Ce,ze,W))}}return Y}};this.encapsulateSync=function(X,K,D){return Z(X,K,Object.assign({},{throwOnBadSyncType:!0},D,{sync:!0}))},this.encapsulateAsync=function(X,K,D){return Z(X,K,Object.assign({},{throwOnBadSyncType:!0},D,{sync:!1}))};var Ve=this.revive=function(X,K){var D=(K=Object.assign({sync:!0},L,K)).sync,ce=X&&X.$types,Se=!0;if(!ce)return X;if(ce===!0)return X.$;ce.$&&O(ce.$)&&(X=X.$,ce=ce.$,Se=!1);var F=[],je={},Ue=function ut(se,xe,We,nt,De,Ze){if(!(Se&&se==="$types")){var ve=ce[se];if(a(xe)||O(xe)){var Y=a(xe)?new Array(xe.length):{};for(s(xe).forEach(function(W){var rt=ut(se+(se?".":"")+le(W),xe[W],We||Y,nt,Y,W);E(rt,me)?Y[W]=void 0:rt!==void 0&&(Y[W]=rt)}),xe=Y;F.length;){var re=o(F[0],4),Ce=re[0],Oe=re[1],ze=re[2],gt=re[3],Ge=ee(Ce,Oe);if(E(Ge,me))ze[gt]=void 0;else{if(Ge===void 0)break;ze[gt]=Ge}F.splice(0,1)}}if(!ve)return xe;if(ve==="#"){var st=ee(We,xe.substr(1));return st===void 0&&F.push([We,xe.substr(1),De,Ze]),st}var pt=nt.sync;return[].concat(ve).reduce(function(W,rt){var Lt=q[rt];if(!Lt)throw new Error("Unregistered type: "+rt);return Lt[pt&&Lt.revive?"revive":!pt&&Lt.reviveAsync?"reviveAsync":"revive"](W,je)},xe)}}("",X,null,K);return A(Ue=E(Ue,me)?void 0:Ue)?D&&K.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Ue:!D&&K.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():D?Ue:Promise.resolve(Ue)};this.reviveSync=function(X,K){return Ve(X,Object.assign({},{throwOnBadSyncType:!0},K,{sync:!0}))},this.reviveAsync=function(X,K){return Ve(X,Object.assign({},{throwOnBadSyncType:!0},K,{sync:!1}))},this.register=function(X,K){return K=K||{},[].concat(X).forEach(function D(ce){if(a(ce))return ce.map(D);ce&&s(ce).forEach(function(Se){if(Se==="#")throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(B.JSON_TYPES.includes(Se))throw new TypeError("Plain JSON object types are reserved as type names");var F=ce[Se],je=F.testPlainObjects?m:H,Ue=je.filter(function(nt){return nt.type===Se});if(Ue.length&&(je.splice(je.indexOf(Ue[0]),1),delete q[Se],delete T[Se]),F){if(typeof F=="function"){var ut=F;F={test:function(De){return De&&De.constructor===ut},replace:function(De){return ie({},De)},revive:function(De){return ie(Object.create(ut.prototype),De)}}}else a(F)&&(F={test:F[0],replace:F[1],revive:F[2]});var se={type:Se,test:F.test.bind(F)};F.replace&&(se.replace=F.replace.bind(F)),F.replaceAsync&&(se.replaceAsync=F.replaceAsync.bind(F));var xe=typeof K.fallback=="number"?K.fallback:K.fallback?0:1/0;if(F.testPlainObjects?m.splice(xe,0,se):H.splice(xe,0,se),F.revive||F.reviveAsync){var We={};F.revive&&(We.revive=F.revive.bind(F)),F.reviveAsync&&(We.reviveAsync=F.reviveAsync.bind(F)),q[Se]=We}T[Se]=F}})}),this}}function ie(L,m){return s(m).map(function(H){L[H]=m[H]}),L}function le(L){return L.replace(/~/g,"~0").replace(/\./g,"~1")}function pe(L){return L.replace(/~1/g,".").replace(/~0/g,"~")}function ee(L,m){if(m==="")return L;var H=m.indexOf(".");if(H>-1){var q=L[pe(m.substr(0,H))];return q===void 0?void 0:ee(q,m.substr(H+1))}return L[pe(m)]}function me(){}function N(L){this.p=new Promise(L)}N.prototype.then=function(L,m){var H=this;return new N(function(q,T){H.p.then(function(_){q(L?L(_):_)},function(_){H.p.catch(function(J){return m?m(J):Promise.reject(J)}).then(q,T)})})},N.prototype.catch=function(L){return this.then(null,L)},N.resolve=function(L){return new N(function(m){m(L)})},N.reject=function(L){return new N(function(m,H){H(L)})},["all","race"].map(function(L){N[L]=function(m){return new N(function(H,q){Promise[L](m.map(function(T){return T.p})).then(H,q)})}}),B.Undefined=me,B.Promise=N,B.isThenable=A,B.toStringTag=x,B.hasConstructorOf=E,B.isObject=oe,B.isPlainObject=O,B.isUserObject=function L(m){if(!m||x(m)!=="Object")return!1;var H=p(m);return!H||E(m,Object)||L(H)},B.escapeKeyPathComponent=le,B.unescapeKeyPathComponent=pe,B.getByKeyPath=ee,B.getJSONType=function(L){return L===null?"null":a(L)?"array":L===void 0?"undefined":n(L)},B.JSON_TYPES=["null","boolean","number","string","array","object"];for(var M={userObject:{test:function(m,H){return B.isUserObject(m)},replace:function(m){return Object.assign({},m)},revive:function(m){return m}}},$=[[{sparseArrays:{testPlainObjects:!0,test:function(m){return Array.isArray(m)},replace:function(m,H){return H.iterateUnsetNumeric=!0,m}}},{sparseUndefined:{test:function(m,H){return m===void 0&&H.ownKeys===!1},replace:function(m){return null},revive:function(m){}}}],{undef:{test:function(m,H){return m===void 0&&(H.ownKeys||!("ownKeys"in H))},replace:function(m){return null},revive:function(m){return new B.Undefined}}}],g={StringObject:{test:function(m){return B.toStringTag(m)==="String"&&(m===void 0?"undefined":n(m))==="object"},replace:function(m){return String(m)},revive:function(m){return new String(m)}},BooleanObject:{test:function(m){return B.toStringTag(m)==="Boolean"&&(m===void 0?"undefined":n(m))==="object"},replace:function(m){return!!m},revive:function(m){return new Boolean(m)}},NumberObject:{test:function(m){return B.toStringTag(m)==="Number"&&(m===void 0?"undefined":n(m))==="object"},replace:function(m){return Number(m)},revive:function(m){return new Number(m)}}},S=[{nan:{test:function(m){return typeof m=="number"&&isNaN(m)},replace:function(m){return"NaN"},revive:function(m){return NaN}}},{infinity:{test:function(m){return m===1/0},replace:function(m){return"Infinity"},revive:function(m){return 1/0}}},{negativeInfinity:{test:function(m){return m===-1/0},replace:function(m){return"-Infinity"},revive:function(m){return-1/0}}}],v={date:{test:function(m){return B.toStringTag(m)==="Date"},replace:function(m){var H=m.getTime();return isNaN(H)?"NaN":H},revive:function(m){return m==="NaN"?new Date(NaN):new Date(m)}}},he={regexp:{test:function(m){return B.toStringTag(m)==="RegExp"},replace:function(m){return{source:m.source,flags:(m.global?"g":"")+(m.ignoreCase?"i":"")+(m.multiline?"m":"")+(m.sticky?"y":"")+(m.unicode?"u":"")}},revive:function(m){var H=m.source,q=m.flags;return new RegExp(H,q)}}},te={map:{test:function(m){return B.toStringTag(m)==="Map"},replace:function(m){return Array.from(m.entries())},revive:function(m){return new Map(m)}}},Ie={set:{test:function(m){return B.toStringTag(m)==="Set"},replace:function(m){return Array.from(m.values())},revive:function(m){return new Set(m)}}},fe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",I=new Uint8Array(256),U=0;U<fe.length;U++)I[fe.charCodeAt(U)]=U;var ne=function(m,H,q){for(var T=new Uint8Array(m,H,q),_=T.length,J="",Z=0;Z<_;Z+=3)J+=fe[T[Z]>>2],J+=fe[(3&T[Z])<<4|T[Z+1]>>4],J+=fe[(15&T[Z+1])<<2|T[Z+2]>>6],J+=fe[63&T[Z+2]];return _%3==2?J=J.substring(0,J.length-1)+"=":_%3==1&&(J=J.substring(0,J.length-2)+"=="),J},$e=function(m){var H=m.length,q=.75*m.length,T=0,_=void 0,J=void 0,Z=void 0,Ve=void 0;m[m.length-1]==="="&&(q--,m[m.length-2]==="="&&q--);for(var X=new ArrayBuffer(q),K=new Uint8Array(X),D=0;D<H;D+=4)_=I[m.charCodeAt(D)],J=I[m.charCodeAt(D+1)],Z=I[m.charCodeAt(D+2)],Ve=I[m.charCodeAt(D+3)],K[T++]=_<<2|J>>4,K[T++]=(15&J)<<4|Z>>2,K[T++]=(3&Z)<<6|63&Ve;return X},Me={arraybuffer:{test:function(m){return B.toStringTag(m)==="ArrayBuffer"},replace:function(m,H){H.buffers||(H.buffers=[]);var q=H.buffers.indexOf(m);return q>-1?{index:q}:(H.buffers.push(m),ne(m))},revive:function(m,H){if(H.buffers||(H.buffers=[]),(m===void 0?"undefined":n(m))==="object")return H.buffers[m.index];var q=$e(m);return H.buffers.push(q),q}}},ge=typeof self>"u"?pi:self,R={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach(function(L){var m=L,H=ge[m];H&&(R[L.toLowerCase()]={test:function(T){return B.toStringTag(T)===m},replace:function(T,_){var J=T.buffer,Z=T.byteOffset,Ve=T.length;_.buffers||(_.buffers=[]);var X=_.buffers.indexOf(J);return X>-1?{index:X,byteOffset:Z,length:Ve}:(_.buffers.push(J),{encoded:ne(J),byteOffset:Z,length:Ve})},revive:function(T,_){_.buffers||(_.buffers=[]);var J=T.byteOffset,Z=T.length,Ve=T.encoded,X=T.index,K=void 0;return"index"in T?K=_.buffers[X]:(K=$e(Ve),_.buffers.push(K)),new H(K,J,Z)}})});var P={dataview:{test:function(m){return B.toStringTag(m)==="DataView"},replace:function(m,H){var q=m.buffer,T=m.byteOffset,_=m.byteLength;H.buffers||(H.buffers=[]);var J=H.buffers.indexOf(q);return J>-1?{index:J,byteOffset:T,byteLength:_}:(H.buffers.push(q),{encoded:ne(q),byteOffset:T,byteLength:_})},revive:function(m,H){H.buffers||(H.buffers=[]);var q=m.byteOffset,T=m.byteLength,_=m.encoded,J=m.index,Z=void 0;return"index"in m?Z=H.buffers[J]:(Z=$e(_),H.buffers.push(Z)),new DataView(Z,q,T)}}},G={IntlCollator:{test:function(m){return B.hasConstructorOf(m,Intl.Collator)},replace:function(m){return m.resolvedOptions()},revive:function(m){return new Intl.Collator(m.locale,m)}},IntlDateTimeFormat:{test:function(m){return B.hasConstructorOf(m,Intl.DateTimeFormat)},replace:function(m){return m.resolvedOptions()},revive:function(m){return new Intl.DateTimeFormat(m.locale,m)}},IntlNumberFormat:{test:function(m){return B.hasConstructorOf(m,Intl.NumberFormat)},replace:function(m){return m.resolvedOptions()},revive:function(m){return new Intl.NumberFormat(m.locale,m)}}};function be(L){for(var m=new Uint16Array(L.length),H=0;H<L.length;H++)m[H]=L.charCodeAt(H);return m.buffer}var we={file:{test:function(m){return B.toStringTag(m)==="File"},replace:function(m){var H=new XMLHttpRequest;if(H.open("GET",URL.createObjectURL(m),!1),typeof TextEncoder<"u"&&H.overrideMimeType("text/plain; charset=utf-16le"),H.status!==200&&H.status!==0)throw new Error("Bad Blob access: "+H.status);return H.send(),{type:m.type,stringContents:H.responseText,name:m.name,lastModified:m.lastModified}},revive:function(m){var H=m.name,q=m.type,T=m.stringContents,_=m.lastModified,J=be(T);return new File([J],H,{type:q,lastModified:_})},replaceAsync:function(m){return new B.Promise(function(H,q){if(m.isClosed)q(new Error("The File is closed"));else{var T=new FileReader;T.addEventListener("load",function(){H({type:m.type,stringContents:T.result,name:m.name,lastModified:m.lastModified})}),T.addEventListener("error",function(){q(T.error)}),T.readAsText(m,"UTF-16")}})}}};return[M,$,g,S,v,he,{imagedata:{test:function(m){return B.toStringTag(m)==="ImageData"},replace:function(m){return{array:Array.from(m.data),width:m.width,height:m.height}},revive:function(m){return new ImageData(new Uint8ClampedArray(m.array),m.width,m.height)}}},{imagebitmap:{test:function(m){return B.toStringTag(m)==="ImageBitmap"||m&&m.dataset&&m.dataset.toStringTag==="ImageBitmap"},replace:function(m){var H=document.createElement("canvas");return H.getContext("2d").drawImage(m,0,0),H.toDataURL()},revive:function(m){var H=document.createElement("canvas"),q=H.getContext("2d"),T=document.createElement("img");return T.onload=function(){q.drawImage(T,0,0)},T.src=m,H},reviveAsync:function(m){var H=document.createElement("canvas"),q=H.getContext("2d"),T=document.createElement("img");return T.onload=function(){q.drawImage(T,0,0)},T.src=m,createImageBitmap(H)}}},we,{file:we.file,filelist:{test:function(m){return B.toStringTag(m)==="FileList"},replace:function(m){for(var H=[],q=0;q<m.length;q++)H[q]=m.item(q);return H},revive:function(m){function H(){this._files=arguments[0],this.length=this._files.length}return H.prototype.item=function(q){return this._files[q]},H.prototype[Symbol.toStringTag]="FileList",new H(m)}}},{blob:{test:function(m){return B.toStringTag(m)==="Blob"},replace:function(m){var H=new XMLHttpRequest;if(H.open("GET",URL.createObjectURL(m),!1),typeof TextEncoder<"u"&&H.overrideMimeType("text/plain; charset=utf-16le"),H.status!==200&&H.status!==0)throw new Error("Bad Blob access: "+H.status);return H.send(),{type:m.type,stringContents:H.responseText}},revive:function(m){var H=m.type,q=m.stringContents;return new Blob([be(q)],{type:H})},replaceAsync:function(m){return new B.Promise(function(H,q){if(m.isClosed)q(new Error("The Blob is closed"));else{var T=new FileReader;T.addEventListener("load",function(){H({type:m.type,stringContents:T.result})}),T.addEventListener("error",function(){q(T.error)}),T.readAsText(m,"UTF-16")}})}}}].concat(typeof Map=="function"?te:[],typeof Set=="function"?Ie:[],typeof ArrayBuffer=="function"?Me:[],typeof Uint8Array=="function"?R:[],typeof DataView=="function"?P:[],typeof Intl<"u"?G:[])})}),xn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pn=new Uint8Array(256);for(var oo=0;oo<xn.length;oo++)Pn[xn.charCodeAt(oo)]=oo;var hi=function(e,n,o){o==null&&(o=e.byteLength);for(var r=new Uint8Array(e,0,o),s=r.length,a="",u=0;u<s;u+=3)a+=xn[r[u]>>2],a+=xn[(r[u]&3)<<4|r[u+1]>>4],a+=xn[(r[u+1]&15)<<2|r[u+2]>>6],a+=xn[r[u+2]&63];return s%3===2?a=a.substring(0,a.length-1)+"=":s%3===1&&(a=a.substring(0,a.length-2)+"=="),a},Ps=function(e){var n=e.length,o=e.length*.75,r=0,s,a,u,p;e[e.length-1]==="="&&(o--,e[e.length-2]==="="&&o--);for(var c=new ArrayBuffer(o),b=new Uint8Array(c),C=0;C<n;C+=4)s=Pn[e.charCodeAt(C)],a=Pn[e.charCodeAt(C+1)],u=Pn[e.charCodeAt(C+2)],p=Pn[e.charCodeAt(C+3)],b[r++]=s<<2|a>>4,b[r++]=(a&15)<<4|u>>2,b[r++]=(u&3)<<6|p&63;return c},pd=typeof self>"u"?global:self,Os={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach(function(t){var e=t,n=pd[e];n&&(Os[t.toLowerCase()+"2"]={test:function(o){return Mo.toStringTag(o)===e},replace:function(o){var r=o.buffer,s=o.byteOffset,a=o.length;return{buffer:r,byteOffset:s,length:a}},revive:function(o){var r=o.buffer,s=o.byteOffset,a=o.length;return new n(r,s,a)}})});var hd={arraybuffer:{test:function(t){return Mo.toStringTag(t)==="ArrayBuffer"},replace:function(t){return hi(t,0,t.byteLength)},revive:function(t){var e=Ps(t);return e}}},Bt=new Mo().register(cd),fd="FileReaderSync"in self,Co=[],Zo=0;Bt.register([hd,Os,{blob2:{test:function(t){return Mo.toStringTag(t)==="Blob"},replace:function(t){if(t.isClosed)throw new Error("The Blob is closed");if(fd){var e=_s(t,"binary"),n=hi(e,0,e.byteLength);return{type:t.type,data:n}}else{Co.push(t);var o={type:t.type,data:{start:Zo,end:Zo+t.size}};return console.log("b.size: "+t.size),Zo+=t.size,o}},finalize:function(t,e){t.data=hi(e,0,e.byteLength)},revive:function(t){var e=t.type,n=t.data;return new Blob([Ps(n)],{type:e})}}}]);Bt.mustFinalize=function(){return Co.length>0};Bt.finalize=function(t){return tn(void 0,void 0,void 0,function(){var e,n,o,r,s,a,u,p,c,b;return Nt(this,function(C){switch(C.label){case 0:return[4,Ds(new Blob(Co),"binary")];case 1:if(e=C.sent(),t){for(n=0,o=t;n<o.length;n++)if(r=o[n],r.$types){s=r.$types,a=s.$,a&&(s=s.$);for(u in s)p=s[u],c=Bt.types[p],c&&c.finalize&&(b=ft.getByKeyPath(r,a?"$."+u:u),c.finalize(b,e.slice(b.start,b.end)))}}return Co=[],[2]}})})};var gd=2e3;function md(t,e){return tn(this,void 0,void 0,function(){function n(){return tn(this,void 0,void 0,function(){var c,b,C,A,x,E,O,oe,B;return Nt(this,function(ie){switch(ie.label){case 0:return[4,Promise.all(t.tables.map(function(le){return le.count()}))];case 1:c=ie.sent(),c.forEach(function(le,pe){return r[pe].rowCount=le}),p.totalRows=c.reduce(function(le,pe){return le+pe}),b=JSON.stringify(a,void 0,s?2:void 0),C=b.lastIndexOf("]"),A=b.substring(0,C),o.push(A),x=e.filter,E=function(le){var pe,ee,me,N,M,$,g,S,v,he,te,Ie;return Nt(this,function(fe){switch(fe.label){case 0:pe=t.table(le),ee=pe.schema.primKey,me=!!ee.keyPath,N=e.numRowsPerChunk||gd,M=me?{tableName:pe.name,inbound:!0,rows:[]}:{tableName:pe.name,inbound:!1,rows:[]},$=JSON.stringify(M,void 0,s?2:void 0),s&&($=$.split(`
`).join(`
    `)),g=$.lastIndexOf("]"),o.push($.substring(0,g)),S=null,v=0,he=!0,te=function(){var I,U,ne,$e,P,Me,ge,R,P;return Nt(this,function(G){switch(G.label){case 0:return u&&ft.ignoreTransaction(function(){return u(p)}),I=S==null?pe.limit(N):pe.where(":id").above(S).limit(N),[4,I.toArray()];case 1:return U=G.sent(),U.length===0?[2,"break"]:(S!=null&&v>0&&(o.push(","),s&&o.push(`
      `)),he=U.length===N,me?(ne=x?U.filter(function(be){return x(le,be)}):U,$e=ne.map(function(be){return Bt.encapsulate(be)}),Bt.mustFinalize()?[4,ft.waitFor(Bt.finalize($e))]:[3,3]):[3,4]);case 2:G.sent(),G.label=3;case 3:return P=JSON.stringify($e,void 0,s?2:void 0),s&&(P=P.split(`
`).join(`
      `)),o.push(new Blob([P.substring(1,P.length-1)])),v=ne.length,S=U.length>0?ft.getByKeyPath(U[U.length-1],ee.keyPath):null,[3,8];case 4:return[4,I.primaryKeys()];case 5:return Me=G.sent(),ge=Me.map(function(be,we){return[be,U[we]]}),x&&(ge=ge.filter(function(be){var we=be[0],L=be[1];return x(le,L,we)})),R=ge.map(function(be){return Bt.encapsulate(be)}),Bt.mustFinalize()?[4,ft.waitFor(Bt.finalize(R))]:[3,7];case 6:G.sent(),G.label=7;case 7:P=JSON.stringify(R,void 0,s?2:void 0),s&&(P=P.split(`
`).join(`
      `)),o.push(new Blob([P.substring(1,P.length-1)])),v=ge.length,S=Me.length>0?Me[Me.length-1]:null,G.label=8;case 8:return p.completedRows+=U.length,[2]}})},fe.label=1;case 1:return he?[5,te()]:[3,3];case 2:return Ie=fe.sent(),Ie==="break"?[3,3]:[3,1];case 3:return o.push($.substr(g)),p.completedTables+=1,p.completedTables<p.totalTables&&o.push(","),[2]}})},O=0,oe=r,ie.label=2;case 2:return O<oe.length?(B=oe[O].name,[5,E(B)]):[3,5];case 3:ie.sent(),ie.label=4;case 4:return O++,[3,2];case 5:return o.push(b.substr(C)),p.done=!0,u&&ft.ignoreTransaction(function(){return u(p)}),[2]}})})}var o,r,s,a,u,p;return Nt(this,function(c){switch(c.label){case 0:e=e||{},o=[],r=t.tables.map(function(b){return{name:b.name,schema:dd(b),rowCount:0}}),s=e.prettyJson,a={formatName:"dexie",formatVersion:1,data:{databaseName:t.name,databaseVersion:t.verno,tables:r,data:[]}},u=e.progressCallback,p={done:!1,completedRows:0,completedTables:0,totalRows:NaN,totalTables:t.tables.length},c.label=1;case 1:return c.trys.push([1,,6,7]),e.noTransaction?[4,n()]:[3,3];case 2:return c.sent(),[3,5];case 3:return[4,t.transaction("r",t.tables,n)];case 4:c.sent(),c.label=5;case 5:return[3,7];case 6:return Bt.finalize(),[7];case 7:return u&&ft.ignoreTransaction(function(){return u(p)}),[2,new Blob(o,{type:"text/json"})]}})})}var vd=1,yd={Stream:function(){}},bd=xi(function(t,e){(function(n){var o=typeof process=="object"&&cs?cs:self;n.parser=function($){return new x($)},n.CParser=x,n.CStream=O,n.createStream=E,n.MAX_BUFFER_LENGTH=10*1024*1024,n.DEBUG=o.CDEBUG==="debug",n.INFO=o.CDEBUG==="debug"||o.CDEBUG==="info",n.EVENTS=["value","string","key","openobject","closeobject","openarray","closearray","error","end","ready"];var r={textNode:void 0,numberNode:""},s=n.EVENTS.filter(function($){return $!=="error"&&$!=="end"}),a=0,u;n.STATE={BEGIN:a++,VALUE:a++,OPEN_OBJECT:a++,CLOSE_OBJECT:a++,OPEN_ARRAY:a++,CLOSE_ARRAY:a++,TEXT_ESCAPE:a++,STRING:a++,BACKSLASH:a++,END:a++,OPEN_KEY:a++,CLOSE_KEY:a++,TRUE:a++,TRUE2:a++,TRUE3:a++,FALSE:a++,FALSE2:a++,FALSE3:a++,FALSE4:a++,NULL:a++,NULL2:a++,NULL3:a++,NUMBER_DECIMAL_POINT:a++,NUMBER_DIGIT:a++};for(var p in n.STATE)n.STATE[n.STATE[p]]=p;a=n.STATE;const c={tab:9,lineFeed:10,carriageReturn:13,space:32,doubleQuote:34,plus:43,comma:44,minus:45,period:46,_0:48,_9:57,colon:58,E:69,openBracket:91,backslash:92,closeBracket:93,a:97,b:98,e:101,f:102,l:108,n:110,r:114,s:115,t:116,u:117,openBrace:123,closeBrace:125};Object.create||(Object.create=function($){function g(){this.__proto__=$}return g.prototype=$,new g}),Object.getPrototypeOf||(Object.getPrototypeOf=function($){return $.__proto__}),Object.keys||(Object.keys=function($){var g=[];for(var S in $)$.hasOwnProperty(S)&&g.push(S);return g});function b($){var g=Math.max(n.MAX_BUFFER_LENGTH,10),S=0;for(var v in r){var he=$[v]===void 0?0:$[v].length;if(he>g)switch(v){case"text":closeText($);break;default:ee($,"Max buffer length exceeded: "+v)}S=Math.max(S,he)}$.bufferCheckPosition=n.MAX_BUFFER_LENGTH-S+$.position}function C($){for(var g in r)$[g]=r[g]}var A=/[\\"\n]/g;function x($){if(!(this instanceof x))return new x($);var g=this;C(g),g.bufferCheckPosition=n.MAX_BUFFER_LENGTH,g.q=g.c=g.p="",g.opt=$||{},g.closed=g.closedRoot=g.sawRoot=!1,g.tag=g.error=null,g.state=a.BEGIN,g.stack=new Array,g.position=g.column=0,g.line=1,g.slashed=!1,g.unicodeI=0,g.unicodeS=null,g.depth=0,oe(g,"onready")}x.prototype={end:function(){me(this)},write:M,resume:function(){return this.error=null,this},close:function(){return this.write(null)}};try{u=yd.Stream}catch{u=function(){}}function E($){return new O($)}function O($){if(!(this instanceof O))return new O($);this._parser=new x($),this.writable=!0,this.readable=!0,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)},this.string="";var g=this;u.apply(g),this._parser.onend=function(){g.emit("end")},this._parser.onerror=function(S){g.emit("error",S),g._parser.error=null},s.forEach(function(S){Object.defineProperty(g,"on"+S,{get:function(){return g._parser["on"+S]},set:function(v){if(!v)return g.removeAllListeners(S),g._parser["on"+S]=v,v;g.on(S,v)},enumerable:!0,configurable:!1})})}O.prototype=Object.create(u.prototype,{constructor:{value:O}}),O.prototype.write=function($){$=new Buffer($);for(var g=0;g<$.length;g++){var S=$[g];if(this.bytes_remaining>0){for(var v=0;v<this.bytes_remaining;v++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+v]=$[v];this.string=this.temp_buffs[this.bytes_in_sequence].toString(),this.bytes_in_sequence=this.bytes_remaining=0,g=g+v-1,this._parser.write(this.string),this.emit("data",this.string);continue}if(this.bytes_remaining===0&&S>=128)if(S>=194&&S<=223&&(this.bytes_in_sequence=2),S>=224&&S<=239&&(this.bytes_in_sequence=3),S>=240&&S<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+g>$.length){for(var he=0;he<=$.length-1-g;he++)this.temp_buffs[this.bytes_in_sequence][he]=$[g+he];return this.bytes_remaining=g+this.bytes_in_sequence-$.length,!0}else{this.string=$.slice(g,g+this.bytes_in_sequence).toString(),g=g+this.bytes_in_sequence-1,this._parser.write(this.string),this.emit("data",this.string);continue}for(var te=g;te<$.length&&!($[te]>=128);te++);this.string=$.slice(g,te).toString(),this._parser.write(this.string),this.emit("data",this.string),g=te-1}},O.prototype.end=function($){return $&&$.length&&this._parser.write($.toString()),this._parser.end(),!0},O.prototype.on=function($,g){var S=this;return!S._parser["on"+$]&&s.indexOf($)!==-1&&(S._parser["on"+$]=function(){var v=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);v.splice(0,0,$),S.emit.apply(S,v)}),u.prototype.on.call(S,$,g)},O.prototype.destroy=function(){C(this._parser),this.emit("close")};function oe($,g,S){n.INFO&&console.log("-- emit",g,S),$[g]&&$[g](S)}function B($,g,S){ie($),oe($,g,S)}function ie($,g){$.textNode=pe($.opt,$.textNode),$.textNode!==void 0&&oe($,g||"onvalue",$.textNode),$.textNode=void 0}function le($){$.numberNode&&oe($,"onvalue",parseFloat($.numberNode)),$.numberNode=""}function pe($,g){return g===void 0||($.trim&&(g=g.trim()),$.normalize&&(g=g.replace(/\s+/g," "))),g}function ee($,g){return ie($),g+=`
Line: `+$.line+`
Column: `+$.column+`
Char: `+$.c,g=new Error(g),$.error=g,oe($,"onerror",g),$}function me($){return($.state!==a.VALUE||$.depth!==0)&&ee($,"Unexpected end"),ie($),$.c="",$.closed=!0,oe($,"onend"),x.call($,$.opt),$}function N($){return $===c.carriageReturn||$===c.lineFeed||$===c.space||$===c.tab}function M($){var g=this;if(this.error)throw this.error;if(g.closed)return ee(g,"Cannot write after close. Assign an onready handler.");if($===null)return me(g);var S=0,v=$.charCodeAt(0),he=g.p;for(n.DEBUG&&console.log("write -> ["+$+"]");v&&(he=v,g.c=v=$.charCodeAt(S++),he!==v?g.p=he:he=g.p,!!v);)switch(n.DEBUG&&console.log(S,v,n.STATE[g.state]),g.position++,v===c.lineFeed?(g.line++,g.column=0):g.column++,g.state){case a.BEGIN:v===c.openBrace?g.state=a.OPEN_OBJECT:v===c.openBracket?g.state=a.OPEN_ARRAY:N(v)||ee(g,"Non-whitespace before {[.");continue;case a.OPEN_KEY:case a.OPEN_OBJECT:if(N(v))continue;if(g.state===a.OPEN_KEY)g.stack.push(a.CLOSE_KEY);else if(v===c.closeBrace){oe(g,"onopenobject"),this.depth++,oe(g,"oncloseobject"),this.depth--,g.state=g.stack.pop()||a.VALUE;continue}else g.stack.push(a.CLOSE_OBJECT);v===c.doubleQuote?g.state=a.STRING:ee(g,'Malformed object key should start with "');continue;case a.CLOSE_KEY:case a.CLOSE_OBJECT:if(N(v))continue;g.state,a.CLOSE_KEY,v===c.colon?(g.state===a.CLOSE_OBJECT?(g.stack.push(a.CLOSE_OBJECT),ie(g,"onopenobject"),this.depth++):ie(g,"onkey"),g.state=a.VALUE):v===c.closeBrace?(B(g,"oncloseobject"),this.depth--,g.state=g.stack.pop()||a.VALUE):v===c.comma?(g.state===a.CLOSE_OBJECT&&g.stack.push(a.CLOSE_OBJECT),ie(g),g.state=a.OPEN_KEY):ee(g,"Bad object");continue;case a.OPEN_ARRAY:case a.VALUE:if(N(v))continue;if(g.state===a.OPEN_ARRAY)if(oe(g,"onopenarray"),this.depth++,g.state=a.VALUE,v===c.closeBracket){oe(g,"onclosearray"),this.depth--,g.state=g.stack.pop()||a.VALUE;continue}else g.stack.push(a.CLOSE_ARRAY);v===c.doubleQuote?g.state=a.STRING:v===c.openBrace?g.state=a.OPEN_OBJECT:v===c.openBracket?g.state=a.OPEN_ARRAY:v===c.t?g.state=a.TRUE:v===c.f?g.state=a.FALSE:v===c.n?g.state=a.NULL:v===c.minus?g.numberNode+="-":c._0<=v&&v<=c._9?(g.numberNode+=String.fromCharCode(v),g.state=a.NUMBER_DIGIT):ee(g,"Bad value");continue;case a.CLOSE_ARRAY:if(v===c.comma)g.stack.push(a.CLOSE_ARRAY),ie(g,"onvalue"),g.state=a.VALUE;else if(v===c.closeBracket)B(g,"onclosearray"),this.depth--,g.state=g.stack.pop()||a.VALUE;else{if(N(v))continue;ee(g,"Bad array")}continue;case a.STRING:g.textNode===void 0&&(g.textNode="");var te=S-1,Ie=g.slashed,fe=g.unicodeI;e:for(;;){for(n.DEBUG&&console.log(S,v,n.STATE[g.state],Ie);fe>0;)if(g.unicodeS+=String.fromCharCode(v),v=$.charCodeAt(S++),g.position++,fe===4?(g.textNode+=String.fromCharCode(parseInt(g.unicodeS,16)),fe=0,te=S-1):fe++,!v)break e;if(v===c.doubleQuote&&!Ie){g.state=g.stack.pop()||a.VALUE,g.textNode+=$.substring(te,S-1),g.position+=S-1-te;break}if(v===c.backslash&&!Ie&&(Ie=!0,g.textNode+=$.substring(te,S-1),g.position+=S-1-te,v=$.charCodeAt(S++),g.position++,!v))break;if(Ie){if(Ie=!1,v===c.n?g.textNode+=`
`:v===c.r?g.textNode+="\r":v===c.t?g.textNode+="	":v===c.f?g.textNode+="\f":v===c.b?g.textNode+="\b":v===c.u?(fe=1,g.unicodeS=""):g.textNode+=String.fromCharCode(v),v=$.charCodeAt(S++),g.position++,te=S-1,v)continue;break}A.lastIndex=S;var I=A.exec($);if(I===null){S=$.length+1,g.textNode+=$.substring(te,S-1),g.position+=S-1-te;break}if(S=I.index+1,v=$.charCodeAt(I.index),!v){g.textNode+=$.substring(te,S-1),g.position+=S-1-te;break}}g.slashed=Ie,g.unicodeI=fe;continue;case a.TRUE:v===c.r?g.state=a.TRUE2:ee(g,"Invalid true started with t"+v);continue;case a.TRUE2:v===c.u?g.state=a.TRUE3:ee(g,"Invalid true started with tr"+v);continue;case a.TRUE3:v===c.e?(oe(g,"onvalue",!0),g.state=g.stack.pop()||a.VALUE):ee(g,"Invalid true started with tru"+v);continue;case a.FALSE:v===c.a?g.state=a.FALSE2:ee(g,"Invalid false started with f"+v);continue;case a.FALSE2:v===c.l?g.state=a.FALSE3:ee(g,"Invalid false started with fa"+v);continue;case a.FALSE3:v===c.s?g.state=a.FALSE4:ee(g,"Invalid false started with fal"+v);continue;case a.FALSE4:v===c.e?(oe(g,"onvalue",!1),g.state=g.stack.pop()||a.VALUE):ee(g,"Invalid false started with fals"+v);continue;case a.NULL:v===c.u?g.state=a.NULL2:ee(g,"Invalid null started with n"+v);continue;case a.NULL2:v===c.l?g.state=a.NULL3:ee(g,"Invalid null started with nu"+v);continue;case a.NULL3:v===c.l?(oe(g,"onvalue",null),g.state=g.stack.pop()||a.VALUE):ee(g,"Invalid null started with nul"+v);continue;case a.NUMBER_DECIMAL_POINT:v===c.period?(g.numberNode+=".",g.state=a.NUMBER_DIGIT):ee(g,"Leading zero not followed by .");continue;case a.NUMBER_DIGIT:c._0<=v&&v<=c._9?g.numberNode+=String.fromCharCode(v):v===c.period?(g.numberNode.indexOf(".")!==-1&&ee(g,"Invalid number has two dots"),g.numberNode+="."):v===c.e||v===c.E?((g.numberNode.indexOf("e")!==-1||g.numberNode.indexOf("E")!==-1)&&ee(g,"Invalid number has two exponential"),g.numberNode+="e"):v===c.plus||v===c.minus?(he===c.e||he===c.E||ee(g,"Invalid symbol in number"),g.numberNode+=String.fromCharCode(v)):(le(g),S--,g.state=g.stack.pop()||a.VALUE);continue;default:ee(g,"Unknown state: "+g.state)}return g.position>=g.bufferCheckPosition&&b(g),g}})(e)});function wd(t){var e=0,n=Cd(),o={pullAsync:function(r){return tn(this,void 0,void 0,function(){var s,a,u;return Nt(this,function(p){switch(p.label){case 0:return s=t.slice(e,e+r),e+=r,[4,Ds(s,"text")];case 1:return a=p.sent(),u=n.write(a),o.result=u||{},[2,u]}})})},pullSync:function(r){var s=t.slice(e,e+r);e+=r;var a=_s(s,"text"),u=n.write(a);return o.result=u||{},u},done:function(){return n.done()},eof:function(){return e>=t.size},result:{}};return o}function Cd(t){var e=bd.parser(),n=0,o,r=[],s,a,u=!1,p=!1;return e.onopenobject=function(c){var b={};b.incomplete=!0,o||(o=b),s&&(r.push([a,s,p]),p?s.push(b):s[a]=b),s=b,a=c,p=!1,++n},e.onkey=function(c){return a=c},e.onvalue=function(c){return p?s.push(c):s[a]=c},e.oncloseobject=function(){var c;delete s.incomplete,a=null,--n===0?u=!0:(c=r.pop(),a=c[0],s=c[1],p=c[2])},e.onopenarray=function(){var c=[];c.incomplete=!0,o||(o=c),s&&(r.push([a,s,p]),p?s.push(c):s[a]=c),s=c,p=!0,a=null,++n},e.onclosearray=function(){var c;delete s.incomplete,a=null,--n===0?u=!0:(c=r.pop(),a=c[0],s=c[1],p=c[2])},{write:function(c){return e.write(c),o},done:function(){return u}}}var Ns=1024;function $d(t,e){return tn(this,void 0,void 0,function(){var n,o,r,s;return Nt(this,function(a){switch(a.label){case 0:return e=e||{},n=e.chunkSizeBytes||Ns*1024,[4,js(t,n)];case 1:return o=a.sent(),r=o.result.data,s=new ft(r.databaseName),s.version(r.databaseVersion).stores(ud(r)),[4,Rs(s,o,e)];case 2:return a.sent(),[2,s]}})})}function Rs(t,e,n){return tn(this,void 0,void 0,function(){function o(){return tn(this,void 0,void 0,function(){var E,O,oe,B,ie;return Nt(this,function(le){switch(le.label){case 0:E=function(pe){var ee,me,N,M,$,g,S,v,he,te,Ie,fe;return Nt(this,function(I){switch(I.label){case 0:if(!pe.rows)return[2,"break"];if(!pe.rows.incomplete&&pe.rows.length===0)return[2,"continue"];if(c&&ft.ignoreTransaction(function(){return c(b)}),ee=pe.tableName,me=t.table(ee),N=p.tables.filter(function(U){return U.name===ee})[0].schema,!me){if(n.acceptMissingTables)return[2,"continue"];throw new Error("Exported table "+pe.tableName+" is missing in installed database")}if(!n.acceptChangedPrimaryKey&&N.split(",")[0]!=me.schema.primKey.src)throw new Error("Primary key differs for table "+pe.tableName+". ");for(M=pe.rows,$=[],g=0;g<M.length&&(S=M[g],!S.incomplete);g++)$.push(Bt.revive(S));return v=n.filter,he=v?pe.inbound?$.filter(function(U){return v(ee,U)}):$.filter(function(U){var ne=U[0],$e=U[1];return v(ee,$e,ne)}):$,te=pe.inbound?[void 0,he]:[he.map(function(U){return U[0]}),$.map(function(U){return U[1]})],Ie=te[0],fe=te[1],n.overwriteValues?[4,me.bulkPut(fe,Ie)]:[3,2];case 1:return I.sent(),[3,4];case 2:return[4,me.bulkAdd(fe,Ie)];case 3:I.sent(),I.label=4;case 4:return b.completedRows+=$.length,$.incomplete||(b.completedTables+=1),M.splice(0,$.length),[2]}})},O=0,oe=p.data,le.label=1;case 1:return O<oe.length?(B=oe[O],[5,E(B)]):[3,4];case 2:if(ie=le.sent(),ie==="break")return[3,4];le.label=3;case 3:return O++,[3,1];case 4:for(;p.data.length>0&&p.data[0].rows&&!p.data[0].rows.incomplete;)p.data.splice(0,1);return!s.done()&&!s.eof()?u?(s.pullSync(r),[3,7]):[3,5]:[3,8];case 5:return[4,ft.waitFor(s.pullAsync(r))];case 6:le.sent(),le.label=7;case 7:return[3,9];case 8:return[3,10];case 9:return[3,0];case 10:return[2]}})})}var r,s,a,u,p,c,b,C,A,x;return Nt(this,function(E){switch(E.label){case 0:return n=n||{},r=n.chunkSizeBytes||Ns*1024,[4,js(e,r)];case 1:if(s=E.sent(),a=s.result,u="FileReaderSync"in self,p=a.data,!n.acceptNameDiff&&t.name!==p.databaseName)throw new Error("Name differs. Current database name is "+t.name+" but export is "+p.databaseName);if(!n.acceptVersionDiff&&t.verno!==p.databaseVersion)throw new Error("Database version differs. Current database is in version "+t.verno+" but export is "+p.databaseVersion);if(c=n.progressCallback,b={done:!1,completedRows:0,completedTables:0,totalRows:p.tables.reduce(function(O,oe){return O+oe.rowCount},0),totalTables:p.tables.length},c&&ft.ignoreTransaction(function(){return c(b)}),!n.clearTablesBeforeImport)return[3,5];C=0,A=t.tables,E.label=2;case 2:return C<A.length?(x=A[C],[4,x.clear()]):[3,5];case 3:E.sent(),E.label=4;case 4:return C++,[3,2];case 5:return n.noTransaction?[4,o()]:[3,7];case 6:return E.sent(),[3,9];case 7:return[4,t.transaction("rw",t.tables,o)];case 8:E.sent(),E.label=9;case 9:return b.done=!0,c&&ft.ignoreTransaction(function(){return c(b)}),[2]}})})}function js(t,e){return tn(this,void 0,void 0,function(){var n,o;return Nt(this,function(r){switch(r.label){case 0:n="slice"in t?wd(t):t,r.label=1;case 1:return n.eof()?[3,3]:[4,n.pullAsync(e)];case 2:return r.sent(),n.result.data&&n.result.data.data?[3,3]:[3,1];case 3:if(o=n.result,!o||o.formatName!="dexie")throw new Error("Given file is not a dexie export");if(o.formatVersion>vd)throw new Error("Format version "+o.formatVersion+" not supported");if(!o.data)throw new Error("No data in export file");if(!o.data.databaseName)throw new Error("Missing databaseName in export file");if(!o.data.databaseVersion)throw new Error("Missing databaseVersion in export file");if(!o.data.tables)throw new Error("Missing tables in export file");return[2,n]}})})}ft.prototype.export=function(t){return md(this,t)};ft.prototype.import=function(t,e){return Rs(this,t,e)};ft.import=function(t,e){return $d(t,e)};const Rt=new ft("wavemakerv4"),Ld={Settings:"uuid, settings, lastupdated",Writer:"uuid, title, description, files, lastupdated",Cards:"uuid, title,description,content,style,labels,options,lastupdated",Files:"uuid, writerid, title, content, lastupdated",Snowflake:"uuid, title, description,content,lastupdated",Timeline:"uuid, title, description,content,lastupdated",Gridplanner:"uuid, title, description,content,lastupdated",Mindmap:"uuid, title, description,content,lastupdated",ImageLibrary:"uuid, title, base64"};Rt.version(1).stores(Ld);const kd=async t=>{await Rt.import(t,{clearTablesBeforeImport:!0})},xd=async()=>await Rt.export();var ps;const Hd=typeof window<"u";Hd&&((ps=window==null?void 0:window.navigator)!=null&&ps.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Ad(t){return $l()?(Ll(t),!0):!1}function fn(t,e){const n=yt(e==null?void 0:e.initialValue),o=t.subscribe({next:r=>n.value=r,error:e==null?void 0:e.onError});return Ad(()=>{o.unsubscribe()}),n}const Vd={data(){return{db:Rt,useObservable:fn,liveQuery:hn,databaseImport:kd,databaseExport:xd,windowID:null}},methods:{async getImage(t){return await this.$root.db.ImageLibrary.get(t)},async AddRecord(t,e){return e.lastupdated=Date.now(),await this.db[t].add(e)},async UpdateRecord(t,e,n){return n.uuid=e,n.lastupdated=Date.now(),await this.db[t].put(JSON.parse(JSON.stringify(n)))},async DeleteRecord(t,e){return await this.db[t].delete(e)},clearDatabase(){this.$root.db.Settings.clear(),this.$root.db.Writer.clear(),this.$root.db.Cards.clear(),this.$root.db.Files.clear(),this.$root.db.Mindmap.clear(),this.$root.db.ImageLibrary.clear(),this.$root.db.Gridplanner.clear(),this.$root.db.Snowflake.clear(),this.$root.db.Timeline.clear()},async getSettings(t){t||(t=(await this.$root.db.Settings.toArray())[0].uuid),this.$root.session.settings=this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Settings.get(t)))},async closeProject(){this.$swal({title:"Are you sure?",text:"This will close the project and clear the database!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, close it!"}).then(t=>{t.isConfirmed&&(window.removeEventListener("beforeunload",this.$root.unloadEvent),this.$root.session={},this.$root.popup={},this.$root.dbloaded=!1,this.$root.clearDatabase(),this.$swal("Project Closed!","Your file has been closed.","success"))})}},beforeMount(){this.windowID=this.uuid()}},Md={data(){return{SettingsTemplate:{documentprefs:{align:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-align")),fontsize:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-fontsize")),lspacing:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-lspacing")),indentation:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-indentation")),pspacing:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-pspacing")),page:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-page")),font:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-font")),color:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-color")),bgcolor:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-bgcolor")),h1align:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-h1align")),h2align:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-h2align")),h3align:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-h3align")),h4align:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-h4align")),distractionfree_font:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--distractionfree-font")),distractionfree_bg:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--distractionfree-bg")),distractionfree_fg:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--distractionfree-fg")),typesound:!1,caretfocus:!1}}}},methods:{dotrim(t){return t[0]===" "&&(t=t.substring(1)),t},makeNewCard(t){let e=this.$root.uuid();t&&(e=t);let n={};n.uuid=e,n.projectID=this.$root.$data.session.selectedProject,n.title="",n.description="",n.showdesc=!1,n.content="",n.labels=[],n.images=[],n.style="",n.options={},n.color="--card1",this.$root.AddRecord("Cards",n),this.$root.$data.session.EditCard=n.uuid}}},Sd={data(){return{GoogleDriveApi:{CLIENT_ID:"451112835343-dfdk5iglpkorfmt3ouu5puogmvmvn22p.apps.googleusercontent.com",API_KEY:"AIzaSyAq4C0VCC3I88n7GdW1VilDmcZdYle-UoU",DISCOVERY_DOC:"https://www.googleapis.com/discovery/v1/apis/drive/v3/rest",SCOPES:"https://www.googleapis.com/auth/drive.file",gapiInited:!1,gisInited:!1,tokenClient:null,loggedin:!1,files:[],CURRENT_FILE_OBJ:null,CURRENT_FILE_NAME:"",CURRENT_FILE_CONTENTS:"",loading:!1}}},methods:{async GoogleDriveInitializeGapi(){await window.gapi.client.init({apiKey:this.GoogleDriveApi.API_KEY,discoveryDocs:[this.GoogleDriveApi.DISCOVERY_DOC]}),this.GoogleDriveApi.gapiInited=!0,this.GoogleDriveCheckAuthStatus()},async GoogleDrivegisLoaded(){this.GoogleDriveApi.tokenClient=window.google.accounts.oauth2.initTokenClient({client_id:this.GoogleDriveApi.CLIENT_ID,scope:this.GoogleDriveApi.SCOPES,callback:""}),this.GoogleDriveApi.gisInited=!0,this.GoogleDriveCheckAuthStatus()},GoogleDriveCheckAuthStatus(){this.GoogleDriveApi.gapiInited&&this.GoogleDriveApi.gisInited&&this.GoogleDriveAuthStart()},async GoogleDriveAuthStart(){this.GoogleDriveApi.tokenClient.callback=t=>{if(t.error!==void 0)throw t;this.GoogleDriveApi.loggedin=!0,this.GoogleDriveListFiles()},window.gapi.client.getToken()===null?this.GoogleDriveApi.tokenClient.requestAccessToken({prompt:"consent"}):this.GoogleDriveApi.tokenClient.requestAccessToken({prompt:""})},GoogleDriveSignOut(){const t=window.gapi.client.getToken();t!==null&&(window.google.accounts.oauth2.revoke(t.access_token),window.gapi.client.setToken(""),this.GoogleDriveApi.loggedin=!1,this.$root.$data.popup.name=null)},async GoogleDriveListFiles(){this.GoogleDriveApi.searching=!0;let t;try{t=await window.gapi.client.drive.files.list({pageSize:10,fields:"files(id, name, size,  modifiedTime)",q:"name contains '.wm4'"})}catch{return}const e=t.result.files;!e||e.length==0||(this.GoogleDriveApi.files=e,this.GoogleDriveApi.searching=!1)},GoogleDriveReadFile(){var t=window.gapi.client.drive.files.get({fileId:this.GoogleDriveApi.CURRENT_FILE_OBJ.id,alt:"media"});return t.then(async e=>{const n=new Blob([e.body],{type:"text/json;charset=utf-8"});await this.$root.databaseImport(n),this.$root.getSettings()},function(e){console.error(e)}),this.$root.$data.popup.name=null,t},async GoogleDriveWriteFile(t){this.GoogleDriveApi.loading=!0,this.GoogleDriveApi.CURRENT_FILE_NAME=this.$root.session.settings.ProjectName;let n=await(await this.$root.databaseExport()).text();var o="";this.GoogleDriveApi.CURRENT_FILE_OBJ&&(o=this.GoogleDriveApi.CURRENT_FILE_OBJ.id);const r="-------314159265358979323846",s=`\r
--`+r+`\r
`,a=`\r
--`+r+"--",u="application/json";var p={name:this.GoogleDriveApi.CURRENT_FILE_NAME+".wm4",mimeType:u},c=s+`Content-Type: application/json\r
\r
`+JSON.stringify(p)+s+"Content-Type: "+u+`\r
\r
`+n+a,b;o==""?b=window.gapi.client.request({path:"/upload/drive/v3/files",method:"POST",params:{uploadType:"multipart"},headers:{"Content-Type":'multipart/related; boundary="'+r+'"'},body:c}):b=window.gapi.client.request({path:"/upload/drive/v3/files/"+o,method:"PATCH",params:{uploadType:"multipart"},headers:{"Content-Type":'multipart/related; boundary="'+r+'"'},body:c}),t||(t=C=>{this.GoogleDriveApi.CURRENT_FILE_OBJ,this.GoogleDriveApi.CURRENT_FILE_OBJ=C,this.GoogleDriveApi.loading=!1,this.$root.$data.popup.name=null}),b.execute(t)},GoogleDriveSignIn(){window.gapi.load("client",this.GoogleDriveInitializeGapi),this.GoogleDrivegisLoaded()}}},He=(t,e)=>{const n=t.__vccOpts||t;for(const[o,r]of e)n[o]=r;return n},Td={name:"ApiForm",methods:{async get(){let t=await this.$root.api_get();console.log("GET -> ",t)},async set(){let t=await this.$root.api_set();console.log("SET -> ",t)}}},Ed={key:0},Bd={key:1,class:"wavemakerForm"},Id={key:0},Dd={key:1};function _d(t,e,n,o,r,s){return f(),y(ae,null,[t.$root.$data.api_credentials.loading?(f(),y("div",Ed,[...e[6]||(e[6]=[i("svg",{class:"wavemakerLoadingIcon",version:"1.1",id:"L9",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 100","enable-background":"new 0 0 0 0","xml:space":"preserve"},[i("path",{d:"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50"},[i("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"})])],-1)])])):V("",!0),t.$root.$data.api_credentials.loading?V("",!0):(f(),y("div",Bd,[t.$root.$data.api_credentials.loggedin?V("",!0):(f(),y("div",Id,[e[7]||(e[7]=i("h1",null,"Log In",-1)),e[8]||(e[8]=i("label",null,"email",-1)),ue(i("input",{type:"email","onUpdate:modelValue":e[0]||(e[0]=a=>t.$root.$data.api_credentials.email=a),class:"formInput"},null,512),[[Ee,t.$root.$data.api_credentials.email]]),e[9]||(e[9]=i("label",null,"Password",-1)),ue(i("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=a=>t.$root.$data.api_credentials.password=a),class:"formInput"},null,512),[[Ee,t.$root.$data.api_credentials.password]]),i("button",{onClick:e[2]||(e[2]=a=>t.$root.api_login()),class:"formButton"},"Log IN"),i("div",null,k(t.$root.$data.api_credentials.error),1)])),t.$root.$data.api_credentials.loggedin?(f(),y("div",Dd,[i("button",{onClick:e[3]||(e[3]=a=>t.$root.api_logout()),class:"formButton"},"Log Out"),i("button",{onClick:e[4]||(e[4]=a=>s.get()),class:"formButton"},"Get File"),i("button",{onClick:e[5]||(e[5]=a=>s.set()),class:"formButton"},"Set File")])):V("",!0)]))],64)}const Pd=He(Td,[["render",_d]]),Od={name:"SettingsPopup",data(){return{themes:!1,lang:!1}},methods:{setTheme(t){this.$root.theme=t,this.$root.switchTheme(),this.themes=!1},language(t){this.$root.lang=t,this.$root.switchLang(),this.lang=!1},resetSettings(){this.$root.session.settings.documentprefs=JSON.parse(JSON.stringify(this.$root.SettingsTemplate.documentprefs)),this.updateSettings()},updateSettings(){document.documentElement.style.setProperty("--pageEditor-align",this.$root.session.settings.documentprefs.align),document.documentElement.style.setProperty("--pageEditor-fontsize",this.$root.session.settings.documentprefs.fontsize),document.documentElement.style.setProperty("--pageEditor-lspacing",this.$root.session.settings.documentprefs.lspacing),document.documentElement.style.setProperty("--pageEditor-indentation",this.$root.session.settings.documentprefs.indentation),document.documentElement.style.setProperty("--pageEditor-pspacing",this.$root.session.settings.documentprefs.pspacing),document.documentElement.style.setProperty("--pageEditor-page",this.$root.session.settings.documentprefs.page),document.documentElement.style.setProperty("--pageEditor-font",this.$root.session.settings.documentprefs.font),document.documentElement.style.setProperty("--pageEditor-color",this.$root.session.settings.documentprefs.color),document.documentElement.style.setProperty("--pageEditor-bgcolor",this.$root.session.settings.documentprefs.bgcolor),document.documentElement.style.setProperty("--pageEditor-h1align",this.$root.session.settings.documentprefs.h1align),document.documentElement.style.setProperty("--pageEditor-h2align",this.$root.session.settings.documentprefs.h2align),document.documentElement.style.setProperty("--pageEditor-h3align",this.$root.session.settings.documentprefs.h3align),document.documentElement.style.setProperty("--pageEditor-h4align",this.$root.session.settings.documentprefs.h4align),document.documentElement.style.setProperty("--distractionfree-font",this.$root.session.settings.documentprefs.distractionfree_font),document.documentElement.style.setProperty("--distractionfree-fg",this.$root.session.settings.documentprefs.distractionfree_fg),document.documentElement.style.setProperty("--distractionfree-bg",this.$root.session.settings.documentprefs.distractionfree_bg),this.$root.UpdateRecord("Settings",this.$root.session.settings.uuid,this.$root.session.settings)}},mounted(){console.log(this.$root.session.settings.documentprefs)}},Nd={style:{"text-align":"left"}},Rd={class:"container"},jd={class:"item item-center"},Fd={key:0,class:"dropdown"},Ud=["onClick"],zd={key:1,class:"dropdown"},Wd=["onClick"],Gd={value:"left"},qd={value:"center"},Zd={value:"right"},Kd={value:"justify"},Yd={value:"1rem"},Jd={value:"1.5rem"},Xd={value:"2rem"},Qd={value:"3rem"},eu={value:"3.5rem"},tu={value:"3rem"},nu={value:"4rem"},ou={value:"5rem"},iu={value:"6rem"},su={value:"20px"},ru={value:"0px"},au={value:"20px"},lu={value:"30px"},du={value:"40px"},uu={value:"50px"},cu={value:"100px"},pu={value:"800px"},hu={value:"100%"},fu={value:"left"},gu={value:"center"},mu={value:"right"},vu={value:"justify"},yu={value:"left"},bu={value:"center"},wu={value:"right"},Cu={value:"justify"},$u={value:"left"},Lu={value:"center"},ku={value:"right"},xu={value:"justify"},Hu={value:"left"},Au={value:"center"},Vu={value:"right"},Mu={value:"justify"};function Su(t,e,n,o,r,s){return f(),y("div",Nd,[i("h1",null,k(this.$root.setlang.settings.title),1),i("div",Rd,[i("div",jd,[i("button",{class:"interfaceBtn fullw",onClick:e[0]||(e[0]=a=>r.themes=!r.themes),style:{"text-align":"left"}},[e[33]||(e[33]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2C17.5,2 22,6 22,11A6,6 0 0,1 16,17H14.2C13.9,17 13.7,17.2 13.7,17.5C13.7,17.6 13.8,17.7 13.8,17.8C14.2,18.3 14.4,18.9 14.4,19.5C14.5,20.9 13.4,22 12,22M12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C12.3,20 12.5,19.8 12.5,19.5C12.5,19.3 12.4,19.2 12.4,19.1C12,18.6 11.8,18.1 11.8,17.5C11.8,16.1 12.9,15 14.3,15H16A4,4 0 0,0 20,11C20,7.1 16.4,4 12,4M6.5,10C7.3,10 8,10.7 8,11.5C8,12.3 7.3,13 6.5,13C5.7,13 5,12.3 5,11.5C5,10.7 5.7,10 6.5,10M9.5,6C10.3,6 11,6.7 11,7.5C11,8.3 10.3,9 9.5,9C8.7,9 8,8.3 8,7.5C8,6.7 8.7,6 9.5,6M14.5,6C15.3,6 16,6.7 16,7.5C16,8.3 15.3,9 14.5,9C13.7,9 13,8.3 13,7.5C13,6.7 13.7,6 14.5,6M17.5,10C18.3,10 19,10.7 19,11.5C19,12.3 18.3,13 17.5,13C16.7,13 16,12.3 16,11.5C16,10.7 16.7,10 17.5,10Z"})],-1)),ye(" "+k(this.$root.setlang.settings.themes),1)]),r.themes?(f(),y("div",Fd,[(f(!0),y(ae,null,Ne(t.$root.themeList,(a,u)=>(f(),y("button",{class:"myoption",onClick:p=>s.setTheme(a.file),key:u},k(a.name),9,Ud))),128))])):V("",!0),i("button",{class:"interfaceBtn fullw",onClick:e[1]||(e[1]=a=>r.lang=!r.lang),style:{"text-align":"left"}},[e[34]||(e[34]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M11 1H3C1.9 1 1 1.9 1 3V15L4 12H9V11C9 8.8 10.79 7 13 7V3C13 1.9 12.1 1 11 1M11 4L9.5 4C9.16 5.19 8.54 6.3 7.68 7.26L7.66 7.28L8.92 8.53L8.55 9.54L7 8L4.5 10.5L3.81 9.77L6.34 7.28C5.72 6.59 5.22 5.82 4.86 5H5.85C6.16 5.6 6.54 6.17 7 6.68C7.72 5.88 8.24 4.97 8.57 4L3 4V3H6.5V2H7.5V3H11V4M21 9H13C11.9 9 11 9.9 11 11V18C11 19.1 11.9 20 13 20H20L23 23V11C23 9.9 22.1 9 21 9M19.63 19L18.78 16.75H15.22L14.38 19H12.88L16.25 10H17.75L21.13 19H19.63M17 12L18.22 15.25H15.79L17 12Z"})],-1)),ye(" "+k(this.$root.setlang.settings.lang),1)]),r.lang?(f(),y("div",zd,[(f(!0),y(ae,null,Ne(Object.keys(this.$root.language),(a,u)=>(f(),y("button",{class:"myoption",key:u,onClick:p=>s.language(a)},k(this.$root.language[a].info.name),9,Wd))),128))])):V("",!0),e[36]||(e[36]=i("hr",null,null,-1)),i("h2",null,k(this.$root.setlang.settings.docprefs),1),i("label",null,k(this.$root.setlang.settings.alignment),1),ue(i("select",{class:"wavemaker-form","onUpdate:modelValue":e[2]||(e[2]=a=>this.$root.session.settings.documentprefs.align=a),onChange:e[3]||(e[3]=(...a)=>s.updateSettings&&s.updateSettings(...a))},[i("option",Gd,k(this.$root.setlang.settings.alignL),1),i("option",qd,k(this.$root.setlang.settings.alignC),1),i("option",Zd,k(this.$root.setlang.settings.alignR),1),i("option",Kd,k(this.$root.setlang.settings.alignJ),1)],544),[[Tt,this.$root.session.settings.documentprefs.align]]),i("label",null,k(this.$root.setlang.settings.fontsize),1),ue(i("select",{class:"wavemaker-form","onUpdate:modelValue":e[4]||(e[4]=a=>this.$root.session.settings.documentprefs.fontsize=a),onChange:e[5]||(e[5]=(...a)=>s.updateSettings&&s.updateSettings(...a))},[i("option",Yd,k(this.$root.setlang.settings.fontsize1),1),i("option",Jd,k(this.$root.setlang.settings.fontsize2),1),i("option",Xd,k(this.$root.setlang.settings.fontsize3),1),i("option",Qd,k(this.$root.setlang.settings.fontsize4),1),i("option",eu,k(this.$root.setlang.settings.fontsize5),1)],544),[[Tt,this.$root.session.settings.documentprefs.fontsize]]),i("label",null,k(this.$root.setlang.settings.lineheight),1),ue(i("select",{class:"wavemaker-form","onUpdate:modelValue":e[6]||(e[6]=a=>this.$root.session.settings.documentprefs.lspacing=a),onChange:e[7]||(e[7]=(...a)=>s.updateSettings&&s.updateSettings(...a))},[i("option",tu,k(this.$root.setlang.settings.lineheight1),1),i("option",nu,k(this.$root.setlang.settings.lineheight2),1),i("option",ou,k(this.$root.setlang.settings.lineheight3),1),i("option",iu,k(this.$root.setlang.settings.lineheight4),1)],544),[[Tt,this.$root.session.settings.documentprefs.lspacing]]),i("label",null,k(this.$root.setlang.settings.paragraph),1),ue(i("select",{class:"wavemaker-form","onUpdate:modelValue":e[8]||(e[8]=a=>this.$root.session.settings.documentprefs.indentation=a),onChange:e[9]||(e[9]=(...a)=>s.updateSettings&&s.updateSettings(...a))},[i("option",su,k(this.$root.setlang.settings.paragraphyes),1),i("option",ru,k(this.$root.setlang.settings.paragraphno),1)],544),[[Tt,this.$root.session.settings.documentprefs.indentation]]),i("label",null,k(this.$root.setlang.settings.paragraphspacing),1),ue(i("select",{class:"wavemaker-form","onUpdate:modelValue":e[10]||(e[10]=a=>this.$root.session.settings.documentprefs.pspacing=a),onChange:e[11]||(e[11]=(...a)=>s.updateSettings&&s.updateSettings(...a))},[i("option",au,k(this.$root.setlang.settings.paragraphspacing1),1),i("option",lu,k(this.$root.setlang.settings.paragraphspacing2),1),i("option",du,k(this.$root.setlang.settings.paragraphspacing3),1),i("option",uu,k(this.$root.setlang.settings.paragraphspacing4),1),i("option",cu,k(this.$root.setlang.settings.paragraphspacing5),1)],544),[[Tt,this.$root.session.settings.documentprefs.pspacing]]),i("label",null,k(this.$root.setlang.settings.pagewidth),1),ue(i("select",{class:"wavemaker-form","onUpdate:modelValue":e[12]||(e[12]=a=>this.$root.session.settings.documentprefs.page=a),onChange:e[13]||(e[13]=(...a)=>s.updateSettings&&s.updateSettings(...a))},[i("option",pu,k(this.$root.setlang.settings.pagestyle),1),i("option",hu,k(this.$root.setlang.settings.fullwidth),1)],544),[[Tt,this.$root.session.settings.documentprefs.page]]),i("table",null,[i("tbody",null,[i("tr",null,[i("td",null,[i("label",null,k(this.$root.setlang.settings.pagetext),1),ue(i("input",{type:"color","onUpdate:modelValue":e[14]||(e[14]=a=>this.$root.session.settings.documentprefs.color=a),onChange:e[15]||(e[15]=(...a)=>s.updateSettings&&s.updateSettings(...a))},null,544),[[Ee,this.$root.session.settings.documentprefs.color]])]),i("td",null,[i("label",null,k(this.$root.setlang.settings.pagecolour),1),ue(i("input",{type:"color","onUpdate:modelValue":e[16]||(e[16]=a=>this.$root.session.settings.documentprefs.bgcolor=a),onChange:e[17]||(e[17]=(...a)=>s.updateSettings&&s.updateSettings(...a))},null,544),[[Ee,this.$root.session.settings.documentprefs.bgcolor]])])])])]),i("label",null,k(this.$root.setlang.settings.h1align),1),ue(i("select",{class:"wavemaker-form","onUpdate:modelValue":e[18]||(e[18]=a=>this.$root.session.settings.documentprefs.h1align=a),onChange:e[19]||(e[19]=(...a)=>s.updateSettings&&s.updateSettings(...a))},[i("option",fu,k(this.$root.setlang.settings.alignL),1),i("option",gu,k(this.$root.setlang.settings.alignC),1),i("option",mu,k(this.$root.setlang.settings.alignR),1),i("option",vu,k(this.$root.setlang.settings.alignJ),1)],544),[[Tt,this.$root.session.settings.documentprefs.h1align]]),i("label",null,k(this.$root.setlang.settings.h2align),1),ue(i("select",{class:"wavemaker-form","onUpdate:modelValue":e[20]||(e[20]=a=>this.$root.session.settings.documentprefs.h2align=a),onChange:e[21]||(e[21]=(...a)=>s.updateSettings&&s.updateSettings(...a))},[i("option",yu,k(this.$root.setlang.settings.alignL),1),i("option",bu,k(this.$root.setlang.settings.alignC),1),i("option",wu,k(this.$root.setlang.settings.alignR),1),i("option",Cu,k(this.$root.setlang.settings.alignJ),1)],544),[[Tt,this.$root.session.settings.documentprefs.h2align]]),i("label",null,k(this.$root.setlang.settings.h3align),1),ue(i("select",{class:"wavemaker-form","onUpdate:modelValue":e[22]||(e[22]=a=>this.$root.session.settings.documentprefs.h3align=a),onChange:e[23]||(e[23]=(...a)=>s.updateSettings&&s.updateSettings(...a))},[i("option",$u,k(this.$root.setlang.settings.alignL),1),i("option",Lu,k(this.$root.setlang.settings.alignC),1),i("option",ku,k(this.$root.setlang.settings.alignR),1),i("option",xu,k(this.$root.setlang.settings.alignJ),1)],544),[[Tt,this.$root.session.settings.documentprefs.h3align]]),i("label",null,k(this.$root.setlang.settings.h4align),1),ue(i("select",{class:"wavemaker-form","onUpdate:modelValue":e[24]||(e[24]=a=>this.$root.session.settings.documentprefs.h4align=a),onChange:e[25]||(e[25]=(...a)=>s.updateSettings&&s.updateSettings(...a))},[i("option",Hu,k(this.$root.setlang.settings.alignL),1),i("option",Au,k(this.$root.setlang.settings.alignC),1),i("option",Vu,k(this.$root.setlang.settings.alignR),1),i("option",Mu,k(this.$root.setlang.settings.alignJ),1)],544),[[Tt,this.$root.session.settings.documentprefs.h4align]]),e[37]||(e[37]=i("hr",null,null,-1)),i("label",null,k(this.$root.setlang.settings.caretfocus),1),ue(i("input",{type:"checkbox","onUpdate:modelValue":e[26]||(e[26]=a=>this.$root.session.settings.documentprefs.caretfocus=a),style:{width:"20px",height:"20px"}},null,512),[[li,this.$root.session.settings.documentprefs.caretfocus]]),e[38]||(e[38]=i("hr",null,null,-1)),i("h2",null,k(this.$root.setlang.settings.typewriter),1),i("table",null,[i("tbody",null,[i("tr",null,[i("td",null,[i("label",null,k(this.$root.setlang.settings.typetext),1),ue(i("input",{type:"color","onUpdate:modelValue":e[27]||(e[27]=a=>this.$root.session.settings.documentprefs.distractionfree_fg=a),onChange:e[28]||(e[28]=(...a)=>s.updateSettings&&s.updateSettings(...a)),style:{width:"30px",height:"30px"}},null,544),[[Ee,this.$root.session.settings.documentprefs.distractionfree_fg]])]),i("td",null,[i("label",null,k(this.$root.setlang.settings.typepage),1),ue(i("input",{type:"color","onUpdate:modelValue":e[29]||(e[29]=a=>this.$root.session.settings.documentprefs.distractionfree_bg=a),onChange:e[30]||(e[30]=(...a)=>s.updateSettings&&s.updateSettings(...a)),style:{width:"30px",height:"30px"}},null,544),[[Ee,this.$root.session.settings.documentprefs.distractionfree_bg]])]),i("td",null,[i("label",null,k(this.$root.setlang.settings.typesound),1),ue(i("input",{type:"checkbox","onUpdate:modelValue":e[31]||(e[31]=a=>this.$root.session.settings.documentprefs.typesound=a),style:{width:"20px",height:"20px"}},null,512),[[li,this.$root.session.settings.documentprefs.typesound]])])])])]),e[39]||(e[39]=i("br",null,null,-1)),i("button",{onClick:e[32]||(e[32]=(...a)=>s.resetSettings&&s.resetSettings(...a)),class:"interfaceBtn"},[e[35]||(e[35]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M13.5 21H6V17H13.5C15.43 17 17 15.43 17 13.5S15.43 10 13.5 10H11V14L4 8L11 2V6H13.5C17.64 6 21 9.36 21 13.5S17.64 21 13.5 21Z"})],-1)),ye(" "+k(this.$root.setlang.settings.reset),1)])])]),e[40]||(e[40]=i("div",{style:{clear:"both"}},null,-1))])}const Tu=He(Od,[["render",Su],["__scopeId","data-v-c7d055bf"]]),Eu={name:"GoogleDrive",props:{msg:String},data(){return{tab:"load",searching:!1}},methods:{loggy(t){console.log(t)},openFile(t){this.$root.GoogleDriveApi.CURRENT_FILE_OBJ=t,this.$root.GoogleDriveApi.CURRENT_FILE_NAME=t.name,this.$root.GoogleDriveReadFile(),this.$root.popup.name=null}},async mounted(){this.$root.GoogleDriveApi.loggedin||await this.$root.GoogleDriveSignIn()}},Bu={key:1,style:{"text-align":"left"}},Iu={key:0},Du={key:0,style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},_u={key:1,version:"1.1",viewBox:"0 0 100 100",width:"24px",height:"24px"},Pu={key:1},Ou=["onClick"],Nu={class:"smalltext"},Ru={class:"smalltext"},ju={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function Fu(t,e,n,o,r,s){return f(),y(ae,null,[t.$root.GoogleDriveApi.loggedin?V("",!0):(f(),y("button",{key:0,onClick:e[0]||(e[0]=a=>t.$root.GoogleDriveSignIn()),class:"interfaceBtn GoogleDrive"},[e[5]||(e[5]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M7.71,3.5L1.15,15L4.58,21L11.13,9.5M9.73,15L6.3,21H19.42L22.85,15M22.28,14L15.42,2H8.58L8.57,2L15.43,14H22.28Z"})],-1)),ye(" "+k(this.$root.setlang.google.info),1)])),t.$root.GoogleDriveApi.loggedin?(f(),y("div",Bu,[t.$root.session.settings?(f(),y("div",Iu,[i("h3",null,k(this.$root.setlang.google.saveinfo),1),i("h4",null,k(this.$root.session.settings.ProjectName),1),i("button",{onClick:e[1]||(e[1]=a=>t.$root.GoogleDriveWriteFile()),class:"interfaceBtn"},[e[6]||(e[6]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M13 19C13 19.34 13.04 19.67 13.09 20H6.5C5 20 3.69 19.5 2.61 18.43C1.54 17.38 1 16.09 1 14.58C1 13.28 1.39 12.12 2.17 11.1S4 9.43 5.25 9.15C5.67 7.62 6.5 6.38 7.75 5.43S10.42 4 12 4C13.95 4 15.6 4.68 16.96 6.04C18.32 7.4 19 9.05 19 11C20.15 11.13 21.1 11.63 21.86 12.5C22.37 13.07 22.7 13.71 22.86 14.42C21.82 13.54 20.5 13 19 13C15.69 13 13 15.69 13 19M16 18H18V22H20V18H22L19 15L16 18Z"})],-1)),ye(" "+k(this.$root.setlang.google.save),1)])])):V("",!0),i("h3",null,k(this.$root.setlang.google.files),1),i("div",null,[i("button",{onClick:e[2]||(e[2]=a=>{t.$root.GoogleDriveApi.files=[],t.$root.GoogleDriveListFiles()}),class:"interfaceBtn filebutton",style:{width:"auto"}},[t.$root.GoogleDriveApi.searching?V("",!0):(f(),y("svg",Du,[...e[7]||(e[7]=[ye("> ",-1),i("path",{d:"M18 14.5C19.11 14.5 20.11 14.95 20.83 15.67L22 14.5V18.5H18L19.77 16.73C19.32 16.28 18.69 16 18 16C16.62 16 15.5 17.12 15.5 18.5C15.5 19.88 16.62 21 18 21C18.82 21 19.54 20.61 20 20H21.71C21.12 21.47 19.68 22.5 18 22.5C15.79 22.5 14 20.71 14 18.5C14 16.29 15.79 14.5 18 14.5M10 4L12 6H20C21.1 6 22 6.89 22 8V13C21 12.38 19.79 12 18.5 12C14.91 12 12 14.91 12 18.5C12 19 12.06 19.5 12.17 20H4C2.89 20 2 19.1 2 18L2 6C2 4.89 2.89 4 4 4H10Z"},null,-1)])])),t.$root.GoogleDriveApi.searching?(f(),y("svg",_u,[...e[8]||(e[8]=[i("path",{d:"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50"},[i("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"})],-1)])])):V("",!0),ye(" "+k(this.$root.setlang.google.search),1)])]),t.$root.GoogleDriveApi.files.length?(f(),y("div",Pu,[(f(!0),y(ae,null,Ne(t.$root.GoogleDriveApi.files,(a,u)=>(f(),y("div",{key:u},[i("button",{onClick:p=>s.openFile(a),class:"file"},[e[10]||(e[10]=qn('<svg viewBox="0 0 24 24" data-v-b7d1eb81><defs id="defs8" data-v-b7d1eb81></defs><path id="path2" d="M20,18H4V8H20M20,6H12L10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6Z" data-v-b7d1eb81></path><path id="path3731" d="m 11.084747,9.8305089 h 7.186439 V 17.01695 h -7.186439 z" style="fill:none;stroke-width:0.29943502;" data-v-b7d1eb81></path><path id="path3733" d="m 17.021865,11.84974 -1.7835,-1.787036 c -0.308989,-0.3095941 -0.810692,-0.3095941 -1.119667,0 l -1.777381,1.783961 c -0.104021,0.104223 -0.104021,0.269733 0,0.373956 l 0.538408,0.539479 0.357918,0.334109 c 0.107067,0.09809 0.269211,0.09809 0.376277,0 l 0.718911,-0.665156 c 0.198848,-0.183903 0.501704,-0.183903 0.697492,0 l 0.71891,0.665156 c 0.107081,0.09809 0.269212,0.09809 0.376292,0 l 0.357932,-0.334109 0.538408,-0.536404 c 0.100961,-0.101162 0.100961,-0.269733 0,-0.373956 z" style="stroke-width:0.0139114;" data-v-b7d1eb81></path><path id="path3735" d="m 11.325657,13.986203 2.793041,2.798572 c 0.308975,0.309566 0.810678,0.309566 1.119667,0 l 2.79304,-2.798572 c 0.483359,-0.4843 0.143785,-0.62837 -0.211087,-0.965553 l -0.437475,-0.416863 c -0.103993,-0.101148 -0.269211,-0.09807 -0.376277,0 l -0.718897,0.665156 c -0.198876,0.183917 -0.501703,0.183917 -0.697506,0 l -0.71891,-0.665156 c -0.106323,-0.09807 -0.269954,-0.09807 -0.376292,0 l -0.71891,0.665156 c -0.198848,0.183917 -0.501704,0.183917 -0.697492,0 l -0.718911,-0.665156 c -0.106336,-0.09807 -0.269955,-0.09807 -0.376292,0 l -0.403815,0.373969 c -0.37013,0.343305 -0.758647,0.499618 -0.253884,1.008447 z" style="stroke-width:0.0139114;" data-v-b7d1eb81></path></svg>',1)),i("div",null,[i("strong",null,k(a.name),1),e[9]||(e[9]=ye()),i("span",Nu,"("+k(a.size+"bytes")+")",1)]),i("div",Ru,k(a.modifiedTime),1)],8,Ou)]))),128))])):V("",!0),i("div",null,[e[13]||(e[13]=i("hr",null,null,-1)),i("button",{onClick:e[3]||(e[3]=(...a)=>t.$root.GoogleDriveSignOut&&t.$root.GoogleDriveSignOut(...a)),class:"interfaceBtn filebutton",style:{width:"auto",display:"inline-block"}},[e[11]||(e[11]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M10 4A4 4 0 0 0 6 8A4 4 0 0 0 10 12A4 4 0 0 0 14 8A4 4 0 0 0 10 4M17.5 13C15 13 13 15 13 17.5C13 20 15 22 17.5 22C20 22 22 20 22 17.5C22 15 20 13 17.5 13M10 14C5.58 14 2 15.79 2 18V20H11.5A6.5 6.5 0 0 1 11 17.5A6.5 6.5 0 0 1 11.95 14.14C11.32 14.06 10.68 14 10 14M17.5 14.5C19.16 14.5 20.5 15.84 20.5 17.5C20.5 18.06 20.35 18.58 20.08 19L16 14.92C16.42 14.65 16.94 14.5 17.5 14.5M14.92 16L19 20.08C18.58 20.35 18.06 20.5 17.5 20.5C15.84 20.5 14.5 19.16 14.5 17.5C14.5 16.94 14.65 16.42 14.92 16Z"})],-1)),ye(" "+k(this.$root.setlang.google.logout),1)]),i("button",{class:"interfaceBtn filebutton logout",onClick:e[4]||(e[4]=a=>t.$root.popup.name=null)},[(f(),y("svg",ju,[...e[12]||(e[12]=[i("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1)])])),ye(" "+k(this.$root.setlang.google.close),1)])])])):V("",!0)],64)}const Uu=He(Eu,[["render",Fu],["__scopeId","data-v-b7d1eb81"]]),zu={name:"SettingsPopup",data(){return{showkey:!1,question:null,response:null,apikey:null,maxtokens:50,loading:!1,responsetext:""}},methods:{saveKey(){localStorage.setItem("ChatGPKey",this.apikey)},sendRequest(){this.loading=!0;var t=new FormData;t.append("apikey",this.apikey),t.append("question",this.question),t.append("maxtokens",this.maxtokens),fetch("https://wavemaker.co.uk/ai/index.php",{method:"POST",cache:"no-cache",body:t}).then(e=>{if(e.status!==200){console.log("Looks like there was a problem. Status Code: "+e.status),this.loading=!1;return}e.text().then(n=>{let o=JSON.parse(n);this.response=o.choices,this.response.forEach(r=>{this.responsetext=this.responsetext+r.text+`
`}),this.loading=!1,console.log(" >>>>>>>>>",n)})})}},mounted(){localStorage.getItem("ChatGPKey")&&(this.apikey=localStorage.getItem("ChatGPKey"))}},Wu={style:{"text-align":"left"}},Gu={style:{height:"2em"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","data-v-65511fdb":""},qu={class:"container"},Zu={class:"item item-center"},Ku={key:0},Yu={key:0},Ju={key:1,style:{width:"100%"}},Xu={style:{width:"75%"}},Qu={key:2},e1={key:0},t1={key:1},n1={class:"loader"},o1={style:{"max-width":"150px",margin:"0 auto"},version:"1.1",id:"L7",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 100","enable-background":"new 0 0 100 100","xml:space":"preserve"};function i1(t,e,n,o,r,s){return f(),y("div",Wu,[i("h1",null,[(f(),y("svg",Gu,[...e[7]||(e[7]=[i("title",{"data-v-65511fdb":""},"robot",-1),i("path",{d:"M12,2A2,2 0 0,1 14,4C14,4.74 13.6,5.39 13,5.73V7H14A7,7 0 0,1 21,14H22A1,1 0 0,1 23,15V18A1,1 0 0,1 22,19H21V20A2,2 0 0,1 19,22H5A2,2 0 0,1 3,20V19H2A1,1 0 0,1 1,18V15A1,1 0 0,1 2,14H3A7,7 0 0,1 10,7H11V5.73C10.4,5.39 10,4.74 10,4A2,2 0 0,1 12,2M7.5,13A2.5,2.5 0 0,0 5,15.5A2.5,2.5 0 0,0 7.5,18A2.5,2.5 0 0,0 10,15.5A2.5,2.5 0 0,0 7.5,13M16.5,13A2.5,2.5 0 0,0 14,15.5A2.5,2.5 0 0,0 16.5,18A2.5,2.5 0 0,0 19,15.5A2.5,2.5 0 0,0 16.5,13Z","data-v-65511fdb":""},null,-1)])])),e[8]||(e[8]=ye(" OpenAI Assistant (botty)",-1))]),i("div",qu,[i("div",Zu,[r.loading?V("",!0):(f(),y("div",Ku,[r.apikey?V("",!0):(f(),y("div",Yu,[...e[9]||(e[9]=[ye(" You need to provide an API Key - need help? look here ",-1),i("a",{href:"https://wavemaker.co.uk/blog/getting-started-with-the-open-ai-bot/",target:"_blank"},"Click Here for info",-1),ye(),i("br",null,null,-1),i("br",null,null,-1)])])),i("button",{class:"interfaceBtn",onClick:e[0]||(e[0]=a=>r.showkey=!r.showkey)},[...e[10]||(e[10]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[i("title",null,"key"),i("path",{d:"M7 14C5.9 14 5 13.1 5 12S5.9 10 7 10 9 10.9 9 12 8.1 14 7 14M12.6 10C11.8 7.7 9.6 6 7 6C3.7 6 1 8.7 1 12S3.7 18 7 18C9.6 18 11.8 16.3 12.6 14H16V18H20V14H23V10H12.6Z"})],-1),ye(" Show OpenAi Api Key",-1)])]),r.showkey?(f(),y("table",Ju,[i("tbody",null,[i("tr",null,[i("td",Xu,[ue(i("input",{style:{width:"100%"},class:"formInput",type:"text","onUpdate:modelValue":e[1]||(e[1]=a=>r.apikey=a)},null,512),[[Ee,r.apikey]])]),i("td",null,[i("button",{class:"interfaceBtn",style:{width:"100%"},onClick:e[2]||(e[2]=a=>s.saveKey())},[...e[11]||(e[11]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[i("title",null,"content-save"),i("path",{d:"M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z"})],-1),ye(" Save",-1)])])])])])])):V("",!0),r.apikey?(f(),y("div",Qu,[e[13]||(e[13]=i("h1",null,"How can I help you today?",-1)),ue(i("textarea",{style:{height:"auto"},class:"formInput",type:"text","onUpdate:modelValue":e[3]||(e[3]=a=>r.question=a),rows:"4"},null,512),[[Ee,r.question]]),e[14]||(e[14]=i("label",null,"Set a token limit for this request",-1)),ue(i("input",{type:"number",class:"formInput","onUpdate:modelValue":e[4]||(e[4]=a=>r.maxtokens=a)},null,512),[[Ee,r.maxtokens]]),i("button",{class:"interfaceBtn",onClick:e[5]||(e[5]=a=>s.sendRequest())},[...e[12]||(e[12]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[i("title",null,"robot-happy"),i("path",{d:"M22 14H21C21 10.13 17.87 7 14 7H13V5.73C13.6 5.39 14 4.74 14 4C14 2.9 13.11 2 12 2S10 2.9 10 4C10 4.74 10.4 5.39 11 5.73V7H10C6.13 7 3 10.13 3 14H2C1.45 14 1 14.45 1 15V18C1 18.55 1.45 19 2 19H3V20C3 21.11 3.9 22 5 22H19C20.11 22 21 21.11 21 20V19H22C22.55 19 23 18.55 23 18V15C23 14.45 22.55 14 22 14M9.79 16.5C9.4 15.62 8.53 15 7.5 15S5.6 15.62 5.21 16.5C5.08 16.19 5 15.86 5 15.5C5 14.12 6.12 13 7.5 13S10 14.12 10 15.5C10 15.86 9.92 16.19 9.79 16.5M18.79 16.5C18.4 15.62 17.5 15 16.5 15S14.6 15.62 14.21 16.5C14.08 16.19 14 15.86 14 15.5C14 14.12 15.12 13 16.5 13S19 14.12 19 15.5C19 15.86 18.92 16.19 18.79 16.5Z"})],-1),ye(" Send Request",-1)])]),i("div",null,[r.responsetext?(f(),y("div",e1,[ue(i("textarea",{style:{height:"auto"},class:"formInput",type:"text","onUpdate:modelValue":e[6]||(e[6]=a=>r.responsetext=a),rows:"8"},null,512),[[Ee,r.responsetext]])])):V("",!0)])])):V("",!0)])),r.loading?(f(),y("div",t1,[i("div",n1,[(f(),y("svg",o1,[...e[15]||(e[15]=[qn(`<path fill="#fff" d="M31.6,3.5C5.9,13.6-6.6,42.7,3.5,68.4c10.1,25.7,39.2,38.3,64.9,28.1l-3.1-7.9c-21.3,8.4-45.4-2-53.8-23.3\r
  c-8.4-21.3,2-45.4,23.3-53.8L31.6,3.5z" data-v-2111268f><animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="2s" from="0 50 50" to="360 50 50" repeatCount="indefinite" data-v-2111268f></animateTransform></path><path fill="#fff" d="M42.3,39.6c5.7-4.3,13.9-3.1,18.1,2.7c4.3,5.7,3.1,13.9-2.7,18.1l4.1,5.5c8.8-6.5,10.6-19,4.1-27.7\r
  c-6.5-8.8-19-10.6-27.7-4.1L42.3,39.6z" data-v-2111268f><animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="1s" from="0 50 50" to="-360 50 50" repeatCount="indefinite" data-v-2111268f></animateTransform></path><path fill="#fff" d="M82,35.7C74.1,18,53.4,10.1,35.7,18S10.1,46.6,18,64.3l7.6-3.4c-6-13.5,0-29.3,13.5-35.3s29.3,0,35.3,13.5\r
  L82,35.7z" data-v-2111268f><animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="2s" from="0 50 50" to="360 50 50" repeatCount="indefinite" data-v-2111268f></animateTransform></path>`,3)])])),e[16]||(e[16]=i("h3",null," Open Ai is doing it's thing ",-1))])])):V("",!0)])])])}const s1=He(zu,[["render",i1],["__scopeId","data-v-2111268f"]]),r1={name:"PopupManager",components:{ApiForm:Pd,SettingsPopup:Tu,GoogleDrive:Uu,AiHelp:s1}},a1={key:0,class:"wavemakerPopup",style:{"text-align":"center"}},l1={style:{"text-align":"right"}},d1={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function u1(t,e,n,o,r,s){const a=Q("ApiForm"),u=Q("SettingsPopup"),p=Q("GoogleDrive"),c=Q("AiHelp");return f(),y(ae,null,[t.$root.$data.popup.name?(f(),y("div",{key:0,class:"wavemakerPopupBlackout",onClick:e[0]||(e[0]=b=>t.$root.$data.popup.name=null)})):V("",!0),_e(Zn,{name:"bounce"},{default:bt(()=>[t.$root.$data.popup.name?(f(),y("div",a1,[i("div",l1,[i("button",{class:"clearInterfaceIconButton",onClick:e[1]||(e[1]=b=>t.$root.$data.popup.name=null)},[(f(),y("svg",d1,[...e[2]||(e[2]=[i("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1)])]))])]),t.$root.$data.popup.name==="ApiForm"?(f(),Te(a,{key:0})):V("",!0),t.$root.$data.popup.name==="SettingsPopup"?(f(),Te(u,{key:1})):V("",!0),t.$root.$data.popup.name==="GoogleDrive"?(f(),Te(p,{key:2})):V("",!0),t.$root.$data.popup.name==="AiHelp"?(f(),Te(c,{key:3})):V("",!0)])):V("",!0)]),_:1})],64)}const c1=He(r1,[["render",u1]]);function Hi(){const t=yt(!1),e=yt(!1),n=yt(!1),o=yt(null);let r=null;const s={INSTALL_PROMPT_SHOWN:"pwa_install_prompt_shown",UPDATE_PROMPT_SHOWN:"pwa_update_prompt_shown",OFFLINE_PROMPT_SHOWN:"pwa_offline_prompt_shown"},a=B=>sessionStorage.getItem(B)==="true",u=B=>{sessionStorage.setItem(B,"true")},p=B=>{B.preventDefault(),o.value=B,a(s.INSTALL_PROMPT_SHOWN)||(n.value=!0)},c=async()=>{if(!o.value)return;const B=await o.value.prompt();console.log("Install prompt result:",B),o.value=null,n.value=!1,u(s.INSTALL_PROMPT_SHOWN)},b=()=>{o.value=null,n.value=!1,console.log("PWA was installed")},C=async()=>{r&&await r(!0)},A=()=>{t.value=!1,u(s.UPDATE_PROMPT_SHOWN)},x=()=>{n.value=!1,u(s.INSTALL_PROMPT_SHOWN)},E=()=>{e.value=!1,u(s.OFFLINE_PROMPT_SHOWN)},O=async(B={})=>{const{clearLocalStorage:ie=!1,clearSessionStorage:le=!0,clearIndexedDB:pe=!1,clearCaches:ee=!0}=B;try{if(console.log("Starting force update with options:",B),ee&&"caches"in window){const me=await caches.keys();console.log("Clearing caches:",me),await Promise.all(me.map(N=>caches.delete(N)))}if("serviceWorker"in navigator){const me=await navigator.serviceWorker.getRegistrations();console.log("Unregistering service workers:",me.length),await Promise.all(me.map(N=>N.unregister()))}ie&&(localStorage.clear(),console.log("LocalStorage cleared")),le&&(sessionStorage.clear(),console.log("SessionStorage cleared")),pe&&"indexedDB"in window&&console.log("IndexedDB clearing requested (implement if needed)"),console.log("Force update complete, reloading..."),window.location.reload?window.location.reload(!0):window.location.href=window.location.href+"?t="+Date.now()}catch(me){console.error("Error during force update:",me),window.location.reload(!0)}};return wi(()=>{window.addEventListener("beforeinstallprompt",p),window.addEventListener("appinstalled",b),"serviceWorker"in navigator&&(navigator.serviceWorker.ready.then(ie=>{ie.addEventListener("updatefound",()=>{const le=ie.installing;le&&le.addEventListener("statechange",()=>{le.state==="installed"&&navigator.serviceWorker.controller&&(a(s.UPDATE_PROMPT_SHOWN)||(t.value=!0))})})}),navigator.serviceWorker.addEventListener("message",ie=>{ie.data&&ie.data.type==="SW_UPDATED"&&(a(s.UPDATE_PROMPT_SHOWN)||(t.value=!0))})),window.matchMedia("(display-mode: standalone)").matches&&(n.value=!1)}),{needRefresh:t,offlineReady:e,canInstall:n,installPWA:c,updateApp:C,closeUpdatePrompt:A,closeInstallPrompt:x,closeOfflinePrompt:E,forceUpdate:O,initVitePWA:()=>{const B=()=>{typeof window<"u"&&window.__vite_plugin_pwa_sw_register__?r=window.__vite_plugin_pwa_sw_register__(!0,{onNeedRefresh(){a(s.UPDATE_PROMPT_SHOWN)||(t.value=!0)},onOfflineReady(){a(s.OFFLINE_PROMPT_SHOWN)||(e.value=!0)},onRegisterError(ie){console.error("SW registration error:",ie)}}):setTimeout(B,100)};B()}}}const p1=["disabled","title"],h1={key:0,width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"},f1={key:1,width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"},g1={key:0},m1={__name:"ForceUpdateButton",props:{showText:{type:Boolean,default:!0},buttonClass:{type:String,default:""},confirmMessage:{type:String,default:"This will clear all cached data and reload the app. Are you sure?"},updateOptions:{type:Object,default:()=>({clearLocalStorage:!1,clearSessionStorage:!0,clearIndexedDB:!1,clearCaches:!0})}},setup(t){const e=t,{forceUpdate:n}=Hi(),o=yt(!1),r=di(()=>o.value?"Updating...":"Force Update"),s=di(()=>o.value?"Clearing cache and reloading...":"Clear all cached data and reload from server"),a=async()=>{if(!(o.value||!confirm(e.confirmMessage))){o.value=!0;try{await n(e.updateOptions)}catch(p){console.error("Force update failed:",p),o.value=!1}}};return(u,p)=>(f(),y("button",{onClick:a,disabled:o.value,class:"interfaceBtn fullw text-left",title:s.value},[i("div",{class:Fe({spinning:o.value})},[o.value?(f(),y("svg",f1,[...p[1]||(p[1]=[i("path",{d:"M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z"},null,-1)])])):(f(),y("svg",h1,[...p[0]||(p[0]=[i("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"},null,-1)])]))],2),t.showText?(f(),y("span",g1,k(r.value),1)):V("",!0)],8,p1))}},v1=He(m1,[["__scopeId","data-v-ba5d0ed7"]]),y1={name:"welcomeSettings",components:{ForceUpdateButton:v1},data(){return{}},methods:{MakeSettings(){let t=JSON.parse(JSON.stringify(this.$root.SettingsTemplate));t.uuid=this.$root.uuid(),t.ProjectName=this.$root.setlang.start.projectlabel,this.$root.AddRecord("Settings",t),this.$root.session.settings=this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Settings.get(t.uuid)))}}},b1={key:0,class:"wavemaker_welcome"},w1={class:"wavemakerForm"},C1={style:{"text-align":"center"}},$1=["title"],L1=["title"],k1={class:"languages"},x1=["value"],H1={style:{"background-color":"#fff",padding:"10px","border-radius":"5px","margin-top":"10px"}};function A1(t,e,n,o,r,s){const a=Q("ForceUpdateButton");return this.$root.setlang?(f(),y("div",b1,[i("div",w1,[i("div",C1,[e[6]||(e[6]=qn('<svg id="wavemaker_logo" version="1.1" viewBox="0 0 24 24" height="50" width="50" data-v-e360b102><path d="M0 0h24v24H0V0z" fill="none" data-v-e360b102></path><g transform="matrix(0.046875,0,0,0.04604639,-1.951887,-3.0598516)" data-v-e360b102><g id="_921457168" data-v-e360b102><path class="wavemaker_logo-top" d="M 464.632,212.901 337.566,83.292 c -22.014,-22.454 -57.758,-22.454 -79.771,0 l -126.63,129.386 c -7.411,7.559 -7.411,19.563 0,27.122 l 38.359,39.127 25.5,24.232 c 7.628,7.114 19.18,7.114 26.808,0 l 51.219,-48.242 c 14.167,-13.338 35.744,-13.338 49.693,0 l 51.219,48.242 c 7.629,7.114 19.18,7.114 26.809,0 l 25.501,-24.232 38.359,-38.904 c 7.193,-7.337 7.193,-19.563 0,-27.122 z" data-v-e360b102></path><path class="wavemaker_logo-bottom" d="m 58.804,367.853 198.991,202.973 c 22.013,22.452 57.757,22.452 79.771,0 L 536.557,367.853 c 34.437,-35.125 10.244,-45.574 -15.039,-70.029 L 490.35,267.59 c -7.409,-7.336 -19.18,-7.113 -26.808,0 l -51.218,48.242 c -14.169,13.339 -35.744,13.339 -49.694,0 L 311.411,267.59 c -7.575,-7.113 -19.233,-7.113 -26.809,0 l -51.219,48.242 c -14.167,13.339 -35.744,13.339 -49.693,0 L 132.471,267.59 c -7.576,-7.113 -19.233,-7.113 -26.809,0 l -28.77,27.123 c -26.37,24.899 -54.05,36.236 -18.088,73.14 z" data-v-e360b102></path></g></g></svg><div class="softwareName" data-v-e360b102>Wavemaker Cards</div>',2)),i("div",null,"Version 4 ("+k(this.$root.myPackage.version)+") ",1),i("h3",null,k(this.$root.setlang.welcome.info),1)]),i("button",{class:"interfaceBtn fullw text-left focuson",onClick:e[0]||(e[0]=(...u)=>s.MakeSettings&&s.MakeSettings(...u))},[e[7]||(e[7]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M10,16.5V7.5L16,12M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"})],-1)),i("span",null,k(this.$root.setlang.welcome.getstarted),1)]),i("button",{onClick:e[1]||(e[1]=u=>t.$root.$data.popup.name="GoogleDrive"),class:"interfaceBtn fullw text-left",title:this.$root.setlang.welcome.loadgoogle},[e[8]||(e[8]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M13.75,9H16.14L19,14H16.05L13.5,9.46M18.3,17H12.75L14.15,14.5H19.27L19.53,14.96M11.5,17L10.4,14.86L13.24,9.9L14.74,12.56L12.25,17M20,6H12L10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6Z"})],-1)),i("span",null,k(this.$root.setlang.welcome.loadgoogle),1)],8,$1),i("button",{onClick:e[2]||(e[2]=(...u)=>t.$root.file_loadDB&&t.$root.file_loadDB(...u)),class:"interfaceBtn fullw text-left",title:this.$root.setlang.welcome.loadfile},[e[9]||(e[9]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M19,20H4C2.89,20 2,19.1 2,18V6C2,4.89 2.89,4 4,4H10L12,6H19A2,2 0 0,1 21,8H21L4,8V18L6.14,10H23.21L20.93,18.5C20.7,19.37 19.92,20 19,20Z"})],-1)),i("span",null,k(this.$root.setlang.welcome.loadfile),1)],8,L1),i("div",k1,[ue(i("select",{"onUpdate:modelValue":e[3]||(e[3]=u=>this.$root.lang=u),onChange:e[4]||(e[4]=u=>this.$root.switchLang())},[(f(!0),y(ae,null,Ne(Object.keys(this.$root.language).sort(),(u,p)=>(f(),y("option",{key:p,value:u},k(u)+" ("+k(this.$root.language[u].info.name)+") ",9,x1))),128))],544),[[Tt,this.$root.lang]])]),i("div",null,[i("label",null,k(this.$root.setlang.welcome.legacy),1),i("button",{class:"interfaceBtn fullw text-left",onClick:e[5]||(e[5]=u=>t.$root.v3import=!0)},[e[10]||(e[10]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M20 6H2V2H20V6M16.5 12H15V17L18.61 19.16L19.36 17.94L16.5 16.25V12M23 16C23 19.87 19.87 23 16 23C13.62 23 11.53 21.81 10.26 20H3V7H19V9.68C21.36 10.81 23 13.21 23 16M8 12H10.26C10.83 11.19 11.56 10.5 12.41 10H8.5C8.22 10 8 10.22 8 10.5V12M21 16C21 13.24 18.76 11 16 11S11 13.24 11 16 13.24 21 16 21 21 18.76 21 16Z"})],-1)),ye(" "+k(this.$root.setlang.welcome.v3import),1)])]),i("div",H1,[e[11]||(e[11]=i("h2",null,"App Updates",-1)),e[12]||(e[12]=i("p",{style:{"font-size":"0.9em",color:"#212121","margin-bottom":"5px"}}," Clear all cached data and force reload from server. Use this if you're experiencing issues or want to ensure you have the latest version. ",-1)),_e(a,{"confirm-message":"This will clear all cached app data and reload. Your project data will be preserved. Continue?"})]),e[13]||(e[13]=i("div",{style:{"text-align":"center",padding:"10px"}},[i("a",{href:"privacy.html",target:"_blank"},"Privacy Policy")],-1))])])):V("",!0)}const V1=He(y1,[["render",A1],["__scopeId","data-v-e360b102"]]),M1={name:"ToolBar",data(){return{}},methods:{setTool(t){this.$root.session.selectedTool=t,this.$root.togglenav&&(this.$root.navbar=!1)},toggleNav(){this.$root.togglenav&&(this.$root.navbar=!this.$root.navbar)}}},S1={class:"TopToolbar"},T1={style:{float:"right"}},E1=["title"],B1={class:"tooltiptext"},I1={class:"tooltiptext"},D1={class:"tooltiptext"},_1={key:0},P1={class:"tooltiptext"},O1={key:1,class:"toolbarButton"},N1={class:"tooltiptext"},R1={class:"tooltiptext",style:{right:"0px"}},j1={key:0,class:"navbar"},F1=["title"],U1={class:"tooltiptext"},z1=["title"],W1={class:"tooltiptext"},G1={class:"tooltiptext"},q1={class:"tooltiptext"},Z1={class:"tooltiptext"},K1={class:"tooltiptext"},Y1={class:"tooltiptext"},J1={class:"tooltiptext"};function X1(t,e,n,o,r,s){return f(),y(ae,null,[i("div",S1,[i("button",{id:"wavemakerIconButton",onClick:e[0]||(e[0]=(...a)=>s.toggleNav&&s.toggleNav(...a))},[...e[14]||(e[14]=[qn('<svg id="wavemaker_logo" version="1.1" viewBox="0 0 24 24" data-v-3a766c37><path d="M0 0h24v24H0V0z" fill="none" data-v-3a766c37></path><g transform="matrix(0.046875,0,0,0.04604639,-1.951887,-3.0598516)" data-v-3a766c37><g id="_921457168" data-v-3a766c37><path class="wavemaker_logo-top" d="M 464.632,212.901 337.566,83.292 c -22.014,-22.454 -57.758,-22.454 -79.771,0 l -126.63,129.386 c -7.411,7.559 -7.411,19.563 0,27.122 l 38.359,39.127 25.5,24.232 c 7.628,7.114 19.18,7.114 26.808,0 l 51.219,-48.242 c 14.167,-13.338 35.744,-13.338 49.693,0 l 51.219,48.242 c 7.629,7.114 19.18,7.114 26.809,0 l 25.501,-24.232 38.359,-38.904 c 7.193,-7.337 7.193,-19.563 0,-27.122 z" data-v-3a766c37></path><path class="wavemaker_logo-bottom" d="m 58.804,367.853 198.991,202.973 c 22.013,22.452 57.757,22.452 79.771,0 L 536.557,367.853 c 34.437,-35.125 10.244,-45.574 -15.039,-70.029 L 490.35,267.59 c -7.409,-7.336 -19.18,-7.113 -26.808,0 l -51.218,48.242 c -14.169,13.339 -35.744,13.339 -49.694,0 L 311.411,267.59 c -7.575,-7.113 -19.233,-7.113 -26.809,0 l -51.219,48.242 c -14.167,13.339 -35.744,13.339 -49.693,0 L 132.471,267.59 c -7.576,-7.113 -19.233,-7.113 -26.809,0 l -28.77,27.123 c -26.37,24.899 -54.05,36.236 -18.088,73.14 z" data-v-3a766c37></path></g></g></svg>',1)])]),i("div",T1,[i("button",{onClick:e[1]||(e[1]=a=>t.$root.$data.popup.name="SettingsPopup"),class:"toolbarButton",title:this.$root.setlang.settings.title},[e[15]||(e[15]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"})],-1)),i("span",B1,k(this.$root.setlang.toolbar.settings),1)],8,E1),i("button",{onClick:e[2]||(e[2]=(...a)=>t.$root.file_downloadDB&&t.$root.file_downloadDB(...a)),class:"toolbarButton"},[e[16]||(e[16]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z"})],-1)),i("span",I1,k(this.$root.setlang.toolbar.save),1)]),i("button",{onClick:e[3]||(e[3]=a=>t.$root.popup.name="GoogleDrive"),class:"toolbarButton"},[e[17]||(e[17]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M7.71,3.5L1.15,15L4.58,21L11.13,9.5M9.73,15L6.3,21H19.42L22.85,15M22.28,14L15.42,2H8.58L8.57,2L15.43,14H22.28Z"})],-1)),i("span",D1,k(this.$root.setlang.toolbar.googledrive),1)]),t.$root.GoogleDriveApi.loggedin?(f(),y("span",_1,[t.$root.GoogleDriveApi.loading?V("",!0):(f(),y("button",{key:0,onClick:e[4]||(e[4]=a=>this.$root.GoogleDriveWriteFile()),class:"toolbarButton"},[e[18]||(e[18]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M13 19C13 19.34 13.04 19.67 13.09 20H6.5C5 20 3.69 19.5 2.61 18.43C1.54 17.38 1 16.09 1 14.58C1 13.28 1.39 12.12 2.17 11.1S4 9.43 5.25 9.15C5.67 7.62 6.5 6.38 7.75 5.43S10.42 4 12 4C13.95 4 15.6 4.68 16.96 6.04C18.32 7.4 19 9.05 19 11C20.15 11.13 21.1 11.63 21.86 12.5C22.37 13.07 22.7 13.71 22.86 14.42C21.82 13.54 20.5 13 19 13C15.69 13 13 15.69 13 19M16 18H18V22H20V18H22L19 15L16 18Z"})],-1)),i("span",P1,k(this.$root.setlang.toolbar.quick),1)])),t.$root.GoogleDriveApi.loading?(f(),y("button",O1,[e[19]||(e[19]=i("svg",{version:"1.1",viewBox:"0 0 100 100"},[i("path",{d:"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50"},[i("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"})])],-1)),i("span",N1,k(this.$root.setlang.toolbar.googledrive),1)])):V("",!0)])):V("",!0),i("button",{onClick:e[5]||(e[5]=a=>t.$root.closeProject()),class:"toolbarButton"},[e[20]||(e[20]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"})],-1)),i("span",R1,k(this.$root.setlang.toolbar.close),1)])])]),_e(Zn,{name:"toolbar-slide-fade"},{default:bt(()=>[t.$root.navbar?(f(),y("div",j1,[i("button",{class:Fe(["toolbarButton vertical",t.$root.session.selectedTool?"":"active"]),onClick:e[6]||(e[6]=a=>s.setTool(null)),title:this.$root.setlang.toolbar.projecthome},[e[21]||(e[21]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z"})],-1)),i("span",U1,k(this.$root.setlang.toolbar.projecthome),1)],10,F1),i("button",{class:Fe(["toolbarButton vertical",t.$root.session.selectedTool==="writer"?"active":""]),onClick:e[7]||(e[7]=a=>s.setTool("writer")),title:this.$root.setlang.toolbar.writer},[e[22]||(e[22]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M19 2L14 6.5V17.5L19 13V2M6.5 5C4.55 5 2.45 5.4 1 6.5V21.16C1 21.41 1.25 21.66 1.5 21.66C1.6 21.66 1.65 21.59 1.75 21.59C3.1 20.94 5.05 20.5 6.5 20.5C8.45 20.5 10.55 20.9 12 22C13.35 21.15 15.8 20.5 17.5 20.5C19.15 20.5 20.85 20.81 22.25 21.56C22.35 21.61 22.4 21.59 22.5 21.59C22.75 21.59 23 21.34 23 21.09V6.5C22.4 6.05 21.75 5.75 21 5.5V19C19.9 18.65 18.7 18.5 17.5 18.5C15.8 18.5 13.35 19.15 12 20V6.5C10.55 5.4 8.45 5 6.5 5Z"})],-1)),i("span",W1,k(this.$root.setlang.toolbar.writer),1)],10,z1),i("button",{class:Fe(["toolbarButton vertical",t.$root.session.selectedTool==="planningboard"?"active":""]),onClick:e[8]||(e[8]=a=>s.setTool("planningboard"))},[e[23]||(e[23]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M22,9V7H20V5A2,2 0 0,0 18,3H4A2,2 0 0,0 2,5V19A2,2 0 0,0 4,21H18A2,2 0 0,0 20,19V17H22V15H20V13H22V11H20V9H22M18,19H4V5H18V19M6,13H11V17H6V13M12,7H16V10H12V7M6,7H11V12H6V7M12,11H16V17H12V11Z"})],-1)),i("span",G1,k(this.$root.setlang.toolbar.planningboard),1)],2),i("button",{class:Fe(["toolbarButton vertical",t.$root.session.selectedTool==="mindmap"?"active":""]),onClick:e[9]||(e[9]=a=>s.setTool("mindmap"))},[e[24]||(e[24]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M21 16V13C21 11.89 20.11 11 19 11H13V8H15V2H9V8H11V11H5C3.89 11 3 11.89 3 13V16H1V22H7V16H5V13H11V16H9V22H15V16H13V13H19V16H17V22H23V16H21M11 4H13V6H11V4M5 20H3V18H5V20M13 20H11V18H13V20M21 20H19V18H21V20Z"})],-1)),i("span",q1,k(this.$root.setlang.toolbar.mindmap),1)],2),i("button",{class:Fe(["toolbarButton vertical",t.$root.session.selectedTool==="snowflake"?"active":""]),onClick:e[10]||(e[10]=a=>s.setTool("snowflake"))},[e[25]||(e[25]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M14.25,12L16.27,11H23L22,9H18.03L20.42,5.83L19.43,3.83L15.37,9.2L13.35,10.21L13.75,8L17.83,2.62L15.64,2.22L12,7L8.4,2.2L6.2,2.6L10.26,8L10.66,10.21L8.82,9.29L8.66,9.21L4.6,3.8L3.6,5.8L6,9H2L1,11H7.77L9.75,12L7.73,13H1L2,15H5.97L3.58,18.17L4.57,20.17L8.63,14.8L10.65,13.79L10.25,16L6.17,21.38L8.36,21.79L12,17L15.6,21.8L17.8,21.4L13.74,16L13.34,13.79L15.34,14.79L19.4,20.2L20.4,18.2L18,15H22L23,13H16.23"})],-1)),i("span",Z1,k(this.$root.setlang.toolbar.snowflake),1)],2),i("button",{class:Fe(["toolbarButton vertical",t.$root.session.selectedTool==="timeline"?"active":""]),onClick:e[11]||(e[11]=a=>s.setTool("timeline"))},[e[26]||(e[26]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M12,20A7,7 0 0,1 5,13A7,7 0 0,1 12,6A7,7 0 0,1 19,13A7,7 0 0,1 12,20M12,4A9,9 0 0,0 3,13A9,9 0 0,0 12,22A9,9 0 0,0 21,13A9,9 0 0,0 12,4M12.5,8H11V14L15.75,16.85L16.5,15.62L12.5,13.25V8M7.88,3.39L6.6,1.86L2,5.71L3.29,7.24L7.88,3.39M22,5.72L17.4,1.86L16.11,3.39L20.71,7.25L22,5.72Z"})],-1)),i("span",K1,k(this.$root.setlang.toolbar.timeline),1)],2),i("button",{class:Fe(["toolbarButton vertical",t.$root.session.selectedTool==="gridplanner"?"active":""]),onClick:e[12]||(e[12]=a=>s.setTool("gridplanner"))},[e[27]||(e[27]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M10,4V8H14V4H10M16,4V8H20V4H16M16,10V14H20V10H16M16,16V20H20V16H16M14,20V16H10V20H14M8,20V16H4V20H8M8,14V10H4V14H8M8,8V4H4V8H8M10,14H14V10H10V14M4,2H20A2,2 0 0,1 22,4V20A2,2 0 0,1 20,22H4C2.92,22 2,21.1 2,20V4A2,2 0 0,1 4,2Z"})],-1)),i("span",Y1,k(this.$root.setlang.toolbar.gridplanner),1)],2),i("button",{class:Fe(["toolbarButton vertical lastbtn",t.$root.session.selectedTool==="cardsdatabase"?"active":""]),onClick:e[13]||(e[13]=a=>s.setTool("cardsdatabase"))},[e[28]||(e[28]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M12,3C7.58,3 4,4.79 4,7C4,9.21 7.58,11 12,11C16.42,11 20,9.21 20,7C20,4.79 16.42,3 12,3M4,9V12C4,14.21 7.58,16 12,16C16.42,16 20,14.21 20,12V9C20,11.21 16.42,13 12,13C7.58,13 4,11.21 4,9M4,14V17C4,19.21 7.58,21 12,21C16.42,21 20,19.21 20,17V14C20,16.21 16.42,18 12,18C7.58,18 4,16.21 4,14Z"})],-1)),i("span",J1,k(this.$root.setlang.toolbar.cardsdatabase),1)],2)])):V("",!0)]),_:1})],64)}const Q1=He(M1,[["render",X1],["__scopeId","data-v-3a766c37"]]),ec={name:"ProjectInfo",methods:{update(){let t=this.$root.session.settings.uuid;this.$root.UpdateRecord("Settings",t,this.$root.session.settings)},setTool(t){t&&(this.$root.session.writer={},this.$root.session[t]={}),this.$root.session.selectedTool=t,this.navbar=!1},gettingStartedPopup(){this.$root.openInNew("https://wavemaker.co.uk/getstarted/")}}},tc={class:"wavemaker_info_box"},nc={style:{width:"100%"}},oc={style:{width:"40px"}};function ic(t,e,n,o,r,s){return f(),y("div",tc,[i("table",nc,[i("tbody",null,[i("tr",null,[e[10]||(e[10]=i("td",null,null,-1)),i("td",oc,[i("button",{onClick:e[0]||(e[0]=(...a)=>s.gettingStartedPopup&&s.gettingStartedPopup(...a)),class:"interfaceBtn helpBtn"},[...e[9]||(e[9]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z"})],-1)])])])])])]),i("label",null,k(this.$root.setlang.start.projectlabel),1),ue(i("input",{class:"projectName","onUpdate:modelValue":e[1]||(e[1]=a=>this.$root.session.settings.ProjectName=a),onChange:e[2]||(e[2]=(...a)=>s.update&&s.update(...a))},null,544),[[Ee,this.$root.session.settings.ProjectName]]),i("button",{class:"interfaceBtn",onClick:e[3]||(e[3]=a=>s.setTool("writer"))},[e[11]||(e[11]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M19 2L14 6.5V17.5L19 13V2M6.5 5C4.55 5 2.45 5.4 1 6.5V21.16C1 21.41 1.25 21.66 1.5 21.66C1.6 21.66 1.65 21.59 1.75 21.59C3.1 20.94 5.05 20.5 6.5 20.5C8.45 20.5 10.55 20.9 12 22C13.35 21.15 15.8 20.5 17.5 20.5C19.15 20.5 20.85 20.81 22.25 21.56C22.35 21.61 22.4 21.59 22.5 21.59C22.75 21.59 23 21.34 23 21.09V6.5C22.4 6.05 21.75 5.75 21 5.5V19C19.9 18.65 18.7 18.5 17.5 18.5C15.8 18.5 13.35 19.15 12 20V6.5C10.55 5.4 8.45 5 6.5 5Z"})],-1)),ye(" "+k(this.$root.setlang.tools.writer),1)]),i("button",{class:"interfaceBtn",onClick:e[4]||(e[4]=a=>s.setTool("mindmap"))},[e[12]||(e[12]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M21 16V13C21 11.89 20.11 11 19 11H13V8H15V2H9V8H11V11H5C3.89 11 3 11.89 3 13V16H1V22H7V16H5V13H11V16H9V22H15V16H13V13H19V16H17V22H23V16H21M11 4H13V6H11V4M5 20H3V18H5V20M13 20H11V18H13V20M21 20H19V18H21V20Z"})],-1)),ye(" "+k(this.$root.setlang.tools.mindmap),1)]),i("button",{class:"interfaceBtn",onClick:e[5]||(e[5]=a=>s.setTool("snowflake"))},[e[13]||(e[13]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M14.25,12L16.27,11H23L22,9H18.03L20.42,5.83L19.43,3.83L15.37,9.2L13.35,10.21L13.75,8L17.83,2.62L15.64,2.22L12,7L8.4,2.2L6.2,2.6L10.26,8L10.66,10.21L8.82,9.29L8.66,9.21L4.6,3.8L3.6,5.8L6,9H2L1,11H7.77L9.75,12L7.73,13H1L2,15H5.97L3.58,18.17L4.57,20.17L8.63,14.8L10.65,13.79L10.25,16L6.17,21.38L8.36,21.79L12,17L15.6,21.8L17.8,21.4L13.74,16L13.34,13.79L15.34,14.79L19.4,20.2L20.4,18.2L18,15H22L23,13H16.23"})],-1)),ye(" "+k(this.$root.setlang.tools.snowflake),1)]),i("button",{class:"interfaceBtn",onClick:e[6]||(e[6]=a=>s.setTool("timeline"))},[e[14]||(e[14]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M12,20A7,7 0 0,1 5,13A7,7 0 0,1 12,6A7,7 0 0,1 19,13A7,7 0 0,1 12,20M12,4A9,9 0 0,0 3,13A9,9 0 0,0 12,22A9,9 0 0,0 21,13A9,9 0 0,0 12,4M12.5,8H11V14L15.75,16.85L16.5,15.62L12.5,13.25V8M7.88,3.39L6.6,1.86L2,5.71L3.29,7.24L7.88,3.39M22,5.72L17.4,1.86L16.11,3.39L20.71,7.25L22,5.72Z"})],-1)),ye(" "+k(this.$root.setlang.tools.timeline),1)]),i("button",{class:"interfaceBtn",onClick:e[7]||(e[7]=a=>s.setTool("gridplanner"))},[e[15]||(e[15]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M10,4V8H14V4H10M16,4V8H20V4H16M16,10V14H20V10H16M16,16V20H20V16H16M14,20V16H10V20H14M8,20V16H4V20H8M8,14V10H4V14H8M8,8V4H4V8H8M10,14H14V10H10V14M4,2H20A2,2 0 0,1 22,4V20A2,2 0 0,1 20,22H4C2.92,22 2,21.1 2,20V4A2,2 0 0,1 4,2Z"})],-1)),ye(" "+k(this.$root.setlang.tools.gridplanner),1)]),i("button",{class:"interfaceBtn",onClick:e[8]||(e[8]=a=>s.setTool("cardsdatabase"))},[e[16]||(e[16]=i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M12,3C7.58,3 4,4.79 4,7C4,9.21 7.58,11 12,11C16.42,11 20,9.21 20,7C20,4.79 16.42,3 12,3M4,9V12C4,14.21 7.58,16 12,16C16.42,16 20,14.21 20,12V9C20,11.21 16.42,13 12,13C7.58,13 4,11.21 4,9M4,14V17C4,19.21 7.58,21 12,21C16.42,21 20,19.21 20,17V14C20,16.21 16.42,18 12,18C7.58,18 4,16.21 4,14Z"})],-1)),ye(" "+k(this.$root.setlang.tools.cardsdatabase),1)])])}const sc=He(ec,[["render",ic],["__scopeId","data-v-68184fa2"]]);Nl.register(Rl,jl,Fl,Ul,zl,Wl);const rc={name:"BarChart",components:{Bar:Gl},props:{chartId:{type:String,default:"bar-chart"},datasetIdKey:{type:String,default:"label"},width:{type:Number,default:400},height:{type:Number,default:200},cssClasses:{default:"",type:String},styles:{type:Object,default:()=>{}},plugins:{type:Object,default:()=>{}}},computed:{logArray(){let t={};if(this.$root.session.writer.selected.log){t.labels=Object.keys(this.$root.session.writer.selected.log);let e=[],n=0;t.labels.forEach(o=>{this.$root.session.writer.selected.log[o]&&e.push(this.$root.session.writer.selected.log[o]-n),n=this.$root.session.writer.selected.log[o]}),t.datasets=[{label:"Words",backgroundColor:"#f87979",data:e}]}return t}},data(){return{chartData:{labels:["January","February","March"],datasets:[{data:[40,20,12]}]},chartOptions:{responsive:!0}}}},ac={key:0,class:"chartWrapper"},lc={class:"chartAreaWrapper"},dc={class:"chartAreaWrapper2"};function uc(t,e,n,o,r,s){const a=Q("Bar");return s.logArray.labels?(f(),y("div",ac,[i("div",lc,[i("div",dc,[_e(a,{"chart-data":s.logArray,"chart-options":{responsive:!0,maintainAspectRatio:!1}},null,8,["chart-data"])])])])):V("",!0)}const cc=He(rc,[["render",uc],["__scopeId","data-v-6f8aee50"]]);/*!
  * vue-draggable-next v2.3.0
  * (c) 2025 Anish George
  * @license MIT
  */function pc(){return typeof window<"u"?window.console:global.console}const hc=pc();function fc(t){const e=Object.create(null);return function(o){return e[o]||(e[o]=t(o))}}const gc=/-(\w)/g,hs=fc(t=>t.replace(gc,(e,n)=>n?n.toUpperCase():""));function Ko(t){t.parentElement!==null&&t.parentElement.removeChild(t)}function fs(t,e,n){const o=n===0?t.children[0]:t.children[n-1].nextSibling;t.insertBefore(e,o)}/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function gs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gs(Object(n),!0).forEach(function(o){mc(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gs(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function ho(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ho=function(e){return typeof e}:ho=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ho(t)}function mc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zt(){return Zt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Zt.apply(this,arguments)}function vc(t,e){if(t==null)return{};var n={},o=Object.keys(t),r,s;for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function yc(t,e){if(t==null)return{};var n=vc(t,e),o,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)o=s[r],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}var bc="1.14.0";function qt(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Kt=qt(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Jn=qt(/Edge/i),ms=qt(/firefox/i),jn=qt(/safari/i)&&!qt(/chrome/i)&&!qt(/android/i),Fs=qt(/iP(ad|od|hone)/i),wc=qt(/chrome/i)&&qt(/android/i),Us={capture:!1,passive:!1};function Re(t,e,n){t.addEventListener(e,n,!Kt&&Us)}function Pe(t,e,n){t.removeEventListener(e,n,!Kt&&Us)}function $o(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function Cc(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Ft(t,e,n,o){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&$o(t,e):$o(t,e))||o&&t===n)return t;if(t===n)break}while(t=Cc(t))}return null}var vs=/\s+/g;function Ht(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var o=(" "+t.className+" ").replace(vs," ").replace(" "+e+" "," ");t.className=(o+(n?" "+e:"")).replace(vs," ")}}function Le(t,e,n){var o=t&&t.style;if(o){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in o)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),o[e]=n+(typeof n=="string"?"":"px")}}function Vn(t,e){var n="";if(typeof t=="string")n=t;else do{var o=Le(t,"transform");o&&o!=="none"&&(n=o+" "+n)}while(!e&&(t=t.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function zs(t,e,n){if(t){var o=t.getElementsByTagName(e),r=0,s=o.length;if(n)for(;r<s;r++)n(o[r],r);return o}return[]}function Ut(){var t=document.scrollingElement;return t||document.documentElement}function it(t,e,n,o,r){if(!(!t.getBoundingClientRect&&t!==window)){var s,a,u,p,c,b,C;if(t!==window&&t.parentNode&&t!==Ut()?(s=t.getBoundingClientRect(),a=s.top,u=s.left,p=s.bottom,c=s.right,b=s.height,C=s.width):(a=0,u=0,p=window.innerHeight,c=window.innerWidth,b=window.innerHeight,C=window.innerWidth),(e||n)&&t!==window&&(r=r||t.parentNode,!Kt))do if(r&&r.getBoundingClientRect&&(Le(r,"transform")!=="none"||n&&Le(r,"position")!=="static")){var A=r.getBoundingClientRect();a-=A.top+parseInt(Le(r,"border-top-width")),u-=A.left+parseInt(Le(r,"border-left-width")),p=a+s.height,c=u+s.width;break}while(r=r.parentNode);if(o&&t!==window){var x=Vn(r||t),E=x&&x.a,O=x&&x.d;x&&(a/=O,u/=E,C/=E,b/=O,p=a+b,c=u+C)}return{top:a,left:u,bottom:p,right:c,width:C,height:b}}}function ys(t,e,n){for(var o=en(t,!0),r=it(t)[e];o;){var s=it(o)[n],a=void 0;if(a=r>=s,!a)return o;if(o===Ut())break;o=en(o,!1)}return!1}function Sn(t,e,n,o){for(var r=0,s=0,a=t.children;s<a.length;){if(a[s].style.display!=="none"&&a[s]!==ke.ghost&&(o||a[s]!==ke.dragged)&&Ft(a[s],n.draggable,t,!1)){if(r===e)return a[s];r++}s++}return null}function Ai(t,e){for(var n=t.lastElementChild;n&&(n===ke.ghost||Le(n,"display")==="none"||e&&!$o(n,e));)n=n.previousElementSibling;return n||null}function Et(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==ke.clone&&(!e||$o(t,e))&&n++;return n}function bs(t){var e=0,n=0,o=Ut();if(t)do{var r=Vn(t),s=r.a,a=r.d;e+=t.scrollLeft*s,n+=t.scrollTop*a}while(t!==o&&(t=t.parentNode));return[e,n]}function $c(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var o in e)if(e.hasOwnProperty(o)&&e[o]===t[n][o])return Number(n)}return-1}function en(t,e){if(!t||!t.getBoundingClientRect)return Ut();var n=t,o=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=Le(n);if(n.clientWidth<n.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Ut();if(o||e)return n;o=!0}}while(n=n.parentNode);return Ut()}function Lc(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Yo(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var Fn;function Ws(t,e){return function(){if(!Fn){var n=arguments,o=this;n.length===1?t.call(o,n[0]):t.apply(o,n),Fn=setTimeout(function(){Fn=void 0},e)}}}function kc(){clearTimeout(Fn),Fn=void 0}function Gs(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function qs(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}var Vt="Sortable"+new Date().getTime();function xc(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(r){if(!(Le(r,"display")==="none"||r===ke.ghost)){t.push({target:r,rect:it(r)});var s=zt({},t[t.length-1].rect);if(r.thisAnimationDuration){var a=Vn(r,!0);a&&(s.top-=a.f,s.left-=a.e)}r.fromRect=s}})}},addAnimationState:function(o){t.push(o)},removeAnimationState:function(o){t.splice($c(t,{target:o}),1)},animateAll:function(o){var r=this;if(!this.options.animation){clearTimeout(e),typeof o=="function"&&o();return}var s=!1,a=0;t.forEach(function(u){var p=0,c=u.target,b=c.fromRect,C=it(c),A=c.prevFromRect,x=c.prevToRect,E=u.rect,O=Vn(c,!0);O&&(C.top-=O.f,C.left-=O.e),c.toRect=C,c.thisAnimationDuration&&Yo(A,C)&&!Yo(b,C)&&(E.top-C.top)/(E.left-C.left)===(b.top-C.top)/(b.left-C.left)&&(p=Ac(E,A,x,r.options)),Yo(C,b)||(c.prevFromRect=b,c.prevToRect=C,p||(p=r.options.animation),r.animate(c,E,C,p)),p&&(s=!0,a=Math.max(a,p),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},p),c.thisAnimationDuration=p)}),clearTimeout(e),s?e=setTimeout(function(){typeof o=="function"&&o()},a):typeof o=="function"&&o(),t=[]},animate:function(o,r,s,a){if(a){Le(o,"transition",""),Le(o,"transform","");var u=Vn(this.el),p=u&&u.a,c=u&&u.d,b=(r.left-s.left)/(p||1),C=(r.top-s.top)/(c||1);o.animatingX=!!b,o.animatingY=!!C,Le(o,"transform","translate3d("+b+"px,"+C+"px,0)"),this.forRepaintDummy=Hc(o),Le(o,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),Le(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){Le(o,"transition",""),Le(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},a)}}}}function Hc(t){return t.offsetWidth}function Ac(t,e,n,o){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*o.animation}var Cn=[],Jo={initializeByDefault:!0},Xn={mount:function(e){for(var n in Jo)Jo.hasOwnProperty(n)&&!(n in e)&&(e[n]=Jo[n]);Cn.forEach(function(o){if(o.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Cn.push(e)},pluginEvent:function(e,n,o){var r=this;this.eventCanceled=!1,o.cancel=function(){r.eventCanceled=!0};var s=e+"Global";Cn.forEach(function(a){n[a.pluginName]&&(n[a.pluginName][s]&&n[a.pluginName][s](zt({sortable:n},o)),n.options[a.pluginName]&&n[a.pluginName][e]&&n[a.pluginName][e](zt({sortable:n},o)))})},initializePlugins:function(e,n,o,r){Cn.forEach(function(u){var p=u.pluginName;if(!(!e.options[p]&&!u.initializeByDefault)){var c=new u(e,n,e.options);c.sortable=e,c.options=e.options,e[p]=c,Zt(o,c.defaults)}});for(var s in e.options)if(e.options.hasOwnProperty(s)){var a=this.modifyOption(e,s,e.options[s]);typeof a<"u"&&(e.options[s]=a)}},getEventProperties:function(e,n){var o={};return Cn.forEach(function(r){typeof r.eventProperties=="function"&&Zt(o,r.eventProperties.call(n[r.pluginName],e))}),o},modifyOption:function(e,n,o){var r;return Cn.forEach(function(s){e[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[n]=="function"&&(r=s.optionListeners[n].call(e[s.pluginName],o))}),r}};function Vc(t){var e=t.sortable,n=t.rootEl,o=t.name,r=t.targetEl,s=t.cloneEl,a=t.toEl,u=t.fromEl,p=t.oldIndex,c=t.newIndex,b=t.oldDraggableIndex,C=t.newDraggableIndex,A=t.originalEvent,x=t.putSortable,E=t.extraEventProperties;if(e=e||n&&n[Vt],!!e){var O,oe=e.options,B="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!Kt&&!Jn?O=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(O=document.createEvent("Event"),O.initEvent(o,!0,!0)),O.to=a||n,O.from=u||n,O.item=r||n,O.clone=s,O.oldIndex=p,O.newIndex=c,O.oldDraggableIndex=b,O.newDraggableIndex=C,O.originalEvent=A,O.pullMode=x?x.lastPutMode:void 0;var ie=zt(zt({},E),Xn.getEventProperties(o,e));for(var le in ie)O[le]=ie[le];n&&n.dispatchEvent(O),oe[B]&&oe[B].call(e,O)}}var Mc=["evt"],Ct=function(e,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=o.evt,s=yc(o,Mc);Xn.pluginEvent.bind(ke)(e,n,zt({dragEl:z,parentEl:Ye,ghostEl:Ae,rootEl:qe,nextEl:ln,lastDownEl:fo,cloneEl:Je,cloneHidden:Qt,dragStarted:On,putSortable:ct,activeSortable:ke.active,originalEvent:r,oldIndex:Hn,oldDraggableIndex:Un,newIndex:At,newDraggableIndex:Jt,hideGhostForTarget:Js,unhideGhostForTarget:Xs,cloneNowHidden:function(){Qt=!0},cloneNowShown:function(){Qt=!1},dispatchSortableEvent:function(u){vt({sortable:n,name:u,originalEvent:r})}},s))};function vt(t){Vc(zt({putSortable:ct,cloneEl:Je,targetEl:z,rootEl:qe,oldIndex:Hn,oldDraggableIndex:Un,newIndex:At,newDraggableIndex:Jt},t))}var z,Ye,Ae,qe,ln,fo,Je,Qt,Hn,At,Un,Jt,io,ct,Ln=!1,Lo=!1,ko=[],rn,Pt,Xo,Qo,ws,Cs,On,$n,zn,Wn=!1,so=!1,go,ht,ei=[],fi=!1,xo=[],So=typeof document<"u",ro=Fs,$s=Jn||Kt?"cssFloat":"float",Sc=So&&!wc&&!Fs&&"draggable"in document.createElement("div"),Zs=function(){if(So){if(Kt)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),Ks=function(e,n){var o=Le(e),r=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),s=Sn(e,0,n),a=Sn(e,1,n),u=s&&Le(s),p=a&&Le(a),c=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+it(s).width,b=p&&parseInt(p.marginLeft)+parseInt(p.marginRight)+it(a).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&u.float&&u.float!=="none"){var C=u.float==="left"?"left":"right";return a&&(p.clear==="both"||p.clear===C)?"vertical":"horizontal"}return s&&(u.display==="block"||u.display==="flex"||u.display==="table"||u.display==="grid"||c>=r&&o[$s]==="none"||a&&o[$s]==="none"&&c+b>r)?"vertical":"horizontal"},Tc=function(e,n,o){var r=o?e.left:e.top,s=o?e.right:e.bottom,a=o?e.width:e.height,u=o?n.left:n.top,p=o?n.right:n.bottom,c=o?n.width:n.height;return r===u||s===p||r+a/2===u+c/2},Ec=function(e,n){var o;return ko.some(function(r){var s=r[Vt].options.emptyInsertThreshold;if(!(!s||Ai(r))){var a=it(r),u=e>=a.left-s&&e<=a.right+s,p=n>=a.top-s&&n<=a.bottom+s;if(u&&p)return o=r}}),o},Ys=function(e){function n(s,a){return function(u,p,c,b){var C=u.options.group.name&&p.options.group.name&&u.options.group.name===p.options.group.name;if(s==null&&(a||C))return!0;if(s==null||s===!1)return!1;if(a&&s==="clone")return s;if(typeof s=="function")return n(s(u,p,c,b),a)(u,p,c,b);var A=(a?u:p).options.group.name;return s===!0||typeof s=="string"&&s===A||s.join&&s.indexOf(A)>-1}}var o={},r=e.group;(!r||ho(r)!="object")&&(r={name:r}),o.name=r.name,o.checkPull=n(r.pull,!0),o.checkPut=n(r.put),o.revertClone=r.revertClone,e.group=o},Js=function(){!Zs&&Ae&&Le(Ae,"display","none")},Xs=function(){!Zs&&Ae&&Le(Ae,"display","")};So&&document.addEventListener("click",function(t){if(Lo)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Lo=!1,!1},!0);var an=function(e){if(z){e=e.touches?e.touches[0]:e;var n=Ec(e.clientX,e.clientY);if(n){var o={};for(var r in e)e.hasOwnProperty(r)&&(o[r]=e[r]);o.target=o.rootEl=n,o.preventDefault=void 0,o.stopPropagation=void 0,n[Vt]._onDragOver(o)}}},Bc=function(e){z&&z.parentNode[Vt]._isOutsideThisEl(e.target)};function ke(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Zt({},e),t[Vt]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ks(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,u){a.setData("Text",u.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:ke.supportPointer!==!1&&"PointerEvent"in window&&!jn,emptyInsertThreshold:5};Xn.initializePlugins(this,t,n);for(var o in n)!(o in e)&&(e[o]=n[o]);Ys(e);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=e.forceFallback?!1:Sc,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Re(t,"pointerdown",this._onTapStart):(Re(t,"mousedown",this._onTapStart),Re(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(Re(t,"dragover",this),Re(t,"dragenter",this)),ko.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Zt(this,xc())}ke.prototype={constructor:ke,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&($n=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,z):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,o=this.el,r=this.options,s=r.preventOnFilter,a=e.type,u=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,p=(u||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||p,b=r.filter;if(jc(o),!z&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||r.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&jn&&p&&p.tagName.toUpperCase()==="SELECT")&&(p=Ft(p,r.draggable,o,!1),!(p&&p.animated)&&fo!==p)){if(Hn=Et(p),Un=Et(p,r.draggable),typeof b=="function"){if(b.call(this,e,p,this)){vt({sortable:n,rootEl:c,name:"filter",targetEl:p,toEl:o,fromEl:o}),Ct("filter",n,{evt:e}),s&&e.cancelable&&e.preventDefault();return}}else if(b&&(b=b.split(",").some(function(C){if(C=Ft(c,C.trim(),o,!1),C)return vt({sortable:n,rootEl:C,name:"filter",targetEl:p,fromEl:o,toEl:o}),Ct("filter",n,{evt:e}),!0}),b)){s&&e.cancelable&&e.preventDefault();return}r.handle&&!Ft(c,r.handle,o,!1)||this._prepareDragStart(e,u,p)}}},_prepareDragStart:function(e,n,o){var r=this,s=r.el,a=r.options,u=s.ownerDocument,p;if(o&&!z&&o.parentNode===s){var c=it(o);if(qe=s,z=o,Ye=z.parentNode,ln=z.nextSibling,fo=o,io=a.group,ke.dragged=z,rn={target:z,clientX:(n||e).clientX,clientY:(n||e).clientY},ws=rn.clientX-c.left,Cs=rn.clientY-c.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,z.style["will-change"]="all",p=function(){if(Ct("delayEnded",r,{evt:e}),ke.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!ms&&r.nativeDraggable&&(z.draggable=!0),r._triggerDragStart(e,n),vt({sortable:r,name:"choose",originalEvent:e}),Ht(z,a.chosenClass,!0)},a.ignore.split(",").forEach(function(b){zs(z,b.trim(),ti)}),Re(u,"dragover",an),Re(u,"mousemove",an),Re(u,"touchmove",an),Re(u,"mouseup",r._onDrop),Re(u,"touchend",r._onDrop),Re(u,"touchcancel",r._onDrop),ms&&this.nativeDraggable&&(this.options.touchStartThreshold=4,z.draggable=!0),Ct("delayStart",this,{evt:e}),a.delay&&(!a.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Jn||Kt))){if(ke.eventCanceled){this._onDrop();return}Re(u,"mouseup",r._disableDelayedDrag),Re(u,"touchend",r._disableDelayedDrag),Re(u,"touchcancel",r._disableDelayedDrag),Re(u,"mousemove",r._delayedDragTouchMoveHandler),Re(u,"touchmove",r._delayedDragTouchMoveHandler),a.supportPointer&&Re(u,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(p,a.delay)}else p()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){z&&ti(z),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Pe(e,"mouseup",this._disableDelayedDrag),Pe(e,"touchend",this._disableDelayedDrag),Pe(e,"touchcancel",this._disableDelayedDrag),Pe(e,"mousemove",this._delayedDragTouchMoveHandler),Pe(e,"touchmove",this._delayedDragTouchMoveHandler),Pe(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?Re(document,"pointermove",this._onTouchMove):n?Re(document,"touchmove",this._onTouchMove):Re(document,"mousemove",this._onTouchMove):(Re(z,"dragend",this),Re(qe,"dragstart",this._onDragStart));try{document.selection?mo(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(Ln=!1,qe&&z){Ct("dragStarted",this,{evt:n}),this.nativeDraggable&&Re(document,"dragover",Bc);var o=this.options;!e&&Ht(z,o.dragClass,!1),Ht(z,o.ghostClass,!0),ke.active=this,e&&this._appendGhost(),vt({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Pt){this._lastX=Pt.clientX,this._lastY=Pt.clientY,Js();for(var e=document.elementFromPoint(Pt.clientX,Pt.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Pt.clientX,Pt.clientY),e!==n);)n=e;if(z.parentNode[Vt]._isOutsideThisEl(e),n)do{if(n[Vt]){var o=void 0;if(o=n[Vt]._onDragOver({clientX:Pt.clientX,clientY:Pt.clientY,target:e,rootEl:n}),o&&!this.options.dragoverBubble)break}e=n}while(n=n.parentNode);Xs()}},_onTouchMove:function(e){if(rn){var n=this.options,o=n.fallbackTolerance,r=n.fallbackOffset,s=e.touches?e.touches[0]:e,a=Ae&&Vn(Ae,!0),u=Ae&&a&&a.a,p=Ae&&a&&a.d,c=ro&&ht&&bs(ht),b=(s.clientX-rn.clientX+r.x)/(u||1)+(c?c[0]-ei[0]:0)/(u||1),C=(s.clientY-rn.clientY+r.y)/(p||1)+(c?c[1]-ei[1]:0)/(p||1);if(!ke.active&&!Ln){if(o&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<o)return;this._onDragStart(e,!0)}if(Ae){a?(a.e+=b-(Xo||0),a.f+=C-(Qo||0)):a={a:1,b:0,c:0,d:1,e:b,f:C};var A="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");Le(Ae,"webkitTransform",A),Le(Ae,"mozTransform",A),Le(Ae,"msTransform",A),Le(Ae,"transform",A),Xo=b,Qo=C,Pt=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Ae){var e=this.options.fallbackOnBody?document.body:qe,n=it(z,!0,ro,!0,e),o=this.options;if(ro){for(ht=e;Le(ht,"position")==="static"&&Le(ht,"transform")==="none"&&ht!==document;)ht=ht.parentNode;ht!==document.body&&ht!==document.documentElement?(ht===document&&(ht=Ut()),n.top+=ht.scrollTop,n.left+=ht.scrollLeft):ht=Ut(),ei=bs(ht)}Ae=z.cloneNode(!0),Ht(Ae,o.ghostClass,!1),Ht(Ae,o.fallbackClass,!0),Ht(Ae,o.dragClass,!0),Le(Ae,"transition",""),Le(Ae,"transform",""),Le(Ae,"box-sizing","border-box"),Le(Ae,"margin",0),Le(Ae,"top",n.top),Le(Ae,"left",n.left),Le(Ae,"width",n.width),Le(Ae,"height",n.height),Le(Ae,"opacity","0.8"),Le(Ae,"position",ro?"absolute":"fixed"),Le(Ae,"zIndex","100000"),Le(Ae,"pointerEvents","none"),ke.ghost=Ae,e.appendChild(Ae),Le(Ae,"transform-origin",ws/parseInt(Ae.style.width)*100+"% "+Cs/parseInt(Ae.style.height)*100+"%")}},_onDragStart:function(e,n){var o=this,r=e.dataTransfer,s=o.options;if(Ct("dragStart",this,{evt:e}),ke.eventCanceled){this._onDrop();return}Ct("setupClone",this),ke.eventCanceled||(Je=qs(z),Je.draggable=!1,Je.style["will-change"]="",this._hideClone(),Ht(Je,this.options.chosenClass,!1),ke.clone=Je),o.cloneId=mo(function(){Ct("clone",o),!ke.eventCanceled&&(o.options.removeCloneOnHide||qe.insertBefore(Je,z),o._hideClone(),vt({sortable:o,name:"clone"}))}),!n&&Ht(z,s.dragClass,!0),n?(Lo=!0,o._loopId=setInterval(o._emulateDragOver,50)):(Pe(document,"mouseup",o._onDrop),Pe(document,"touchend",o._onDrop),Pe(document,"touchcancel",o._onDrop),r&&(r.effectAllowed="move",s.setData&&s.setData.call(o,r,z)),Re(document,"drop",o),Le(z,"transform","translateZ(0)")),Ln=!0,o._dragStartId=mo(o._dragStarted.bind(o,n,e)),Re(document,"selectstart",o),On=!0,jn&&Le(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,o=e.target,r,s,a,u=this.options,p=u.group,c=ke.active,b=io===p,C=u.sort,A=ct||c,x,E=this,O=!1;if(fi)return;function oe(U,ne){Ct(U,E,zt({evt:e,isOwner:b,axis:x?"vertical":"horizontal",revert:a,dragRect:r,targetRect:s,canSort:C,fromSortable:A,target:o,completed:ie,onMove:function(Me,ge){return ao(qe,n,z,r,Me,it(Me),e,ge)},changed:le},ne))}function B(){oe("dragOverAnimationCapture"),E.captureAnimationState(),E!==A&&A.captureAnimationState()}function ie(U){return oe("dragOverCompleted",{insertion:U}),U&&(b?c._hideClone():c._showClone(E),E!==A&&(Ht(z,ct?ct.options.ghostClass:c.options.ghostClass,!1),Ht(z,u.ghostClass,!0)),ct!==E&&E!==ke.active?ct=E:E===ke.active&&ct&&(ct=null),A===E&&(E._ignoreWhileAnimating=o),E.animateAll(function(){oe("dragOverAnimationComplete"),E._ignoreWhileAnimating=null}),E!==A&&(A.animateAll(),A._ignoreWhileAnimating=null)),(o===z&&!z.animated||o===n&&!o.animated)&&($n=null),!u.dragoverBubble&&!e.rootEl&&o!==document&&(z.parentNode[Vt]._isOutsideThisEl(e.target),!U&&an(e)),!u.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),O=!0}function le(){At=Et(z),Jt=Et(z,u.draggable),vt({sortable:E,name:"change",toEl:n,newIndex:At,newDraggableIndex:Jt,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),o=Ft(o,u.draggable,n,!0),oe("dragOver"),ke.eventCanceled)return O;if(z.contains(e.target)||o.animated&&o.animatingX&&o.animatingY||E._ignoreWhileAnimating===o)return ie(!1);if(Lo=!1,c&&!u.disabled&&(b?C||(a=Ye!==qe):ct===this||(this.lastPutMode=io.checkPull(this,c,z,e))&&p.checkPut(this,c,z,e))){if(x=this._getDirection(e,o)==="vertical",r=it(z),oe("dragOverValid"),ke.eventCanceled)return O;if(a)return Ye=qe,B(),this._hideClone(),oe("revert"),ke.eventCanceled||(ln?qe.insertBefore(z,ln):qe.appendChild(z)),ie(!0);var pe=Ai(n,u.draggable);if(!pe||Pc(e,x,this)&&!pe.animated){if(pe===z)return ie(!1);if(pe&&n===e.target&&(o=pe),o&&(s=it(o)),ao(qe,n,z,r,o,s,e,!!o)!==!1)return B(),n.appendChild(z),Ye=n,le(),ie(!0)}else if(pe&&_c(e,x,this)){var ee=Sn(n,0,u,!0);if(ee===z)return ie(!1);if(o=ee,s=it(o),ao(qe,n,z,r,o,s,e,!1)!==!1)return B(),n.insertBefore(z,ee),Ye=n,le(),ie(!0)}else if(o.parentNode===n){s=it(o);var me=0,N,M=z.parentNode!==n,$=!Tc(z.animated&&z.toRect||r,o.animated&&o.toRect||s,x),g=x?"top":"left",S=ys(o,"top","top")||ys(z,"top","top"),v=S?S.scrollTop:void 0;$n!==o&&(N=s[g],Wn=!1,so=!$&&u.invertSwap||M),me=Oc(e,o,s,x,$?1:u.swapThreshold,u.invertedSwapThreshold==null?u.swapThreshold:u.invertedSwapThreshold,so,$n===o);var he;if(me!==0){var te=Et(z);do te-=me,he=Ye.children[te];while(he&&(Le(he,"display")==="none"||he===Ae))}if(me===0||he===o)return ie(!1);$n=o,zn=me;var Ie=o.nextElementSibling,fe=!1;fe=me===1;var I=ao(qe,n,z,r,o,s,e,fe);if(I!==!1)return(I===1||I===-1)&&(fe=I===1),fi=!0,setTimeout(Dc,30),B(),fe&&!Ie?n.appendChild(z):o.parentNode.insertBefore(z,fe?Ie:o),S&&Gs(S,0,v-S.scrollTop),Ye=z.parentNode,N!==void 0&&!so&&(go=Math.abs(N-it(o)[g])),le(),ie(!0)}if(n.contains(z))return ie(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Pe(document,"mousemove",this._onTouchMove),Pe(document,"touchmove",this._onTouchMove),Pe(document,"pointermove",this._onTouchMove),Pe(document,"dragover",an),Pe(document,"mousemove",an),Pe(document,"touchmove",an)},_offUpEvents:function(){var e=this.el.ownerDocument;Pe(e,"mouseup",this._onDrop),Pe(e,"touchend",this._onDrop),Pe(e,"pointerup",this._onDrop),Pe(e,"touchcancel",this._onDrop),Pe(document,"selectstart",this)},_onDrop:function(e){var n=this.el,o=this.options;if(At=Et(z),Jt=Et(z,o.draggable),Ct("drop",this,{evt:e}),Ye=z&&z.parentNode,At=Et(z),Jt=Et(z,o.draggable),ke.eventCanceled){this._nulling();return}Ln=!1,so=!1,Wn=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),gi(this.cloneId),gi(this._dragStartId),this.nativeDraggable&&(Pe(document,"drop",this),Pe(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),jn&&Le(document.body,"user-select",""),Le(z,"transform",""),e&&(On&&(e.cancelable&&e.preventDefault(),!o.dropBubble&&e.stopPropagation()),Ae&&Ae.parentNode&&Ae.parentNode.removeChild(Ae),(qe===Ye||ct&&ct.lastPutMode!=="clone")&&Je&&Je.parentNode&&Je.parentNode.removeChild(Je),z&&(this.nativeDraggable&&Pe(z,"dragend",this),ti(z),z.style["will-change"]="",On&&!Ln&&Ht(z,ct?ct.options.ghostClass:this.options.ghostClass,!1),Ht(z,this.options.chosenClass,!1),vt({sortable:this,name:"unchoose",toEl:Ye,newIndex:null,newDraggableIndex:null,originalEvent:e}),qe!==Ye?(At>=0&&(vt({rootEl:Ye,name:"add",toEl:Ye,fromEl:qe,originalEvent:e}),vt({sortable:this,name:"remove",toEl:Ye,originalEvent:e}),vt({rootEl:Ye,name:"sort",toEl:Ye,fromEl:qe,originalEvent:e}),vt({sortable:this,name:"sort",toEl:Ye,originalEvent:e})),ct&&ct.save()):At!==Hn&&At>=0&&(vt({sortable:this,name:"update",toEl:Ye,originalEvent:e}),vt({sortable:this,name:"sort",toEl:Ye,originalEvent:e})),ke.active&&((At==null||At===-1)&&(At=Hn,Jt=Un),vt({sortable:this,name:"end",toEl:Ye,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Ct("nulling",this),qe=z=Ye=Ae=ln=Je=fo=Qt=rn=Pt=On=At=Jt=Hn=Un=$n=zn=ct=io=ke.dragged=ke.ghost=ke.clone=ke.active=null,xo.forEach(function(e){e.checked=!0}),xo.length=Xo=Qo=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":z&&(this._onDragOver(e),Ic(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,o=this.el.children,r=0,s=o.length,a=this.options;r<s;r++)n=o[r],Ft(n,a.draggable,this.el,!1)&&e.push(n.getAttribute(a.dataIdAttr)||Rc(n));return e},sort:function(e,n){var o={},r=this.el;this.toArray().forEach(function(s,a){var u=r.children[a];Ft(u,this.options.draggable,r,!1)&&(o[s]=u)},this),n&&this.captureAnimationState(),e.forEach(function(s){o[s]&&(r.removeChild(o[s]),r.appendChild(o[s]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return Ft(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var o=this.options;if(n===void 0)return o[e];var r=Xn.modifyOption(this,e,n);typeof r<"u"?o[e]=r:o[e]=n,e==="group"&&Ys(o)},destroy:function(){Ct("destroy",this);var e=this.el;e[Vt]=null,Pe(e,"mousedown",this._onTapStart),Pe(e,"touchstart",this._onTapStart),Pe(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Pe(e,"dragover",this),Pe(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ko.splice(ko.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Qt){if(Ct("hideClone",this),ke.eventCanceled)return;Le(Je,"display","none"),this.options.removeCloneOnHide&&Je.parentNode&&Je.parentNode.removeChild(Je),Qt=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Qt){if(Ct("showClone",this),ke.eventCanceled)return;z.parentNode==qe&&!this.options.group.revertClone?qe.insertBefore(Je,z):ln?qe.insertBefore(Je,ln):qe.appendChild(Je),this.options.group.revertClone&&this.animate(z,Je),Le(Je,"display",""),Qt=!1}}};function Ic(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function ao(t,e,n,o,r,s,a,u){var p,c=t[Vt],b=c.options.onMove,C;return window.CustomEvent&&!Kt&&!Jn?p=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(p=document.createEvent("Event"),p.initEvent("move",!0,!0)),p.to=e,p.from=t,p.dragged=n,p.draggedRect=o,p.related=r||e,p.relatedRect=s||it(e),p.willInsertAfter=u,p.originalEvent=a,t.dispatchEvent(p),b&&(C=b.call(c,p,a)),C}function ti(t){t.draggable=!1}function Dc(){fi=!1}function _c(t,e,n){var o=it(Sn(n.el,0,n.options,!0)),r=10;return e?t.clientX<o.left-r||t.clientY<o.top&&t.clientX<o.right:t.clientY<o.top-r||t.clientY<o.bottom&&t.clientX<o.left}function Pc(t,e,n){var o=it(Ai(n.el,n.options.draggable)),r=10;return e?t.clientX>o.right+r||t.clientX<=o.right&&t.clientY>o.bottom&&t.clientX>=o.left:t.clientX>o.right&&t.clientY>o.top||t.clientX<=o.right&&t.clientY>o.bottom+r}function Oc(t,e,n,o,r,s,a,u){var p=o?t.clientY:t.clientX,c=o?n.height:n.width,b=o?n.top:n.left,C=o?n.bottom:n.right,A=!1;if(!a){if(u&&go<c*r){if(!Wn&&(zn===1?p>b+c*s/2:p<C-c*s/2)&&(Wn=!0),Wn)A=!0;else if(zn===1?p<b+go:p>C-go)return-zn}else if(p>b+c*(1-r)/2&&p<C-c*(1-r)/2)return Nc(e)}return A=A||a,A&&(p<b+c*s/2||p>C-c*s/2)?p>b+c/2?1:-1:0}function Nc(t){return Et(z)<Et(t)?1:-1}function Rc(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,o=0;n--;)o+=e.charCodeAt(n);return o.toString(36)}function jc(t){xo.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var o=e[n];o.checked&&xo.push(o)}}function mo(t){return setTimeout(t,0)}function gi(t){return clearTimeout(t)}So&&Re(document,"touchmove",function(t){(ke.active||Ln)&&t.cancelable&&t.preventDefault()});ke.utils={on:Re,off:Pe,css:Le,find:zs,is:function(e,n){return!!Ft(e,n,e,!1)},extend:Lc,throttle:Ws,closest:Ft,toggleClass:Ht,clone:qs,index:Et,nextTick:mo,cancelNextTick:gi,detectDirection:Ks,getChild:Sn};ke.get=function(t){return t[Vt]};ke.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(ke.utils=zt(zt({},ke.utils),o.utils)),Xn.mount(o)})};ke.create=function(t,e){return new ke(t,e)};ke.version=bc;var tt=[],Nn,mi,vi=!1,ni,oi,Ho,Rn;function Fc(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var o=n.originalEvent;this.sortable.nativeDraggable?Re(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Re(document,"pointermove",this._handleFallbackAutoScroll):o.touches?Re(document,"touchmove",this._handleFallbackAutoScroll):Re(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var o=n.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?Pe(document,"dragover",this._handleAutoScroll):(Pe(document,"pointermove",this._handleFallbackAutoScroll),Pe(document,"touchmove",this._handleFallbackAutoScroll),Pe(document,"mousemove",this._handleFallbackAutoScroll)),Ls(),vo(),kc()},nulling:function(){Ho=mi=Nn=vi=Rn=ni=oi=null,tt.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,o){var r=this,s=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,u=document.elementFromPoint(s,a);if(Ho=n,o||this.options.forceAutoScrollFallback||Jn||Kt||jn){ii(n,this.options,u,o);var p=en(u,!0);vi&&(!Rn||s!==ni||a!==oi)&&(Rn&&Ls(),Rn=setInterval(function(){var c=en(document.elementFromPoint(s,a),!0);c!==p&&(p=c,vo()),ii(n,r.options,c,o)},10),ni=s,oi=a)}else{if(!this.options.bubbleScroll||en(u,!0)===Ut()){vo();return}ii(n,this.options,en(u,!1),!1)}}},Zt(t,{pluginName:"scroll",initializeByDefault:!0})}function vo(){tt.forEach(function(t){clearInterval(t.pid)}),tt=[]}function Ls(){clearInterval(Rn)}var ii=Ws(function(t,e,n,o){if(e.scroll){var r=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,u=e.scrollSpeed,p=Ut(),c=!1,b;mi!==n&&(mi=n,vo(),Nn=e.scroll,b=e.scrollFn,Nn===!0&&(Nn=en(n,!0)));var C=0,A=Nn;do{var x=A,E=it(x),O=E.top,oe=E.bottom,B=E.left,ie=E.right,le=E.width,pe=E.height,ee=void 0,me=void 0,N=x.scrollWidth,M=x.scrollHeight,$=Le(x),g=x.scrollLeft,S=x.scrollTop;x===p?(ee=le<N&&($.overflowX==="auto"||$.overflowX==="scroll"||$.overflowX==="visible"),me=pe<M&&($.overflowY==="auto"||$.overflowY==="scroll"||$.overflowY==="visible")):(ee=le<N&&($.overflowX==="auto"||$.overflowX==="scroll"),me=pe<M&&($.overflowY==="auto"||$.overflowY==="scroll"));var v=ee&&(Math.abs(ie-r)<=a&&g+le<N)-(Math.abs(B-r)<=a&&!!g),he=me&&(Math.abs(oe-s)<=a&&S+pe<M)-(Math.abs(O-s)<=a&&!!S);if(!tt[C])for(var te=0;te<=C;te++)tt[te]||(tt[te]={});(tt[C].vx!=v||tt[C].vy!=he||tt[C].el!==x)&&(tt[C].el=x,tt[C].vx=v,tt[C].vy=he,clearInterval(tt[C].pid),(v!=0||he!=0)&&(c=!0,tt[C].pid=setInterval((function(){o&&this.layer===0&&ke.active._onTouchMove(Ho);var Ie=tt[this.layer].vy?tt[this.layer].vy*u:0,fe=tt[this.layer].vx?tt[this.layer].vx*u:0;typeof b=="function"&&b.call(ke.dragged.parentNode[Vt],fe,Ie,t,Ho,tt[this.layer].el)!=="continue"||Gs(tt[this.layer].el,fe,Ie)}).bind({layer:C}),24))),C++}while(e.bubbleScroll&&A!==p&&(A=en(A,!1)));vi=c}},30),Qs=function(e){var n=e.originalEvent,o=e.putSortable,r=e.dragEl,s=e.activeSortable,a=e.dispatchSortableEvent,u=e.hideGhostForTarget,p=e.unhideGhostForTarget;if(n){var c=o||s;u();var b=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,C=document.elementFromPoint(b.clientX,b.clientY);p(),c&&!c.el.contains(C)&&(a("spill"),this.onSpill({dragEl:r,putSortable:o}))}};function Vi(){}Vi.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,o=e.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var r=Sn(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(n,r):this.sortable.el.appendChild(n),this.sortable.animateAll(),o&&o.animateAll()},drop:Qs};Zt(Vi,{pluginName:"revertOnSpill"});function Mi(){}Mi.prototype={onSpill:function(e){var n=e.dragEl,o=e.putSortable,r=o||this.sortable;r.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),r.animateAll()},drop:Qs};Zt(Mi,{pluginName:"removeOnSpill"});ke.mount(new Fc);ke.mount(Mi,Vi);function Uc(t,e){return Object.values(t).indexOf(e)}function zc(t,e,n,o){if(!t)return[];const r=Object.values(t),s=e.length-o;return[...e].map((u,p)=>p>=s?r.length:r.indexOf(u))}function Wc(t){return["transition-group","TransitionGroup"].includes(t)}function ks(t){if(!t||t.length!==1)return!1;const[{type:e}]=t;return e?Wc(e.name):!1}function Gc(t,e){return e?{...e.props,...e.attrs}:t}const yi=["Start","Add","Remove","Update","End"],bi=["Choose","Unchoose","Sort","Filter","Clone"],qc=["Move",...yi,...bi].map(t=>"on"+t);let si=null;const Tn=Ts({name:"VueDraggableNext",inheritAttrs:!1,props:{options:Object,list:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:t=>t},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null},component:{type:String,default:null},modelValue:{type:Array,required:!1,default:null}},emits:["update:modelValue","move","change",...yi.map(t=>t.toLowerCase()),...bi.map(t=>t.toLowerCase())],setup(t,{emit:e,slots:n,attrs:o}){const r=yt(!1),s=yt(!1),a=yt(0),u=yt(0),p=yt([]),c=yt(null),b=yt(null),C=di(()=>t.list?t.list:t.modelValue),A=kl();function x(){return t.component?Q(t.component):t.tag}function E(R){if(b.value)for(const P in R){const G=hs(P);qc.indexOf(G)===-1&&b.value.option(G,R[P])}}function O(){var R;return((R=A==null?void 0:A.proxy)==null?void 0:R.$el.children)||[]}async function oe(){var R;await co(),p.value=zc(O(),((R=A==null?void 0:A.proxy)==null?void 0:R.$el.children)||[],r.value,u.value)}function B(R){const P=Uc(O()||[],R);if(P===-1)return null;const G=C.value?C.value[P]:null;return{index:P,element:G}}function ie(R){co(()=>e("change",R))}function le(R){if(t.list){R(t.list);return}const P=[...t.modelValue||[]];R(P),e("update:modelValue",P)}function pe(...R){le(G=>G.splice(...R))}function ee(R,P){le(be=>be.splice(P,0,be.splice(R,1)[0]))}function me(R){const P=p.value,G=P.length;return R>G-1?G:P[R]}function N(){var P,G;return n.default&&((G=(P=n.default()[0])==null?void 0:P.component)==null?void 0:G.proxy)||null}function M(R){if(!t.noTransitionOnDrag||!r.value)return;const P=O();P[R]&&(P[R].data=null);const G=N();G&&(G.children=[],G.kept=void 0)}function $(R){oe(),c.value=B(R.item),c.value&&(R.item._underlying_vm_=t.clone(c.value.element),si=R.item)}function g(R){const P=R.item._underlying_vm_;if(P===void 0)return;Ko(R.item);const G=me(R.newIndex);pe(G,0,P),oe(),ie({added:{element:P,newIndex:G}})}function S(R){var G;if(fs((G=A==null?void 0:A.proxy)==null?void 0:G.$el,R.item,R.oldIndex),R.pullMode==="clone"){Ko(R.clone);return}if(!c.value)return;const P=c.value.index;pe(P,1),M(P),ie({removed:{element:c.value.element,oldIndex:P}})}function v(R){var be,we;Ko(R.item),fs(R.from,R.item,R.oldIndex);const P=(be=c.value)==null?void 0:be.index,G=me(R.newIndex);ee(P,G),ie({moved:{element:(we=c.value)==null?void 0:we.element,oldIndex:P,newIndex:G}})}function he(R,P){Object.prototype.hasOwnProperty.call(R,P)&&(R[P]+=a.value)}function te(R){return R.__draggable_component__}function Ie({to:R,related:P}){const G=te(R);if(!G)return{component:G};const be=G.realList,we={list:be,component:G};if(R!==P&&be&&G.getUnderlyingVm){const L=G.getUnderlyingVm(P);if(L)return Object.assign(L,we)}return we}function fe(R,P){const G=[...P.to.children].filter(m=>m.style.display!=="none");if(G.length===0)return 0;const be=G.indexOf(P.related),we=R.component.getVmIndex(be);return G.indexOf(si)!==-1||!P.willInsertAfter?we:we+1}const I=()=>{var we,L;const R={};yi.forEach(m=>{R["on"+m]=ne(m)}),bi.forEach(m=>{R["on"+m]=U.bind(null,m)});const P=Object.keys(o).reduce((m,H)=>(m[hs(H)]=o[H],m),{}),G=Object.assign({},P,R,{onMove:(m,H)=>$e(m,H)});"draggable"in G||(G.draggable=">*");const be=((we=A==null?void 0:A.proxy)==null?void 0:we.$el.nodeType)===1?A.proxy.$el:((L=A==null?void 0:A.proxy)==null?void 0:L.$el.parentElement)||null;be&&(b.value=new ke(be,G),be.__draggable_component__=A==null?void 0:A.proxy,oe())};function U(R,P){co(()=>e(R.toLowerCase(),P))}function ne(R){return P=>{if(C.value!==null){const G="onDrag"+R,be=ge[G];be&&be(P)}U(R,P)}}function $e(R,P){const G=t.move;if(!G||!C.value)return!0;const be=Ie(R),we=c.value,L=fe(be,R);we&&Object.assign(we,{futureIndex:L});const m=Object.assign({},R,{relatedContext:be,draggedContext:we});return G(m,P)}function Me(){oe(),si=null}const ge={onDragStart:$,onDragAdd:g,onDragRemove:S,onDragUpdate:v,onDragMove:$e,onDragEnd:Me};return wi(()=>{I()}),t.list!==null&&t.modelValue!==null&&hc.error("list props are mutually exclusive! Please set one."),{getTag:x,realList:C,visibleIndexes:p,noneFunctionalComponentMode:s,headerOffset:a,footerOffset:u,transitionMode:r,computeIndexes:oe,updateOptions:E,getChildrenNodes:O,getUnderlyingVm:B,emitChanges:ie,alterList:le,spliceList:pe,updatePosition:ee,getVmIndex:me,getComponent:N,resetTransitionData:M,onDragStart:$,onDragAdd:g,onDragRemove:S,onDragUpdate:v,updateProperty:he,onDragMove:$e,onDragEnd:Me,mounted:I,context:c,sortableInstance:b,getRelatedContextFromMoveEvent:Ie,getTargetedComponent:te,computeFutureIndex:fe}},render(){const t=this.getTag(),e=Gc(this.$attrs,this.componentData);if(typeof t=="string"){const o=this.$slots.default&&typeof this.$slots.default=="function"?this.$slots.default():null;return o?(this.transitionMode=ks(o),Wo(t,e,o)):Wo(t,e,[])}const n=this.$slots.default?{default:this.$slots.default}:{};if(this.$slots.default){const o=typeof this.$slots.default=="function"?this.$slots.default():null;this.transitionMode=ks(o||[])}return Wo(t,e,n)}}),Zc={name:"NodeTemplate",props:{nodeElement:Object},data(){return{item:this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Files.get(this.nodeElement.uuid)))}}};function Kc(t,e,n,o,r,s){return r.item?(f(),y(ae,{key:0},[ye(k(r.item.title),1)],64)):V("",!0)}const Yc=He(Zc,[["render",Kc]]),Jc={name:"WriterNode",components:{VueDraggableNext:Tn,NodeTemplate:Yc},emits:["updateDatabase"],props:{list:Array},data(){return{drag:!1}},computed:{dragOptions(){return{animation:200,group:"filestystem",disabled:!1,ghostClass:"ghost"}}},methods:{deleteFile(t,e){this.$swal({title:this.$root.setlang.confirmmodal.confirmdelete,text:this.$root.setlang.confirmmodal.noundo,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.confirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(n=>{n.isConfirmed&&(this.$root.session.writer.file&&this.$root.session.writer.file.uuid===e.uuid&&(this.$root.session.writer.file=null),e.type==="folder"&&e.children.length&&this.recursiveDelete(e.children),this.list.splice(t,1),this.updateDatabase(),this.$root.DeleteRecord("Files",e.uuid),this.$swal(this.$root.setlang.confirmmodal.success,this.$root.setlang.confirmmodal.successfeedback,"success"))})},recursiveDelete(t){t.forEach(e=>{this.$root.session.writer.file&&this.$root.session.writer.file.uuid===e.uuid&&(this.$root.session.writer.file=null),e.type==="folder"?e.children.length&&this.recursiveDelete(e.children):this.$root.DeleteRecord("Files",e.uuid)})},updateDatabase(){this.$emit("updateDatabase")},selectNode(t){this.$root.session.writer.file=t},isSelected(t){return!!(this.$root.session.writer.file&&this.$root.session.writer.file.uuid===t)}}},Xc={class:"list-group-item",tabindex:"0"},Qc={key:0,class:"itemBox"},ep=["onClick"],tp={class:"handle"},np={key:0,style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},op={key:1,style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},ip={class:"title"},sp=["onClick"],rp={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},ap={key:1,class:"itemBox"},lp=["onClick"],dp=["onClick"],up={key:0},cp={key:0,style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},pp={key:1,style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},hp={key:1},fp={key:0,style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},gp={key:1,style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},mp={class:"title"},vp=["onClick"],yp={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"};function bp(t,e,n,o,r,s){const a=Q("NodeTemplate"),u=Q("WriterNode",!0),p=Q("VueDraggableNext");return f(),Te(p,un({list:n.list,tag:"transition-group",handle:".handle","component-data":{tag:"div",type:"transition-group",name:r.drag?null:"flip-list"}},s.dragOptions,{onStart:e[0]||(e[0]=c=>r.drag=!0),onEnd:e[1]||(e[1]=c=>r.drag=!1),"item-key":"order",onChange:s.updateDatabase,emptyInsertThreshold:30}),{default:bt(()=>[(f(!0),y(ae,null,Ne(n.list,(c,b)=>(f(),y("div",{key:b,class:"childbox"},[i("div",Xc,[c.type==="file"?(f(),y("div",Qc,[i("div",{class:Fe(["itemTitle",s.isSelected(c.uuid)?"chosen":""]),onClick:C=>s.selectNode(c)},[i("span",tp,[s.isSelected(c.uuid)?(f(),y("svg",np,[...e[2]||(e[2]=[i("path",{d:"M13,9H18.5L13,3.5V9M6,2H14L20,8V20A2,2 0 0,1 18,22H6C4.89,22 4,21.1 4,20V4C4,2.89 4.89,2 6,2M15,18V16H6V18H15M18,14V12H6V14H18Z"},null,-1)])])):V("",!0),s.isSelected(c.uuid)?V("",!0):(f(),y("svg",op,[...e[3]||(e[3]=[i("path",{d:"M6,2A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6M6,4H13V9H18V20H6V4M8,12V14H16V12H8M8,16V18H13V16H8Z"},null,-1)])]))]),i("div",ip,[(f(),Te(a,{nodeElement:c,key:c.title},null,8,["nodeElement"]))])],10,ep),i("button",{class:"deleteIconButton",onClick:C=>s.deleteFile(b,c),tabindex:"0"},[(f(),y("svg",rp,[...e[4]||(e[4]=[i("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1)])]))],8,sp)])):V("",!0),c.type==="folder"?(f(),y("div",ap,[i("div",{class:Fe(["itemTitle",s.isSelected(c.uuid)?"chosen":""]),onClick:C=>s.selectNode(c)},[i("span",{class:"handle",onClick:C=>c.open=!c.open},[s.isSelected(c.uuid)?(f(),y("span",up,[c.open?V("",!0):(f(),y("svg",cp,[...e[5]||(e[5]=[i("path",{d:"M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z"},null,-1)])])),c.open?(f(),y("svg",pp,[...e[6]||(e[6]=[i("path",{d:"M19,20H4C2.89,20 2,19.1 2,18V6C2,4.89 2.89,4 4,4H10L12,6H19A2,2 0 0,1 21,8H21L4,8V18L6.14,10H23.21L20.93,18.5C20.7,19.37 19.92,20 19,20Z"},null,-1)])])):V("",!0)])):V("",!0),s.isSelected(c.uuid)?V("",!0):(f(),y("span",hp,[c.open?V("",!0):(f(),y("svg",fp,[...e[7]||(e[7]=[i("path",{d:"M20,18H4V8H20M20,6H12L10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6Z"},null,-1)])])),c.open?(f(),y("svg",gp,[...e[8]||(e[8]=[i("path",{d:"M6.1,10L4,18V8H21A2,2 0 0,0 19,6H12L10,4H4A2,2 0 0,0 2,6V18A2,2 0 0,0 4,20H19C19.9,20 20.7,19.4 20.9,18.5L23.2,10H6.1M19,18H6L7.6,12H20.6L19,18Z"},null,-1)])])):V("",!0)]))],8,dp),i("div",mp,k(c.title),1)],10,lp),i("button",{class:"deleteIconButton",onClick:C=>s.deleteFile(b,c),tabindex:"0"},[(f(),y("svg",yp,[...e[9]||(e[9]=[i("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1)])]))],8,vp)])):V("",!0),c.open?(f(),Te(u,{key:2,list:c.children,onUpdateDatabase:s.updateDatabase,onSelectNode:C=>s.selectNode(c)},null,8,["list","onUpdateDatabase","onSelectNode"])):V("",!0)])]))),128))]),_:1},16,["list","component-data","onChange"])}const wp=He(Jc,[["render",bp],["__scopeId","data-v-62b2cd95"]]),Cp={name:"WriterLeftSide",components:{WriterNode:wp},data(){return{drag:!1,pinme:!1,defaultFileStructure:{type:"file"},defaultFolderStructure:{type:"folder",open:!0,title:this.$root.setlang.writer.newfolder,children:[]}}},methods:{previewText(t){if(t){t=t.replace(/(<([^>]+)>)/gi," ");let e="...";return t.length<100&&(e=""),t.substring(0,75)+e}},searchForFileandParent(t,e){let n={index:null,parent:null};for(let o=0;o<e.length;o++){if(e[o].uuid===t.uuid)return n.index=o,n.parent=e,n;if(e[o].children&&e[o].children.length)return this.searchForFileandParent(t,e[o].children)}},searchForFolder(t,e){for(let n=0;n<e.length;n++){if(e[n].uuid===t)return e[n];if(e[n].children){console.log("childs",e[n].children);let o=this.searchForFolder(t,e[n].children);if(o)return o}}},async addNode(t){let e=null;if(t==="file"){e=JSON.parse(JSON.stringify(this.defaultFileStructure)),e.uuid=this.$root.uuid();let o={};o.title=this.$root.setlang.writer.newfile,o.writerid=this.$root.session.writer.selected.uuid,o.uuid=e.uuid,o.content="",o.notes=[],await this.$root.AddRecord("Files",o)}t==="folder"&&(e=JSON.parse(JSON.stringify(this.defaultFolderStructure)),e.uuid=this.$root.uuid());let n=JSON.parse(JSON.stringify(this.$root.session.writer.selected));if(console.log("WriterNewObj",n),!this.$root.session.writer.file)n.files.push(e);else if(this.$root.session.writer.file.type==="folder"){let o=this.searchForFolder(this.$root.session.writer.file.uuid,n.files);console.log("folder",o),o&&o.children.push(e)}else{let o=this.searchForFileandParent(this.$root.session.writer.file,n.files);o&&o.parent.splice(o.index+1,0,e)}this.$root.UpdateRecord("Writer",n.uuid,n)},async updateDatabase(){await this.$root.UpdateRecord("Writer",this.$root.session.writer.selected.uuid,this.$root.session.writer.selected)}},computed:{dragOptions(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}}}},$p={key:0,style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},Lp={key:1,style:{width:"18px",height:"px"},viewBox:"0 0 24 24"},kp={class:"scrollpanel"},xp={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Hp={key:0},Ap={key:1},Vp={class:"addbar"},Mp={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Sp={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function Tp(t,e,n,o,r,s){const a=Q("WriterNode");return this.$root.session.writer.selected?(f(),y("div",{key:0,class:Fe(["menu",t.$root.lhspin?"lhspinned":""])},[i("button",{class:"pinBtn",onClick:e[0]||(e[0]=u=>t.$root.lhspin=!t.$root.lhspin)},[t.$root.lhspin?(f(),y("svg",$p,[...e[4]||(e[4]=[i("path",{d:"M16,12V4H17V2H7V4H8V12L6,14V16H11.2V22H12.8V16H18V14L16,12Z"},null,-1)])])):V("",!0),t.$root.lhspin?V("",!0):(f(),y("svg",Lp,[...e[5]||(e[5]=[i("path",{d:"M2,5.27L3.28,4L20,20.72L18.73,22L12.8,16.07V22H11.2V16H6V14L8,12V11.27L2,5.27M16,12L18,14V16H17.82L8,6.18V4H7V2H17V4H16V12Z"},null,-1)])]))]),i("div",kp,[i("button",{class:"settingsBtn",style:{border:"0",outline:"none"},onClick:e[1]||(e[1]=u=>this.$root.session.writer.file=null)},[(f(),y("svg",xp,[...e[6]||(e[6]=[i("path",{d:"M17.5 14.33C18.29 14.33 19.13 14.41 20 14.57V16.07C19.38 15.91 18.54 15.83 17.5 15.83C15.6 15.83 14.11 16.16 13 16.82V15.13C14.17 14.6 15.67 14.33 17.5 14.33M13 12.46C14.29 11.93 15.79 11.67 17.5 11.67C18.29 11.67 19.13 11.74 20 11.9V13.4C19.38 13.24 18.54 13.16 17.5 13.16C15.6 13.16 14.11 13.5 13 14.15M17.5 10.5C15.6 10.5 14.11 10.82 13 11.5V9.84C14.23 9.28 15.73 9 17.5 9C18.29 9 19.13 9.08 20 9.23V10.78C19.26 10.59 18.41 10.5 17.5 10.5M21 18.5V7C19.96 6.67 18.79 6.5 17.5 6.5C15.45 6.5 13.62 7 12 8V19.5C13.62 18.5 15.45 18 17.5 18C18.69 18 19.86 18.16 21 18.5M17.5 4.5C19.85 4.5 21.69 5 23 6V20.56C23 20.68 22.95 20.8 22.84 20.91C22.73 21 22.61 21.08 22.5 21.08C22.39 21.08 22.31 21.06 22.25 21.03C20.97 20.34 19.38 20 17.5 20C15.45 20 13.62 20.5 12 21.5C10.66 20.5 8.83 20 6.5 20C4.84 20 3.25 20.36 1.75 21.07C1.72 21.08 1.68 21.08 1.63 21.1C1.59 21.11 1.55 21.12 1.5 21.12C1.39 21.12 1.27 21.08 1.16 21C1.05 20.89 1 20.78 1 20.65V6C2.34 5 4.18 4.5 6.5 4.5C8.83 4.5 10.66 5 12 6C13.34 5 15.17 4.5 17.5 4.5Z"},null,-1)])])),i("div",null,[this.$root.session.writer.selected.title?V("",!0):(f(),y("span",Hp,[i("i",null,k(this.$root.setlang.writer.settings),1)])),this.$root.session.writer.selected.title?(f(),y("span",Ap,k(this.$root.session.writer.selected.title),1)):V("",!0)])]),(f(),Te(a,{list:t.$root.session.writer.selected.files,onUpdateDatabase:s.updateDatabase,key:this.$root.session.writer.selected.lastupdated},null,8,["list","onUpdateDatabase"]))]),i("div",Vp,[i("button",{onClick:e[2]||(e[2]=u=>s.addNode("folder"))},[(f(),y("svg",Mp,[...e[7]||(e[7]=[i("path",{d:"M13 19C13 19.34 13.04 19.67 13.09 20H4C2.9 20 2 19.11 2 18V6C2 4.89 2.89 4 4 4H10L12 6H20C21.1 6 22 6.89 22 8V13.81C21.12 13.3 20.1 13 19 13C15.69 13 13 15.69 13 19M20 18V15H18V18H15V20H18V23H20V20H23V18H20Z"},null,-1)])]))]),i("button",{onClick:e[3]||(e[3]=u=>s.addNode("file")),style:{left:"50px"}},[(f(),y("svg",Sp,[...e[8]||(e[8]=[i("path",{d:"M14 2H6C4.89 2 4 2.89 4 4V20C4 21.11 4.89 22 6 22H13.81C13.28 21.09 13 20.05 13 19C13 18.67 13.03 18.33 13.08 18H6V16H13.81C14.27 15.2 14.91 14.5 15.68 14H6V12H18V13.08C18.33 13.03 18.67 13 19 13S19.67 13.03 20 13.08V8L14 2M13 9V3.5L18.5 9H13M18 15V18H15V20H18V23H20V20H23V18H20V15H18Z"},null,-1)])]))])])],2)):V("",!0)}const Ep=He(Cp,[["render",Tp],["__scopeId","data-v-7b29fcde"]]),Bp={name:"MiniImage",props:["uuid"],data(){return{base64Url:null}},async mounted(){let t=await Rt.ImageLibrary.get(this.uuid);this.base64Url=t.base64}},Ip=["src"];function Dp(t,e,n,o,r,s){return r.base64Url?(f(),y("img",{key:0,src:"data:image/png;base64,"+r.base64Url},null,8,Ip)):V("",!0)}const Si=He(Bp,[["render",Dp]]),_p={name:"CardViewer",emits:["linkcard"],components:{MiniImage:Si},props:{cardid:{type:String,required:!0},allowlink:{type:Boolean,default:!1}},computed:{currentProjectCards(){let t=[];return Object.keys(this.linkcards).forEach(e=>{this.linkcards[e].title!=""&&t.push(this.linkcards[e])}),t},chooser(){let t=!1;return!this.cardInfo&&this.allowlink?!0:t}},data(){return{cardInfo:fn(hn(async()=>await Rt.Cards.get(this.cardid))),linkcards:fn(hn(async()=>await Rt.Cards.where("title").notEqual("").toArray())),advancedEdit:!1,tag:null,cardChange:null,showimage:null,showLinkBox:!1}},methods:{sendlink(t){this.$emit("linkcard",t,this.cardid)}},async mounted(){}},Pp={key:0},Op={key:0},Np={class:"cardTitle"},Rp={key:0},jp={key:1},Fp={key:1,class:"cardDescription"},Up=["innerHTML"],zp={key:1,class:"card"},Wp={key:0},Gp={key:0,class:"LinkBox"},qp={key:0},Zp=["value","onClick"],Kp={key:1};function Yp(t,e,n,o,r,s){const a=Q("MiniImage");return f(),y(ae,null,[r.cardInfo?(f(),y("div",Pp,[i("div",{class:"card",onDblclick:e[1]||(e[1]=u=>t.$root.$data.session.EditCard=n.cardid),style:It("background-color: var("+r.cardInfo.color+"); color : var("+r.cardInfo.color+"-f); fill : var("+r.cardInfo.color+"-f)")},[r.cardInfo.showimage?(f(),y("div",Op,[(f(),Te(a,{uuid:r.cardInfo.showimage,key:r.cardInfo.showimage},null,8,["uuid"]))])):V("",!0),i("div",Np,[r.cardInfo.title?(f(),y("span",Rp,k(r.cardInfo.title),1)):(f(),y("span",jp,k(this.$root.setlang.cards.cardtitle),1))]),r.cardInfo.showdesc?(f(),y("div",Fp,[i("span",{innerHTML:r.cardInfo.description},null,8,Up)])):V("",!0),i("button",{class:"clearInterfaceIconButton editButton",onClick:e[0]||(e[0]=u=>t.$root.$data.session.EditCard=n.cardid)},[...e[4]||(e[4]=[i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M14.06,9L15,9.94L5.92,19H5V18.08L14.06,9M17.66,3C17.41,3 17.15,3.1 16.96,3.29L15.13,5.12L18.88,8.87L20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18.17,3.09 17.92,3 17.66,3M14.06,6.19L3,17.25V21H6.75L17.81,9.94L14.06,6.19Z"})],-1)])])],36)])):V("",!0),r.cardInfo?V("",!0):(f(),y("div",zp,[s.chooser?(f(),y("div",Wp,[i("button",{onClick:e[2]||(e[2]=u=>this.$root.makeNewCard(this.cardid)),class:"interfaceBtn",style:{width:"100%","text-align":"left"}},[e[5]||(e[5]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M13.09 20H4C2.9 20 2 19.11 2 18V6C2 4.89 2.9 4 4 4H20C21.11 4 22 4.89 22 6V13.81C21.12 13.3 20.09 13 19 13C15.69 13 13 15.69 13 19C13 19.34 13.04 19.67 13.09 20M18 15V18H15V20H18V23H20V20H23V18H20V15H18Z"})],-1)),ye(" "+k(this.$root.setlang.cards.createnewbtn),1)]),e[8]||(e[8]=i("div",{style:{"text-align":"center",padding:"5px"}}," or ",-1)),i("button",{onClick:e[3]||(e[3]=u=>r.showLinkBox=!r.showLinkBox),class:"interfaceBtn"},[e[6]||(e[6]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M11,16H10C8.39,16 6,14.94 6,12C6,9.07 8.39,8 10,8H11V10H10C9.54,10 8,10.17 8,12C8,13.9 9.67,14 10,14H11V16M15,11V13H9V11H15M14,16H13V14H14C14.46,14 16,13.83 16,12C16,10.1 14.33,10 14,10H13V8H14C15.61,8 18,9.07 18,12C18,14.94 15.61,16 14,16Z"})],-1)),ye(" "+k(this.$root.setlang.cards.linkexisting),1)]),r.showLinkBox?(f(),y("div",Gp,[r.linkcards.length==0?(f(),y("div",qp," No cards ")):V("",!0),(f(!0),y(ae,null,Ne(r.linkcards,(u,p)=>(f(),y("button",{class:"interfaceBtn",key:p,value:u.uuid,onClick:c=>s.sendlink(u.uuid)},[e[7]||(e[7]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M19,19H5V5H19V19M11,16H10C8.39,16 6,14.94 6,12C6,9.07 8.39,8 10,8H11V10H10C9.54,10 8,10.17 8,12C8,13.9 9.67,14 10,14H11V16M14,16H13V14H14C14.46,14 16,13.83 16,12C16,10.1 14.33,10 14,10H13V8H14C15.61,8 18,9.07 18,12C18,14.94 15.61,16 14,16M15,13H9V11H15V13Z"})],-1)),ye(" "+k(u.title),1)],8,Zp))),128))])):V("",!0)])):(f(),y("div",Kp,"loading"))]))],64)}const To=He(_p,[["render",Yp],["__scopeId","data-v-a4d9b1a0"]]),Jp={name:"WriterRightSide",display:"Transitions",order:7,components:{VueDraggableNext:Tn,CardViewer:To},data(){return{drag:!1,item:fn(hn(async()=>await Rt.Files.get(this.$root.session.writer.file.uuid)))}},methods:{linkCard(t,e){var n=this.item.notes.find(o=>o.uuid===e);n.uuid=t,this.updateDatabase()},deleteNote(t){this.$swal({title:"Are you sure?",text:"You won't be able to undo this!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(e=>{e.isConfirmed&&(this.item.notes.splice(t,1),this.updateDatabase(),this.$swal("Deleted!","Your file has been deleted.","success"))})},addCard(){let t={};t.uuid=this.$root.uuid(),this.item.notes.push(t),this.updateDatabase()},updateDatabase(){this.$root.UpdateRecord("Files",this.item.uuid,this.item)}},computed:{dragOptions(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}}}},Xp={key:0,style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},Qp={key:1,style:{width:"18px",height:"px"},viewBox:"0 0 24 24"},eh={class:"scrollpanel scroll-lhs"},th={class:"scroll-inside"},nh={key:0},oh={style:{"padding-left":"0px"}},ih=["onClick"],sh={style:{width:"16px",height:"16px"},viewBox:"0 0 24 24"},rh=["onClick"],ah={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},lh={key:0,class:"addbar"},dh={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},uh={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function ch(t,e,n,o,r,s){const a=Q("CardViewer"),u=Q("VueDraggableNext");return f(),y("div",{class:Fe(["menu",t.$root.rhspin?"rhspinned":""])},[i("button",{class:"pinBtn",onClick:e[0]||(e[0]=p=>t.$root.rhspin=!t.$root.rhspin)},[t.$root.rhspin?(f(),y("svg",Xp,[...e[5]||(e[5]=[i("path",{d:"M16,12V4H17V2H7V4H8V12L6,14V16H11.2V22H12.8V16H18V14L16,12Z"},null,-1)])])):V("",!0),t.$root.rhspin?V("",!0):(f(),y("svg",Qp,[...e[6]||(e[6]=[i("path",{d:"M2,5.27L3.28,4L20,20.72L18.73,22L12.8,16.07V22H11.2V16H6V14L8,12V11.27L2,5.27M16,12L18,14V16H17.82L8,6.18V4H7V2H17V4H16V12Z"},null,-1)])]))]),i("div",eh,[i("div",th,[r.item?(f(),y("div",nh,[_e(u,un({list:r.item.notes,tag:"transition-group",handle:".handle","component-data":{tag:"div",type:"transition-group",name:r.drag?null:"flip-list"}},s.dragOptions,{onStart:e[1]||(e[1]=p=>r.drag=!0),onEnd:e[2]||(e[2]=p=>r.drag=!1),"item-key":"order",onChange:s.updateDatabase}),{default:bt(()=>[(f(!0),y(ae,null,Ne(r.item.notes,(p,c)=>(f(),y("div",{key:c,class:"list-group-item",tabindex:"0"},[i("div",oh,[i("div",{class:Fe(p.completed?"completedcard":"")},[(f(),Te(a,{cardid:p.uuid,allowlink:!0,onLinkcard:s.linkCard,key:p.uuid},null,8,["cardid","onLinkcard"])),i("button",{class:"togglecomplete",onClick:b=>{p.completed=!p.completed,s.updateDatabase()}},[(f(),y("svg",sh,[...e[7]||(e[7]=[i("path",{d:"M19,19H5V5H15V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V11H19M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"},null,-1)])]))],8,ih)],2),e[9]||(e[9]=i("div",{class:"handle"},[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M1.88,0.46L0.46,1.88L5.59,7H2V9H9V2H7V5.59M11,7V9H21V15H23V9A2,2 0 0,0 21,7M7,11V21A2,2 0 0,0 9,23H15V21H9V11M15.88,14.46L14.46,15.88L19.6,21H17V23H23V17H21V19.59"})])],-1)),i("button",{class:"deleteIconButton",onClick:b=>s.deleteNote(c,p),tabindex:"0"},[(f(),y("svg",ah,[...e[8]||(e[8]=[i("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1)])]))],8,rh)])]))),128))]),_:1},16,["list","component-data","onChange"])])):V("",!0)])]),r.item?(f(),y("div",lh,[i("button",{onClick:e[3]||(e[3]=p=>t.$root.openInNew("planningboard")),class:"popBtn"},[(f(),y("svg",dh,[...e[10]||(e[10]=[i("path",{d:"M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z"},null,-1)])]))]),i("button",{onClick:e[4]||(e[4]=(...p)=>s.addCard&&s.addCard(...p)),class:"addBtn"},[(f(),y("svg",uh,[...e[11]||(e[11]=[i("path",{d:"M13.09 20H4C2.9 20 2 19.11 2 18V6C2 4.89 2.9 4 4 4H20C21.11 4 22 4.89 22 6V13.81C21.12 13.3 20.09 13 19 13C15.69 13 13 15.69 13 19C13 19.34 13.04 19.67 13.09 20M18 15V18H15V20H18V23H20V20H23V18H20V15H18Z"},null,-1)])]))])])):V("",!0)],2)}const ph=He(Jp,[["render",ch],["__scopeId","data-v-7fd8bcc8"]]),hh=/^\s*>\s$/,fh=$t.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",dt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Mn({find:hh,type:this.type})]}}),gh=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,mh=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,vh=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,yh=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,bh=Kn.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",dt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[pn({find:gh,type:this.type}),pn({find:vh,type:this.type})]},addPasteRules(){return[cn({find:mh,type:this.type}),cn({find:yh,type:this.type})]}}),wh="listItem",xs="textStyle",Hs=/^\s*([-+*])\s$/,Ch=$t.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",dt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(wh,this.editor.getAttributes(xs)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Mn({find:Hs,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Mn({find:Hs,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(xs),editor:this.editor})),[t]}}),$h=/(^|[^`])`([^`]+)`(?!`)/,Lh=/(^|[^`])`([^`]+)`(?!`)/g,kh=Kn.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",dt(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[pn({find:$h,type:this.type})]},addPasteRules(){return[cn({find:Lh,type:this.type})]}}),xh=/^```([a-z]+)?[\s\n]$/,Hh=/^~~~([a-z]+)?[\s\n]$/,Ah=$t.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,s=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(a=>a.startsWith(n)).map(a=>a.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",dt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:o,empty:r}=n;if(!r||o.parent.type!==this.type)return!1;const s=o.parentOffset===o.parent.nodeSize-2,a=o.parent.textContent.endsWith(`

`);return!s||!a?!1:t.chain().command(({tr:u})=>(u.delete(o.pos-2,o.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:o}=e,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type||!(r.parentOffset===r.parent.nodeSize-2))return!1;const u=r.after();return u===void 0?!1:o.nodeAt(u)?t.commands.command(({tr:c})=>(c.setSelection(Gn.near(o.resolve(u))),!0)):t.commands.exitCode()}}},addInputRules(){return[ui({find:xh,type:this.type,getAttributes:t=>({language:t[1]})}),ui({find:Hh,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Vo({key:new Ci("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),o=e.clipboardData.getData("vscode-editor-data"),r=o?JSON.parse(o):void 0,s=r==null?void 0:r.mode;if(!n||!s)return!1;const{tr:a,schema:u}=t.state,p=u.text(n.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:s},p)),a.selection.$from.parent.type!==this.type&&a.setSelection(An.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),t.dispatch(a),!0}}})]}}),Vh=$t.create({name:"doc",topNode:!0,content:"block+"});function Mh(t={}){return new Vo({view(e){return new Sh(e,t)}})}class Sh{constructor(e,n){var o;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(o=n.width)!==null&&o!==void 0?o:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let s=a=>{this[r](a)};return e.dom.addEventListener(r,s),{name:r,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,o,r=this.editorView.dom,s=r.getBoundingClientRect(),a=s.width/r.offsetWidth,u=s.height/r.offsetHeight;if(n){let C=e.nodeBefore,A=e.nodeAfter;if(C||A){let x=this.editorView.nodeDOM(this.cursorPos-(C?C.nodeSize:0));if(x){let E=x.getBoundingClientRect(),O=C?E.bottom:E.top;C&&A&&(O=(O+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let oe=this.width/2*u;o={left:E.left,right:E.right,top:O-oe,bottom:O+oe}}}}if(!o){let C=this.editorView.coordsAtPos(this.cursorPos),A=this.width/2*a;o={left:C.left-A,right:C.left+A,top:C.top,bottom:C.bottom}}let p=this.editorView.dom.offsetParent;this.element||(this.element=p.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let c,b;if(!p||p==document.body&&getComputedStyle(p).position=="static")c=-pageXOffset,b=-pageYOffset;else{let C=p.getBoundingClientRect(),A=C.width/p.offsetWidth,x=C.height/p.offsetHeight;c=C.left-p.scrollLeft*A,b=C.top-p.scrollTop*x}this.element.style.left=(o.left-c)/a+"px",this.element.style.top=(o.top-b)/u+"px",this.element.style.width=(o.right-o.left)/a+"px",this.element.style.height=(o.bottom-o.top)/u+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),o=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),r=o&&o.type.spec.disableDropCursor,s=typeof r=="function"?r(this.editorView,n,e):r;if(n&&!s){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let u=xl(this.editorView.state.doc,a,this.editorView.dragging.slice);u!=null&&(a=u)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const Th=Yn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Mh(this.options)]}});class Xe extends Gn{constructor(e){super(e,e)}map(e,n){let o=e.resolve(n.map(this.head));return Xe.valid(o)?new Xe(o):Gn.near(o)}content(){return Es.empty}eq(e){return e instanceof Xe&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Xe(e.resolve(n.pos))}getBookmark(){return new Ti(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!Eh(e)||!Bh(e))return!1;let o=n.type.spec.allowGapCursor;if(o!=null)return o;let r=n.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,n,o=!1){e:for(;;){if(!o&&Xe.valid(e))return e;let r=e.pos,s=null;for(let a=e.depth;;a--){let u=e.node(a);if(n>0?e.indexAfter(a)<u.childCount:e.index(a)>0){s=u.child(n>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;r+=n;let p=e.doc.resolve(r);if(Xe.valid(p))return p}for(;;){let a=n>0?s.firstChild:s.lastChild;if(!a){if(s.isAtom&&!s.isText&&!$i.isSelectable(s)){e=e.doc.resolve(r+s.nodeSize*n),o=!1;continue e}break}s=a,r+=n;let u=e.doc.resolve(r);if(Xe.valid(u))return u}return null}}}Xe.prototype.visible=!1;Xe.findFrom=Xe.findGapCursorFrom;Gn.jsonID("gapcursor",Xe);class Ti{constructor(e){this.pos=e}map(e){return new Ti(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Xe.valid(n)?new Xe(n):Gn.near(n)}}function er(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function Eh(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),o=t.node(e);if(n==0){if(o.type.spec.isolating)return!0;continue}for(let r=o.child(n-1);;r=r.lastChild){if(r.childCount==0&&!r.inlineContent||er(r.type))return!0;if(r.inlineContent)return!1}}return!0}function Bh(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),o=t.node(e);if(n==o.childCount){if(o.type.spec.isolating)return!0;continue}for(let r=o.child(n);;r=r.firstChild){if(r.childCount==0&&!r.inlineContent||er(r.type))return!0;if(r.inlineContent)return!1}}return!0}function Ih(){return new Vo({props:{decorations:Oh,createSelectionBetween(t,e,n){return e.pos==n.pos&&Xe.valid(n)?new Xe(n):null},handleClick:_h,handleKeyDown:Dh,handleDOMEvents:{beforeinput:Ph}}})}const Dh=Hl({ArrowLeft:lo("horiz",-1),ArrowRight:lo("horiz",1),ArrowUp:lo("vert",-1),ArrowDown:lo("vert",1)});function lo(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(o,r,s){let a=o.selection,u=e>0?a.$to:a.$from,p=a.empty;if(a instanceof An){if(!s.endOfTextblock(n)||u.depth==0)return!1;p=!1,u=o.doc.resolve(e>0?u.after():u.before())}let c=Xe.findGapCursorFrom(u,e,p);return c?(r&&r(o.tr.setSelection(new Xe(c))),!0):!1}}function _h(t,e,n){if(!t||!t.editable)return!1;let o=t.state.doc.resolve(e);if(!Xe.valid(o))return!1;let r=t.posAtCoords({left:n.clientX,top:n.clientY});return r&&r.inside>-1&&$i.isSelectable(t.state.doc.nodeAt(r.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Xe(o))),!0)}function Ph(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Xe))return!1;let{$from:n}=t.state.selection,o=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!o)return!1;let r=as.empty;for(let a=o.length-1;a>=0;a--)r=as.from(o[a].createAndFill(null,r));let s=t.state.tr.replace(n.pos,n.pos,new Es(r,0,0));return s.setSelection(An.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function Oh(t){if(!(t.selection instanceof Xe))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Al.create(t.doc,[Vl.widget(t.selection.head,e,{key:"gapcursor"})])}const Nh=Yn.create({name:"gapCursor",addProseMirrorPlugins(){return[Ih()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Ml(Sl(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),Rh=$t.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",dt(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:o})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:r,storedMarks:s}=n;if(r.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:u}=o.extensionManager,p=s||r.$to.parentOffset&&r.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:b})=>{if(b&&p&&a){const C=p.filter(A=>u.includes(A.type.name));c.ensureMarks(C)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),jh=$t.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,dt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>ui({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var Ao=200,lt=function(){};lt.prototype.append=function(e){return e.length?(e=lt.from(e),!this.length&&e||e.length<Ao&&this.leafAppend(e)||this.length<Ao&&e.leafPrepend(this)||this.appendInner(e)):this};lt.prototype.prepend=function(e){return e.length?lt.from(e).append(this):this};lt.prototype.appendInner=function(e){return new Fh(this,e)};lt.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?lt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};lt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};lt.prototype.forEach=function(e,n,o){n===void 0&&(n=0),o===void 0&&(o=this.length),n<=o?this.forEachInner(e,n,o,0):this.forEachInvertedInner(e,n,o,0)};lt.prototype.map=function(e,n,o){n===void 0&&(n=0),o===void 0&&(o=this.length);var r=[];return this.forEach(function(s,a){return r.push(e(s,a))},n,o),r};lt.from=function(e){return e instanceof lt?e:e&&e.length?new tr(e):lt.empty};var tr=function(t){function e(o){t.call(this),this.values=o}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(r,s){return r==0&&s==this.length?this:new e(this.values.slice(r,s))},e.prototype.getInner=function(r){return this.values[r]},e.prototype.forEachInner=function(r,s,a,u){for(var p=s;p<a;p++)if(r(this.values[p],u+p)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,a,u){for(var p=s-1;p>=a;p--)if(r(this.values[p],u+p)===!1)return!1},e.prototype.leafAppend=function(r){if(this.length+r.length<=Ao)return new e(this.values.concat(r.flatten()))},e.prototype.leafPrepend=function(r){if(this.length+r.length<=Ao)return new e(r.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(lt);lt.empty=new tr([]);var Fh=function(t){function e(n,o){t.call(this),this.left=n,this.right=o,this.length=n.length+o.length,this.depth=Math.max(n.depth,o.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(o){return o<this.left.length?this.left.get(o):this.right.get(o-this.left.length)},e.prototype.forEachInner=function(o,r,s,a){var u=this.left.length;if(r<u&&this.left.forEachInner(o,r,Math.min(s,u),a)===!1||s>u&&this.right.forEachInner(o,Math.max(r-u,0),Math.min(this.length,s)-u,a+u)===!1)return!1},e.prototype.forEachInvertedInner=function(o,r,s,a){var u=this.left.length;if(r>u&&this.right.forEachInvertedInner(o,r-u,Math.max(s,u)-u,a+u)===!1||s<u&&this.left.forEachInvertedInner(o,Math.min(r,u),s,a)===!1)return!1},e.prototype.sliceInner=function(o,r){if(o==0&&r==this.length)return this;var s=this.left.length;return r<=s?this.left.slice(o,r):o>=s?this.right.slice(o-s,r-s):this.left.slice(o,s).append(this.right.slice(0,r-s))},e.prototype.leafAppend=function(o){var r=this.right.leafAppend(o);if(r)return new e(this.left,r)},e.prototype.leafPrepend=function(o){var r=this.left.leafPrepend(o);if(r)return new e(r,this.right)},e.prototype.appendInner=function(o){return this.left.depth>=Math.max(this.right.depth,o.depth)+1?new e(this.left,new e(this.right,o)):new e(this,o)},e}(lt);const Uh=500;class Ot{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let o=this.items.length;for(;;o--)if(this.items.get(o-1).selection){--o;break}let r,s;n&&(r=this.remapping(o,this.items.length),s=r.maps.length);let a=e.tr,u,p,c=[],b=[];return this.items.forEach((C,A)=>{if(!C.step){r||(r=this.remapping(o,A+1),s=r.maps.length),s--,b.push(C);return}if(r){b.push(new jt(C.map));let x=C.step.map(r.slice(s)),E;x&&a.maybeStep(x).doc&&(E=a.mapping.maps[a.mapping.maps.length-1],c.push(new jt(E,void 0,void 0,c.length+b.length))),s--,E&&r.appendMap(E,s)}else a.maybeStep(C.step);if(C.selection)return u=r?C.selection.map(r.slice(s)):C.selection,p=new Ot(this.items.slice(0,o).append(b.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:p,transform:a,selection:u}}addTransform(e,n,o,r){let s=[],a=this.eventCount,u=this.items,p=!r&&u.length?u.get(u.length-1):null;for(let b=0;b<e.steps.length;b++){let C=e.steps[b].invert(e.docs[b]),A=new jt(e.mapping.maps[b],C,n),x;(x=p&&p.merge(A))&&(A=x,b?s.pop():u=u.slice(0,u.length-1)),s.push(A),n&&(a++,n=void 0),r||(p=A)}let c=a-o.depth;return c>Wh&&(u=zh(u,c),a-=c),new Ot(u.append(s),a)}remapping(e,n){let o=new Tl;return this.items.forEach((r,s)=>{let a=r.mirrorOffset!=null&&s-r.mirrorOffset>=e?o.maps.length-r.mirrorOffset:void 0;o.appendMap(r.map,a)},e,n),o}addMaps(e){return this.eventCount==0?this:new Ot(this.items.append(e.map(n=>new jt(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let o=[],r=Math.max(0,this.items.length-n),s=e.mapping,a=e.steps.length,u=this.eventCount;this.items.forEach(A=>{A.selection&&u--},r);let p=n;this.items.forEach(A=>{let x=s.getMirror(--p);if(x==null)return;a=Math.min(a,x);let E=s.maps[x];if(A.step){let O=e.steps[x].invert(e.docs[x]),oe=A.selection&&A.selection.map(s.slice(p+1,x));oe&&u++,o.push(new jt(E,O,oe))}else o.push(new jt(E))},r);let c=[];for(let A=n;A<a;A++)c.push(new jt(s.maps[A]));let b=this.items.slice(0,r).append(c).append(o),C=new Ot(b,u);return C.emptyItemCount()>Uh&&(C=C.compress(this.items.length-o.length)),C}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),o=n.maps.length,r=[],s=0;return this.items.forEach((a,u)=>{if(u>=e)r.push(a),a.selection&&s++;else if(a.step){let p=a.step.map(n.slice(o)),c=p&&p.getMap();if(o--,c&&n.appendMap(c,o),p){let b=a.selection&&a.selection.map(n.slice(o));b&&s++;let C=new jt(c.invert(),p,b),A,x=r.length-1;(A=r.length&&r[x].merge(C))?r[x]=A:r.push(C)}}else a.map&&o--},this.items.length,0),new Ot(lt.from(r.reverse()),s)}}Ot.empty=new Ot(lt.empty,0);function zh(t,e){let n;return t.forEach((o,r)=>{if(o.selection&&e--==0)return n=r,!1}),t.slice(n)}class jt{constructor(e,n,o,r){this.map=e,this.step=n,this.selection=o,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new jt(n.getMap().invert(),n,this.selection)}}}class Xt{constructor(e,n,o,r,s){this.done=e,this.undone=n,this.prevRanges=o,this.prevTime=r,this.prevComposition=s}}const Wh=20;function Gh(t,e,n,o){let r=n.getMeta(dn),s;if(r)return r.historyState;n.getMeta(Kh)&&(t=new Xt(t.done,t.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(a&&a.getMeta(dn))return a.getMeta(dn).redo?new Xt(t.done.addTransform(n,void 0,o,yo(e)),t.undone,As(n.mapping.maps),t.prevTime,t.prevComposition):new Xt(t.done,t.undone.addTransform(n,void 0,o,yo(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let u=n.getMeta("composition"),p=t.prevTime==0||!a&&t.prevComposition!=u&&(t.prevTime<(n.time||0)-o.newGroupDelay||!qh(n,t.prevRanges)),c=a?ri(t.prevRanges,n.mapping):As(n.mapping.maps);return new Xt(t.done.addTransform(n,p?e.selection.getBookmark():void 0,o,yo(e)),Ot.empty,c,n.time,u??t.prevComposition)}else return(s=n.getMeta("rebased"))?new Xt(t.done.rebased(n,s),t.undone.rebased(n,s),ri(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Xt(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),ri(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function qh(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((o,r)=>{for(let s=0;s<e.length;s+=2)o<=e[s+1]&&r>=e[s]&&(n=!0)}),n}function As(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((o,r,s,a)=>e.push(s,a));return e}function ri(t,e){if(!t)return null;let n=[];for(let o=0;o<t.length;o+=2){let r=e.map(t[o],1),s=e.map(t[o+1],-1);r<=s&&n.push(r,s)}return n}function Zh(t,e,n){let o=yo(e),r=dn.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,o);if(!s)return null;let a=s.selection.resolve(s.transform.doc),u=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),r,o),p=new Xt(n?u:s.remaining,n?s.remaining:u,null,0,-1);return s.transform.setSelection(a).setMeta(dn,{redo:n,historyState:p})}let ai=!1,Vs=null;function yo(t){let e=t.plugins;if(Vs!=e){ai=!1,Vs=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){ai=!0;break}}return ai}const dn=new Ci("history"),Kh=new Ci("closeHistory");function Yh(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Vo({key:dn,state:{init(){return new Xt(Ot.empty,Ot.empty,null,0,-1)},apply(e,n,o){return Gh(n,o,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let o=n.inputType,r=o=="historyUndo"?or:o=="historyRedo"?ir:null;return r?(n.preventDefault(),r(e.state,e.dispatch)):!1}}}})}function nr(t,e){return(n,o)=>{let r=dn.getState(n);if(!r||(t?r.undone:r.done).eventCount==0)return!1;if(o){let s=Zh(r,n,t);s&&o(e?s.scrollIntoView():s)}return!0}}const or=nr(!1,!0),ir=nr(!0,!0),Jh=Yn.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>or(t,e),redo:()=>({state:t,dispatch:e})=>ir(t,e)}},addProseMirrorPlugins(){return[Yh(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),Xh=$t.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",dt(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!El(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$from:o,$to:r}=n,s=t();return o.parentOffset===0?s.insertContentAt({from:Math.max(o.pos-1,0),to:r.pos},{type:this.name}):Bl(n)?s.insertContentAt(r.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:a,dispatch:u})=>{var p;if(u){const{$to:c}=a.selection,b=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?a.setSelection(An.create(a.doc,c.pos+1)):c.nodeAfter.isBlock?a.setSelection($i.create(a.doc,c.pos)):a.setSelection(An.create(a.doc,c.pos));else{const C=(p=c.parent.type.contentMatch.defaultType)===null||p===void 0?void 0:p.create();C&&(a.insert(b,C),a.setSelection(An.create(a.doc,b+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Bs({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),Qh=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,ef=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,tf=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,nf=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,of=Kn.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",dt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[pn({find:Qh,type:this.type}),pn({find:tf,type:this.type})]},addPasteRules(){return[cn({find:ef,type:this.type}),cn({find:nf,type:this.type})]}}),sf=$t.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",dt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),rf="listItem",Ms="textStyle",Ss=/^(\d+)\.\s$/,af=$t.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",dt(this.options.HTMLAttributes,n),0]:["ol",dt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(rf,this.editor.getAttributes(Ms)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Mn({find:Ss,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Mn({find:Ss,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Ms)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),lf=$t.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",dt(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),df=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,uf=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,cf=Kn.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",dt(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[pn({find:df,type:this.type})]},addPasteRules(){return[cn({find:uf,type:this.type})]}}),pf=$t.create({name:"text",group:"inline"}),Ei=Yn.create({name:"starterKit",addExtensions(){const t=[];return this.options.bold!==!1&&t.push(bh.configure(this.options.bold)),this.options.blockquote!==!1&&t.push(fh.configure(this.options.blockquote)),this.options.bulletList!==!1&&t.push(Ch.configure(this.options.bulletList)),this.options.code!==!1&&t.push(kh.configure(this.options.code)),this.options.codeBlock!==!1&&t.push(Ah.configure(this.options.codeBlock)),this.options.document!==!1&&t.push(Vh.configure(this.options.document)),this.options.dropcursor!==!1&&t.push(Th.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&t.push(Nh.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&t.push(Rh.configure(this.options.hardBreak)),this.options.heading!==!1&&t.push(jh.configure(this.options.heading)),this.options.history!==!1&&t.push(Jh.configure(this.options.history)),this.options.horizontalRule!==!1&&t.push(Xh.configure(this.options.horizontalRule)),this.options.italic!==!1&&t.push(of.configure(this.options.italic)),this.options.listItem!==!1&&t.push(sf.configure(this.options.listItem)),this.options.orderedList!==!1&&t.push(af.configure(this.options.orderedList)),this.options.paragraph!==!1&&t.push(lf.configure(this.options.paragraph)),this.options.strike!==!1&&t.push(cf.configure(this.options.strike)),this.options.text!==!1&&t.push(pf.configure(this.options.text)),t}}),hf=t=>Qe({find:/--$/,replace:t??"—"}),ff=t=>Qe({find:/\.\.\.$/,replace:t??"…"}),gf=t=>Qe({find:/(?:^|[\s{[(<'"\u2018\u201C])(")$/,replace:t??"“"}),mf=t=>Qe({find:/"$/,replace:t??"”"}),vf=t=>Qe({find:/(?:^|[\s{[(<'"\u2018\u201C])(')$/,replace:t??"‘"}),yf=t=>Qe({find:/'$/,replace:t??"’"}),bf=t=>Qe({find:/<-$/,replace:t??"←"}),wf=t=>Qe({find:/->$/,replace:t??"→"}),Cf=t=>Qe({find:/\(c\)$/,replace:t??"©"}),$f=t=>Qe({find:/\(tm\)$/,replace:t??"™"}),Lf=t=>Qe({find:/\(sm\)$/,replace:t??"℠"}),kf=t=>Qe({find:/\(r\)$/,replace:t??"®"}),xf=t=>Qe({find:/(?:^|\s)(1\/2)\s$/,replace:t??"½"}),Hf=t=>Qe({find:/\+\/-$/,replace:t??"±"}),Af=t=>Qe({find:/!=$/,replace:t??"≠"}),Vf=t=>Qe({find:/<<$/,replace:t??"«"}),Mf=t=>Qe({find:/>>$/,replace:t??"»"}),Sf=t=>Qe({find:/\d+\s?([*x])\s?\d+$/,replace:t??"×"}),Tf=t=>Qe({find:/\^2$/,replace:t??"²"}),Ef=t=>Qe({find:/\^3$/,replace:t??"³"}),Bf=t=>Qe({find:/(?:^|\s)(1\/4)\s$/,replace:t??"¼"}),If=t=>Qe({find:/(?:^|\s)(3\/4)\s$/,replace:t??"¾"}),sr=Yn.create({name:"typography",addOptions(){return{closeDoubleQuote:"”",closeSingleQuote:"’",copyright:"©",ellipsis:"…",emDash:"—",laquo:"«",leftArrow:"←",multiplication:"×",notEqual:"≠",oneHalf:"½",oneQuarter:"¼",openDoubleQuote:"“",openSingleQuote:"‘",plusMinus:"±",raquo:"»",registeredTrademark:"®",rightArrow:"→",servicemark:"℠",superscriptThree:"³",superscriptTwo:"²",threeQuarters:"¾",trademark:"™"}},addInputRules(){const t=[];return this.options.emDash!==!1&&t.push(hf(this.options.emDash)),this.options.ellipsis!==!1&&t.push(ff(this.options.ellipsis)),this.options.openDoubleQuote!==!1&&t.push(gf(this.options.openDoubleQuote)),this.options.closeDoubleQuote!==!1&&t.push(mf(this.options.closeDoubleQuote)),this.options.openSingleQuote!==!1&&t.push(vf(this.options.openSingleQuote)),this.options.closeSingleQuote!==!1&&t.push(yf(this.options.closeSingleQuote)),this.options.leftArrow!==!1&&t.push(bf(this.options.leftArrow)),this.options.rightArrow!==!1&&t.push(wf(this.options.rightArrow)),this.options.copyright!==!1&&t.push(Cf(this.options.copyright)),this.options.trademark!==!1&&t.push($f(this.options.trademark)),this.options.servicemark!==!1&&t.push(Lf(this.options.servicemark)),this.options.registeredTrademark!==!1&&t.push(kf(this.options.registeredTrademark)),this.options.oneHalf!==!1&&t.push(xf(this.options.oneHalf)),this.options.plusMinus!==!1&&t.push(Hf(this.options.plusMinus)),this.options.notEqual!==!1&&t.push(Af(this.options.notEqual)),this.options.laquo!==!1&&t.push(Vf(this.options.laquo)),this.options.raquo!==!1&&t.push(Mf(this.options.raquo)),this.options.multiplication!==!1&&t.push(Sf(this.options.multiplication)),this.options.superscriptTwo!==!1&&t.push(Tf(this.options.superscriptTwo)),this.options.superscriptThree!==!1&&t.push(Ef(this.options.superscriptThree)),this.options.oneQuarter!==!1&&t.push(Bf(this.options.oneQuarter)),this.options.threeQuarters!==!1&&t.push(If(this.options.threeQuarters)),t}}),Df=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,rr=$t.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",dt(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[Bs({find:Df,type:this.type,getAttributes:t=>{const[,,e,n,o]=t;return{src:n,alt:e,title:o}}})]}}),_f=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,Pf=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,Of=Kn.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",dt(this.options.HTMLAttributes,t),0]},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[pn({find:_f,type:this.type})]},addPasteRules(){return[cn({find:Pf,type:this.type})]}}),Nf={name:"NewPage",props:{pageuuid:String},components:{EditorContent:Li},data(){return{item:this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Files.get(this.pageuuid))),editor:null,updateUUID:null,mypos:0,hilighter:!1}},methods:{wordcountToggle(){this.item.excludefromwordcount=!this.item.excludefromwordcount,this.changed(),this.$root.calcFullWordCount()},repositionEditor(){if(console.log("repos",this.$root.session.settings.documentprefs.caretfocus),this.editor&&this.item&&this.$root.session.settings.documentprefs.caretfocus&&(this.mypos=this.getCaretPosition(),this.mypos!=0&&this.$refs.scrolltarget)){let t=parseInt(this.mypos)+this.$refs.scrolltarget.scrollTop-window.innerHeight/2;this.$refs.scrolltarget.scrollTo({top:t,behavior:"smooth"})}},getCaretPosition(){var t=0,e,n;if(e=window.getSelection(),e.anchorNode)return n=e.getRangeAt(0),t=n.getBoundingClientRect(),t.y},changed(){this.$root.UpdateRecord("Files",this.item.uuid,this.item)},addImage(){let t=window.prompt("Provide a URL to your image");if(t){if(t.includes("drive.google.com")){let e=t.split("/");t=e[0]+"//"+e[2]+"/uc?export=view&id="+e[5]}this.editor.chain().focus().setImage({src:t}).run()}}},mounted(){this.updateUUID=this.$root.uuid(),this.$watch("item",(t,e)=>{if(!e)return this.editor.commands.setContent(this.item.content),this.item.wordcount=this.$root.wordCounter(this.editor.getHTML()),this.$root.calcFullWordCount(),!1;t.updateUUID!=this.updateUUID&&(this.editor.commands.setContent(t.content),this.item.wordcount=this.$root.wordCounter(this.editor.getHTML()),this.$root.calcFullWordCount())}),this.editor=new ki({extensions:[Ei,sr,rr,Of.configure({multicolor:!0})],content:"",onTransaction:()=>{this.repositionEditor()},onUpdate:()=>{this.item.wordcount=this.$root.wordCounter(this.editor.getHTML()),this.text=this.editor.getHTML(),this.item.content=this.text,this.item.updateUUID=this.updateUUID,this.$emit("update:modelValue",this.editor.getJSON()),this.$root.calcFullWordCount(),this.changed()}})},beforeUnmount(){this.editor&&this.editor.destroy()}},Rf={key:0},jf={class:"PageEditorScroll",ref:"scrolltarget"},Ff={key:0,class:"titleBar"},Uf=["placeholder"],zf=["title"],Wf=["title"],Gf=["title"],qf=["title"],Zf=["title"],Kf=["title"],Yf=["title"],Jf=["title"],Xf=["title"],Qf=["title"],eg=["title"],tg={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},ng=["title"],og={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},ig={key:0,class:"hilighter"},sg=["title"],rg={key:0,style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},ag={key:1,style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},lg={key:2,class:"wordcountdisplay"};function dg(t,e,n,o,r,s){const a=Q("EditorContent");return r.item?(f(),y("div",Rf,[i("div",jf,[r.editor?(f(),Te(a,{key:0,editor:r.editor},null,8,["editor"])):V("",!0)],512),r.item?(f(),y("div",Ff,[ue(i("input",{type:"text",placeholder:this.$root.setlang.writer.newfile,"onUpdate:modelValue":e[0]||(e[0]=u=>r.item.title=u),onChange:e[1]||(e[1]=(...u)=>s.changed&&s.changed(...u))},null,40,Uf),[[Ee,r.item.title]])])):V("",!0),r.editor?(f(),y("div",{key:1,class:"toolbar",style:It([t.$root.$data.session.writer.lhs?"left:40px;":"",t.$root.$data.session.writer.rhs?"right:-40px;":""])},[i("button",{onClick:e[2]||(e[2]=u=>r.editor.chain().focus().toggleBold().run()),class:Fe({"is-active":r.editor.isActive("bold")}),title:this.$root.setlang.editor.bold},[...e[22]||(e[22]=[i("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[i("path",{d:"M13.5,15.5H10V12.5H13.5A1.5,1.5 0 0,1 15,14A1.5,1.5 0 0,1 13.5,15.5M10,6.5H13A1.5,1.5 0 0,1 14.5,8A1.5,1.5 0 0,1 13,9.5H10M15.6,10.79C16.57,10.11 17.25,9 17.25,8C17.25,5.74 15.5,4 13.25,4H7V18H14.04C16.14,18 17.75,16.3 17.75,14.21C17.75,12.69 16.89,11.39 15.6,10.79Z"})],-1)])],10,zf),i("button",{onClick:e[3]||(e[3]=u=>r.editor.chain().focus().toggleItalic().run()),class:Fe({"is-active":r.editor.isActive("italic")}),title:this.$root.setlang.editor.italic},[...e[23]||(e[23]=[i("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[i("path",{d:"M10,4V7H12.21L8.79,15H6V18H14V15H11.79L15.21,7H18V4H10Z"})],-1)])],10,Wf),i("button",{onClick:e[4]||(e[4]=u=>r.editor.chain().focus().toggleStrike().run()),class:Fe({"is-active":r.editor.isActive("strike")}),title:this.$root.setlang.editor.strikethrough},[...e[24]||(e[24]=[i("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24",class:"strikefix"},[i("path",{d:"M23,12V14H18.61C19.61,16.14 19.56,22 12.38,22C4.05,22.05 4.37,15.5 4.37,15.5L8.34,15.55C8.37,18.92 11.5,18.92 12.12,18.88C12.76,18.83 15.15,18.84 15.34,16.5C15.42,15.41 14.32,14.58 13.12,14H1V12H23M19.41,7.89L15.43,7.86C15.43,7.86 15.6,5.09 12.15,5.08C8.7,5.06 9,7.28 9,7.56C9.04,7.84 9.34,9.22 12,9.88H5.71C5.71,9.88 2.22,3.15 10.74,2C19.45,0.8 19.43,7.91 19.41,7.89Z"})],-1)])],10,Gf),i("button",{onClick:e[5]||(e[5]=u=>r.editor.chain().focus().setParagraph().run()),class:Fe({"is-active":r.editor.isActive("paragraph")}),title:this.$root.setlang.editor.paragraph},[...e[25]||(e[25]=[i("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[i("path",{d:"M13,4A4,4 0 0,1 17,8A4,4 0 0,1 13,12H11V18H9V4H13M13,10A2,2 0 0,0 15,8A2,2 0 0,0 13,6H11V10H13Z"})],-1)])],10,qf),i("button",{onClick:e[6]||(e[6]=u=>r.editor.chain().focus().toggleHeading({level:1}).run()),class:Fe({"is-active":r.editor.isActive("heading",{level:1})}),title:this.$root.setlang.editor.h1},[...e[26]||(e[26]=[i("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[i("path",{d:"M3,4H5V10H9V4H11V18H9V12H5V18H3V4M14,18V16H16V6.31L13.5,7.75V5.44L16,4H18V16H20V18H14Z"})],-1)])],10,Zf),i("button",{onClick:e[7]||(e[7]=u=>r.editor.chain().focus().toggleHeading({level:2}).run()),class:Fe({"is-active":r.editor.isActive("heading",{level:2})}),title:this.$root.setlang.editor.h2},[...e[27]||(e[27]=[i("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[i("path",{d:"M3,4H5V10H9V4H11V18H9V12H5V18H3V4M21,18H15A2,2 0 0,1 13,16C13,15.47 13.2,15 13.54,14.64L18.41,9.41C18.78,9.05 19,8.55 19,8A2,2 0 0,0 17,6A2,2 0 0,0 15,8H13A4,4 0 0,1 17,4A4,4 0 0,1 21,8C21,9.1 20.55,10.1 19.83,10.83L15,16H21V18Z"})],-1)])],10,Kf),i("button",{onClick:e[8]||(e[8]=(...u)=>s.addImage&&s.addImage(...u)),title:this.$root.setlang.editor.pic},[...e[28]||(e[28]=[i("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[i("path",{d:"M13 19C13 19.7 13.13 20.37 13.35 21H5C3.9 21 3 20.11 3 19V5C3 3.9 3.9 3 5 3H19C20.11 3 21 3.9 21 5V13.35C20.37 13.13 19.7 13 19 13V5H5V19H13M13.96 12.29L11.21 15.83L9.25 13.47L6.5 17H13.35C13.75 15.88 14.47 14.91 15.4 14.21L13.96 12.29M20 18V15H18V18H15V20H18V23H20V20H23V18H20Z"})],-1)])],8,Yf),i("button",{onClick:e[9]||(e[9]=u=>r.editor.chain().focus().toggleBulletList().run()),class:Fe({"is-active":r.editor.isActive("bulletList")}),title:this.$root.setlang.editor.blist},[...e[29]||(e[29]=[i("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[i("path",{d:"M3,4H7V8H3V4M9,5V7H21V5H9M3,10H7V14H3V10M9,11V13H21V11H9M3,16H7V20H3V16M9,17V19H21V17H9"})],-1)])],10,Jf),i("button",{onClick:e[10]||(e[10]=u=>r.editor.chain().focus().toggleOrderedList().run()),class:Fe({"is-active":r.editor.isActive("orderedList")}),title:this.$root.setlang.editor.nlist},[...e[30]||(e[30]=[i("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[i("path",{d:"M7,13V11H21V13H7M7,19V17H21V19H7M7,7V5H21V7H7M3,8V5H2V4H4V8H3M2,17V16H5V20H2V19H4V18.5H3V17.5H4V17H2M4.25,10A0.75,0.75 0 0,1 5,10.75C5,10.95 4.92,11.14 4.79,11.27L3.12,13H5V14H2V13.08L4,11H2V10H4.25Z"})],-1)])],10,Xf),i("button",{onClick:e[11]||(e[11]=u=>this.$root.session.selectedTool="planningboard"),title:this.$root.setlang.editor.planningboard},[...e[31]||(e[31]=[i("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},[i("path",{d:"M22,9V7H20V5A2,2 0 0,0 18,3H4A2,2 0 0,0 2,5V19A2,2 0 0,0 4,21H18A2,2 0 0,0 20,19V17H22V15H20V13H22V11H20V9H22M18,19H4V5H18V19M6,13H11V17H6V13M12,7H16V10H12V7M6,7H11V12H6V7M12,11H16V17H12V11Z"})],-1)])],8,Qf),i("button",{onClick:e[12]||(e[12]=u=>this.$root.session.selectedTool="distractionfree"),title:this.$root.setlang.editor.typewriter},[(f(),y("svg",tg,[...e[32]||(e[32]=[i("path",{d:"M20 13H16C16 14.1 15.1 15 14 15H10C8.9 15 8 14.1 8 13H4L2 18V20C2 21.1 2.9 22 4 22H20C21.1 22 22 21.1 22 20V18M6 20C5.11 20 4.66 18.92 5.29 18.29C5.92 17.66 7 18.11 7 19C7 19.55 6.55 20 6 20M10 20C9.11 20 8.66 18.92 9.29 18.29C9.92 17.66 11 18.11 11 19C11 19.55 10.55 20 10 20M14 20C13.11 20 12.66 18.92 13.29 18.29C13.92 17.66 15 18.11 15 19C15 19.55 14.55 20 14 20M18 20C17.11 20 16.66 18.92 17.29 18.29C17.92 17.66 19 18.11 19 19C19 19.55 18.55 20 18 20M18 10V3H6V10H3V12H21V10M8 5H16V6H8M8 7H14V8H8"},null,-1)])]))],8,eg),i("button",{onClick:e[13]||(e[13]=u=>r.hilighter=!r.hilighter),title:this.$root.setlang.editor.hilight},[(f(),y("svg",og,[...e[33]||(e[33]=[i("path",{d:"M7 16C7.55 16 8 16.45 8 17C8 18.1 7.1 19 6 19C5.83 19 5.67 19 5.5 18.95C5.81 18.4 6 17.74 6 17C6 16.45 6.45 16 7 16M18.67 3C18.41 3 18.16 3.1 17.96 3.29L9 12.25L11.75 15L20.71 6.04C21.1 5.65 21.1 5 20.71 4.63L19.37 3.29C19.17 3.09 18.92 3 18.67 3M7 14C5.34 14 4 15.34 4 17C4 18.31 2.84 19 2 19C2.92 20.22 4.5 21 6 21C8.21 21 10 19.21 10 17C10 15.34 8.66 14 7 14Z"},null,-1)])]))],8,ng),r.hilighter?(f(),y("div",ig,[i("button",{style:{"background-color":"yellow"},onClick:e[14]||(e[14]=u=>r.editor.chain().focus().toggleHighlight({color:"yellow"}).run())}),i("button",{style:{"background-color":"#ffc078"},onClick:e[15]||(e[15]=u=>r.editor.chain().focus().toggleHighlight({color:"#ffc078"}).run())}),i("button",{style:{"background-color":"#8ce99a"},onClick:e[16]||(e[16]=u=>r.editor.chain().focus().toggleHighlight({color:"#8ce99a"}).run())}),i("button",{style:{"background-color":"#74c0fc"},onClick:e[17]||(e[17]=u=>r.editor.chain().focus().toggleHighlight({color:"#74c0fc"}).run())}),i("button",{style:{"background-color":"#b197fc"},onClick:e[18]||(e[18]=u=>r.editor.chain().focus().toggleHighlight({color:"#b197fc"}).run())}),i("button",{style:{"background-color":"#ffa8a8"},onClick:e[19]||(e[19]=u=>r.editor.chain().focus().toggleHighlight({color:"#ffa8a8"}).run())}),i("button",{style:{"background-color":"#ff0000"},onClick:e[20]||(e[20]=u=>r.editor.chain().focus().toggleHighlight({color:"#ff0000"}).run())})])):V("",!0),i("button",{onClick:e[21]||(e[21]=u=>s.wordcountToggle()),title:this.$root.setlang.editor.wordcount},[r.item.excludefromwordcount?V("",!0):(f(),y("svg",rg,[...e[34]||(e[34]=[i("path",{d:"M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"},null,-1)])])),r.item.excludefromwordcount?(f(),y("svg",ag,[...e[35]||(e[35]=[i("path",{d:"M2,5.27L3.28,4L20,20.72L18.73,22L15.65,18.92C14.5,19.3 13.28,19.5 12,19.5C7,19.5 2.73,16.39 1,12C1.69,10.24 2.79,8.69 4.19,7.46L2,5.27M12,9A3,3 0 0,1 15,12C15,12.35 14.94,12.69 14.83,13L11,9.17C11.31,9.06 11.65,9 12,9M12,4.5C17,4.5 21.27,7.61 23,12C22.18,14.08 20.79,15.88 19,17.19L17.58,15.76C18.94,14.82 20.06,13.54 20.82,12C19.17,8.64 15.76,6.5 12,6.5C10.91,6.5 9.84,6.68 8.84,7L7.3,5.47C8.74,4.85 10.33,4.5 12,4.5M3.18,12C4.83,15.36 8.24,17.5 12,17.5C12.69,17.5 13.37,17.43 14,17.29L11.72,15C10.29,14.85 9.15,13.71 9,12.28L5.6,8.87C4.61,9.72 3.78,10.78 3.18,12Z"},null,-1)])])):V("",!0)],8,sg)],4)):V("",!0),r.item?(f(),y("div",lg,k(r.item.wordcount)+" / "+k(this.$root.fullWordCount),1)):V("",!0)])):V("",!0)}const ug=He(Nf,[["render",dg],["__scopeId","data-v-64faf032"]]),cg={name:"PageBlock",props:{section:String},data(){return{item:this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Files.get(this.section.uuid)))}},methods:{selectnode(t){this.$root.session.writer.file=t}}},pg={class:"section"},hg=["innerHTML"];function fg(t,e,n,o,r,s){return r.item?(f(),y("div",{key:0,class:"hitTarget",onClick:e[0]||(e[0]=a=>s.selectnode(n.section))},[i("h3",null,k(r.item.title),1),i("div",pg,[i("div",{innerHTML:r.item.content},null,8,hg)])])):V("",!0)}const gg=He(cg,[["render",fg],["__scopeId","data-v-fe1b81f0"]]),mg={name:"WriterTool",components:{WriterLeftSide:Ep,WriterRightSide:ph,PageEditor:ug,PageBlock:gg,BarChart:cc},data(){return{exportHTML:null,exportObject:{}}},methods:{async getPage(t){return this.$root.db.Files.get(t)},async exportDoc(t){t||(t=this.$root.session.writer.selected.files),this.exportObject={},(await this.$root.db.Files.where({writerid:this.$root.session.writer.selected.uuid}).toArray()).forEach(n=>{this.exportObject[n.uuid]=n}),this.exportHTML="",this.getfileexport(t),window.Export2Word(this.exportHTML),this.exportHTML="",this.exportObject={}},getfileexport(t){t.forEach(e=>{let n=this.exportObject[e.uuid];e.type==="file"?this.exportHTML=this.exportHTML+"<h1>"+n.title+"</h1>"+n.content:this.exportHTML=this.exportHTML+"<h1>"+e.title+"</h1>",e.children&&e.children.length&&this.getfileexport(e.children)})},updateDatabase(){this.$root.UpdateRecord("Writer",this.$root.session.writer.selected.uuid,JSON.parse(JSON.stringify(this.$root.session.writer.selected)))}},mounted(){this.$root.calcFullWordCount()}},vg={key:0},yg={key:0,class:"wavemaker_info_box"},bg={style:{width:"100%"}},wg=["placeholder"],Cg=["placeholder"],$g={key:1},Lg={key:0},kg={class:"titleBar"},xg=["placeholder"],Hg={class:"wavemaker_info_box"};function Ag(t,e,n,o,r,s){const a=Q("BarChart"),u=Q("PageEditor"),p=Q("PageBlock"),c=Q("WriterRightSide"),b=Q("WriterLeftSide");return f(),y(ae,null,[i("div",{class:Fe(["writer",[t.$root.lhspin?"lhspin":"",t.$root.rhspin?"rhspin":""]])},[t.$root.session.writer.file?V("",!0):(f(),y("div",vg,[this.$root.session.writer.selected?(f(),y("div",yg,[e[13]||(e[13]=qn('<div style="text-align:center;" data-v-dcd56e8a><svg id="wavemaker_logo" version="1.1" viewBox="0 0 24 24" height="50" width="50" data-v-dcd56e8a><path d="M0 0h24v24H0V0z" fill="none" data-v-dcd56e8a></path><g transform="matrix(0.046875,0,0,0.04604639,-1.951887,-3.0598516)" data-v-dcd56e8a><g id="_921457168" data-v-dcd56e8a><path class="wavemaker_logo-top" d="M 464.632,212.901 337.566,83.292 c -22.014,-22.454 -57.758,-22.454 -79.771,0 l -126.63,129.386 c -7.411,7.559 -7.411,19.563 0,27.122 l 38.359,39.127 25.5,24.232 c 7.628,7.114 19.18,7.114 26.808,0 l 51.219,-48.242 c 14.167,-13.338 35.744,-13.338 49.693,0 l 51.219,48.242 c 7.629,7.114 19.18,7.114 26.809,0 l 25.501,-24.232 38.359,-38.904 c 7.193,-7.337 7.193,-19.563 0,-27.122 z" data-v-dcd56e8a></path><path class="wavemaker_logo-bottom" d="m 58.804,367.853 198.991,202.973 c 22.013,22.452 57.757,22.452 79.771,0 L 536.557,367.853 c 34.437,-35.125 10.244,-45.574 -15.039,-70.029 L 490.35,267.59 c -7.409,-7.336 -19.18,-7.113 -26.808,0 l -51.218,48.242 c -14.169,13.339 -35.744,13.339 -49.694,0 L 311.411,267.59 c -7.575,-7.113 -19.233,-7.113 -26.809,0 l -51.219,48.242 c -14.167,13.339 -35.744,13.339 -49.693,0 L 132.471,267.59 c -7.576,-7.113 -19.233,-7.113 -26.809,0 l -28.77,27.123 c -26.37,24.899 -54.05,36.236 -18.088,73.14 z" data-v-dcd56e8a></path></g></g></svg></div>',1)),i("table",bg,[i("tbody",null,[i("tr",null,[i("td",null,[i("label",null,k(this.$root.setlang.tools.name),1),ue(i("input",{type:"text",class:"formInput mantitle","onUpdate:modelValue":e[0]||(e[0]=C=>this.$root.session.writer.selected.title=C),onChange:e[1]||(e[1]=(...C)=>s.updateDatabase&&s.updateDatabase(...C)),placeholder:this.$root.setlang.tools.name},null,40,wg),[[Ee,this.$root.session.writer.selected.title]]),e[10]||(e[10]=i("hr",null,null,-1)),i("label",null,k(this.$root.setlang.tools.description),1),ue(i("input",{type:"text",class:"formInput mandesc","onUpdate:modelValue":e[2]||(e[2]=C=>this.$root.session.writer.selected.description=C),onChange:e[3]||(e[3]=(...C)=>s.updateDatabase&&s.updateDatabase(...C)),placeholder:this.$root.setlang.tools.description},null,40,Cg),[[Ee,this.$root.session.writer.selected.description]]),e[11]||(e[11]=i("hr",null,null,-1)),ye(" "+k(this.$root.fullWordCount)+" "+k(this.$root.setlang.writer.words),1)])])])]),e[14]||(e[14]=i("div",null,null,-1)),i("p",null,k(this.$root.setlang.writer.intro),1),i("button",{onClick:e[4]||(e[4]=C=>s.exportDoc(this.$root.session.writer.selected.files)),class:"interfaceBtn"},[e[12]||(e[12]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M15.2,20H13.8L12,13.2L10.2,20H8.8L6.6,11H8.1L9.5,17.8L11.3,11H12.6L14.4,17.8L15.8,11H17.3L15.2,20M13,9V3.5L18.5,9H13Z"})],-1)),ye(" "+k(this.$root.setlang.writer.docdownload),1)]),_e(a)])):V("",!0)])),t.$root.session.writer.file?(f(),y("div",$g,[t.$root.session.writer.file.type==="file"?(f(),y("div",Lg,[_e(Zn,{name:"fade"},{default:bt(()=>[(f(),y("div",{class:"pageHolder",key:t.$root.session.writer.file.uuid},[_e(u,{pageuuid:t.$root.session.writer.file.uuid,onBlur:e[5]||(e[5]=C=>t.$root.calcFullWordCount())},null,8,["pageuuid"])]))]),_:1})])):V("",!0),t.$root.session.writer.file.type==="folder"?(f(),y("div",{key:1,onChange:e[9]||(e[9]=(...C)=>s.updateDatabase&&s.updateDatabase(...C))},[i("div",kg,[ue(i("input",{type:"text",placeholder:this.$root.setlang.writer.newfile,"onUpdate:modelValue":e[6]||(e[6]=C=>t.$root.session.writer.file.title=C),onChange:e[7]||(e[7]=(...C)=>s.updateDatabase&&s.updateDatabase(...C))},null,40,xg),[[Ee,t.$root.session.writer.file.title]])]),i("div",Hg,[i("button",{onClick:e[8]||(e[8]=C=>s.exportDoc(t.$root.session.writer.file.children)),class:"interfaceBtn"},[...e[15]||(e[15]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M15.2,20H13.8L12,13.2L10.2,20H8.8L6.6,11H8.1L9.5,17.8L11.3,11H12.6L14.4,17.8L15.8,11H17.3L15.2,20M13,9V3.5L18.5,9H13Z"})],-1),ye(" Export this folder to word",-1)])]),(f(!0),y(ae,null,Ne(t.$root.session.writer.file.children,C=>(f(),y("div",null,[_e(p,{section:C},null,8,["section"])]))),256))])],32)):V("",!0)])):V("",!0)],2),this.$root.session.writer.file?(f(),Te(c,{key:this.$root.session.writer.file.uuid})):V("",!0),_e(b)],64)}const Vg=He(mg,[["render",Ag],["__scopeId","data-v-dcd56e8a"]]),Mg={name:"WriterHome",components:{Writer:Vg},data(){return{toollist:this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Writer.toArray()))}},methods:{async addItem(){let t={};t.title="",t.description="",t.files=[],t.uuid=this.$root.uuid(),await this.$root.AddRecord("Writer",t),this.setLiveQuery(t)},setLiveQuery(t){this.$root.session.writer.selected=this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Writer.get(t.uuid)))},deleteItem(t){this.$swal({title:this.$root.setlang.confirmmodal.confirmdelete,text:this.$root.setlang.confirmmodal.noundo,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.confirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(e=>{e.isConfirmed&&(this.recursiveDelete(t.files),this.$root.DeleteRecord("Writer",t.uuid),this.$swal(this.$root.setlang.confirmmodal.success,this.$root.setlang.confirmmodal.successfeedback,"success"))})},recursiveDelete(t){t.forEach(e=>{e.children&&this.recursiveDelete(e.children),this.$root.DeleteRecord("Files",e.uuid)})}},created(){this.$root.session.writer||(this.$root.session.writer={})}},Sg={key:0,id:"ToolHome"},Tg={class:"wavemaker_info_box"},Eg={style:{width:"100%"}},Bg={style:{width:"50px"}},Ig={style:{width:"100%"}},Dg={class:"title"},_g={class:"author"},Pg={style:{width:"50px"}},Og=["onClick"],Ng={style:{width:"50px"}},Rg=["onClick"],jg={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function Fg(t,e,n,o,r,s){const a=Q("Writer");return f(),y(ae,null,[t.$root.session.writer.selected?V("",!0):(f(),y("div",Sg,[i("div",Tg,[i("table",Eg,[i("tbody",null,[i("tr",null,[i("td",null,[i("h1",null,k(this.$root.setlang.tools.writer),1)]),i("td",Bg,[i("button",{onClick:e[0]||(e[0]=(...u)=>s.addItem&&s.addItem(...u)),class:"interfaceBtn"},[...e[1]||(e[1]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M13 19C13 20.1 13.3 21.12 13.81 22H6C4.89 22 4 21.11 4 20V4C4 2.9 4.89 2 6 2H7V9L9.5 7.5L12 9V2H18C19.1 2 20 2.89 20 4V13.09C19.67 13.04 19.34 13 19 13C15.69 13 13 15.69 13 19M20 18V15H18V18H15V20H18V23H20V20H23V18H20Z"})],-1)])])])])])]),e[5]||(e[5]=i("hr",null,null,-1)),i("table",Ig,[i("tbody",null,[(f(!0),y(ae,null,Ne(r.toollist,(u,p)=>(f(),y("tr",{key:p,class:"listRow"},[i("td",null,[i("div",Dg,k(u.title),1),i("div",_g,k(u.description),1),i("i",null,[e[2]||(e[2]=i("br",null,null,-1)),ye(" "+k(t.$root.niceDate(u.lastupdated)),1)])]),i("td",Pg,[i("button",{onClick:c=>s.setLiveQuery(u),class:"interfaceBtn"},[...e[3]||(e[3]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M19.39 10.74L11 19.13V22H6C4.89 22 4 21.11 4 20V4C4 2.9 4.89 2 6 2H7V9L9.5 7.5L12 9V2H18C19.1 2 20 2.89 20 4V10.3C19.78 10.42 19.57 10.56 19.39 10.74M13 19.96V22H15.04L21.17 15.88L19.13 13.83L13 19.96M22.85 13.47L21.53 12.15C21.33 11.95 21 11.95 20.81 12.15L19.83 13.13L21.87 15.17L22.85 14.19C23.05 14 23.05 13.67 22.85 13.47Z"})],-1)])],8,Og)]),i("td",Ng,[i("button",{onClick:c=>s.deleteItem(u),class:"interfaceBtn deleteBtn"},[(f(),y("svg",jg,[...e[4]||(e[4]=[i("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"},null,-1)])]))],8,Rg)])]))),128))])])])])),t.$root.session.writer.selected?(f(),Te(a,{key:1})):V("",!0)],64)}const Ug=He(Mg,[["render",Fg],["__scopeId","data-v-1b37c207"]]),zg=["data-index"],Wg=Ts({__name:"masonry-wall",props:{columnWidth:{default:400},items:{},gap:{default:0},rtl:{type:Boolean,default:!1},ssrColumns:{default:0},scrollContainer:{default:null},minColumns:{},maxColumns:{},keyMapper:{type:Function,default:(t,e,n,o)=>o}},emits:["redraw","redrawSkip"],setup(t,{emit:e}){const n=t,{columnWidth:o,items:r,gap:s,rtl:a,ssrColumns:u,scrollContainer:p,minColumns:c,maxColumns:b,keyMapper:C}=Il(n),A=yt([]),x=yt();function E(N,M,$,g){const S=O($);return g+M+S<=N?E(N,M,$+1,g+M+S):$}function O(N){const M=Array.isArray(o.value)?o.value:[o.value];return M[N%M.length]}function oe(){const N=E(x.value.getBoundingClientRect().width,s.value,0,-s.value),M=ie(B(N));return M>0?M:1}function B(N){const M=b==null?void 0:b.value;return M&&N>M?M:N}function ie(N){const M=c==null?void 0:c.value;return M&&N<M?M:N}function le(N){return[...new Array(N)].map(()=>[])}if(u.value>0){const N=le(u.value);r.value.forEach((M,$)=>N[$%u.value].push($)),A.value=N}async function pe(N){if(N>=r.value.length)return;await co();const M=[...x.value.children];a.value&&M.reverse();const $=M.reduce((g,S)=>S.getBoundingClientRect().height<g.getBoundingClientRect().height?S:g);A.value[+$.dataset.index].push(N),await pe(N+1)}async function ee(N=!1){if(A.value.length===oe()&&!N){e("redrawSkip");return}A.value=le(oe());const M=p==null?void 0:p.value,$=M?M.scrollTop:window.scrollY;await pe(0),M?M.scrollBy({top:$-M.scrollTop}):window.scrollTo({top:$}),e("redraw")}const me=typeof ResizeObserver>"u"?void 0:new ResizeObserver(()=>ee());return wi(()=>{ee(),me==null||me.observe(x.value)}),Dl(()=>me==null?void 0:me.unobserve(x.value)),ls([r,a],()=>ee(!0)),ls([o,s,c,b],()=>ee()),(N,M)=>(f(),y("div",{ref_key:"wall",ref:x,class:"masonry-wall",style:It({display:"flex",gap:`${ot(s)}px`})},[(f(!0),y(ae,null,Ne(A.value,($,g)=>(f(),y("div",{key:g,class:"masonry-column","data-index":g,style:It({display:"flex","flex-basis":`${O(g)}px`,"flex-direction":"column","flex-grow":1,gap:`${ot(s)}px`,height:["-webkit-max-content","-moz-max-content","max-content"],"min-width":0})},[(f(!0),y(ae,null,Ne($,(S,v)=>(f(),y("div",{key:ot(C)(ot(r)[S],g,v,S),class:"masonry-item"},[bo(N.$slots,"default",{item:ot(r)[S],column:g,row:v,index:S},()=>[ye(k(ot(r)[S]),1)])]))),128))],12,zg))),128))],4))}}),ar=(()=>{const t=Wg;return t.install=e=>{e.component("MasonryWall",t)},t})(),Gg={name:"CardsDatabaseHome",data(){return{SearchTerm:null,currentTag:null,cardList:fn(hn(async()=>await Rt.Cards.toArray()))}},components:{CardViewer:To,MasonryWall:ar},computed:{CardsArray(){if(this.$root.session.EditCard)return[];{let t=[];return this.cardList&&this.cardList.forEach(e=>{let n=!1;this.SearchTerm?(e.title.toLowerCase().includes(this.SearchTerm.toLowerCase())||e.description.toLowerCase().includes(this.SearchTerm.toLowerCase()))&&(n=!0):n=!0;let o=!1;this.currentTag?e.labels.includes(this.currentTag)&&(o=!0):o=!0,n&&o&&t.push(e)}),t}},taglist(){let t=[];return this.CardsArray.forEach(e=>{e.labels.forEach(n=>{t.includes(n)||t.push(n)})}),t}},methods:{deleteCard(t){this.$swal({title:this.$root.setlang.confirmmodal.confirmdelete,text:this.$root.setlang.confirmmodal.noundo,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.confirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(e=>{e.isConfirmed&&(this.$root.DeleteRecord("Cards",t),this.$swal(this.$root.setlang.confirmmodal.success,this.$root.setlang.confirmmodal.successfeedback,"success"))})}},mounted(){}},qg={class:"toolbar"},Zg={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Kg=["placeholder"],Yg={id:"scrollWindow"},Jg={style:{padding:"15px","padding-right":"135px"}},Xg={class:"cardFrame"},Qg=["onClick"],em={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},tm={class:"taglist"},nm=["onClick"];function om(t,e,n,o,r,s){const a=Q("CardViewer"),u=Q("masonry-wall");return f(),y(ae,null,[i("div",qg,[(f(),y("svg",Zg,[...e[3]||(e[3]=[i("path",{d:"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"},null,-1)])])),ue(i("input",{"onUpdate:modelValue":e[0]||(e[0]=p=>r.SearchTerm=p),placeholder:this.$root.setlang.db.search},null,8,Kg),[[Ee,r.SearchTerm]]),i("button",{onClick:e[1]||(e[1]=p=>this.$root.makeNewCard()),class:"interfaceBtn"},[...e[4]||(e[4]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M13.09 20H4C2.9 20 2 19.11 2 18V6C2 4.89 2.9 4 4 4H20C21.11 4 22 4.89 22 6V13.81C21.12 13.3 20.09 13 19 13C15.69 13 13 15.69 13 19C13 19.34 13.04 19.67 13.09 20M18 15V18H15V20H18V23H20V20H23V18H20V15H18Z"})],-1)])])]),i("div",Yg,[i("div",Jg,[_e(u,{items:s.CardsArray,"ssr-columns":1,"column-width":300,gap:16},{default:bt(({item:p})=>[i("div",Xg,[(f(),Te(a,{cardid:p.uuid,key:p.lastupdated},null,8,["cardid"])),i("button",{class:"deleteIconButton",onClick:c=>s.deleteCard(p.uuid)},[(f(),y("svg",em,[...e[5]||(e[5]=[i("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1)])]))],8,Qg)])]),_:1},8,["items"])]),i("div",tm,[i("div",null,[i("button",{onClick:e[2]||(e[2]=p=>r.currentTag=t.tag),style:{"background-color":"var(--primary)",color:"var(--primary-f)"}}," [ "+k(this.$root.setlang.db.clear)+" ] ",1),(f(!0),y(ae,null,Ne(s.taglist.sort(),(p,c)=>(f(),y("button",{onClick:b=>r.currentTag=p,key:c},k(p),9,nm))),128))])])])],64)}const im=He(Gg,[["render",om],["__scopeId","data-v-d0d803cb"]]),sm={name:"PlanningBoardCols",components:{VueDraggableNext:Tn,CardViewer:To},props:{fileId:{type:String,required:!0},FileNode:{type:Object}},computed:{dragOptions(){return{animation:200,group:"Cards",disabled:!1,ghostClass:"ghost"}}},data(){return{drag:!1,MyFile:this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Files.get(this.fileId)))}},methods:{selectCol(){this.$root.session.writer.file=this.FileNode,console.log("Col Selected",this.$root.session.writer.file)},linkCard(t,e){var n=this.MyFile.notes.find(o=>o.uuid===e);n.uuid=t,this.updateDatabase()},deleteNote(t){this.$swal({title:this.$root.setlang.confirmmodal.confirmdelete,text:this.$root.setlang.confirmmodal.noundo,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.confirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(e=>{e.isConfirmed&&(this.MyFile.notes.splice(t,1),this.updateDatabase(),this.$swal(this.$root.setlang.confirmmodal.success,this.$root.setlang.confirmmodal.successfeedback,"success"))})},addCard(){let t={};t.uuid=this.$root.uuid(),this.MyFile.notes.push(t),this.updateDatabase()},updateDatabase(){this.$root.UpdateRecord("Files",this.MyFile.uuid,this.MyFile)}}},rm={key:0,style:{width:"320px"},width:"320px"},am=["placeholder"],lm={class:"hscroll"},dm=["onClick"],um={style:{width:"16px",height:"16px"},viewBox:"0 0 24 24"},cm={class:"clearInterfaceIconButton cardHandle"},pm={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},hm=["onClick"],fm={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},gm={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function mm(t,e,n,o,r,s){const a=Q("CardViewer"),u=Q("VueDraggableNext"),p=Q("PlanningBoardCards",!0);return f(),y(ae,null,[n.FileNode.type==="file"?(f(),y("td",rm,[r.MyFile?(f(),y(ae,{key:0},[i("div",{class:"titleBar",onClick:e[2]||(e[2]=(...c)=>s.selectCol&&s.selectCol(...c))},[ue(i("input",{type:"text",class:"titleBarInput","onUpdate:modelValue":e[0]||(e[0]=c=>r.MyFile.title=c),placeholder:this.$root.setlang.writer.newfile,onChange:e[1]||(e[1]=(...c)=>s.updateDatabase&&s.updateDatabase(...c))},null,40,am),[[Ee,r.MyFile.title]])]),i("div",lm,[_e(u,un({list:r.MyFile.notes,tag:"transition-group",group:"board",class:"list-group-card","component-data":{tag:"div",type:"transition-group",name:r.drag?null:"flip-list"},handle:".cardHandle"},s.dragOptions,{onStart:e[3]||(e[3]=c=>r.drag=!0),onEnd:e[4]||(e[4]=c=>r.drag=!1),emptyInsertThreshold:90,onChange:s.updateDatabase}),{default:bt(()=>[(f(!0),y(ae,null,Ne(this.MyFile.notes,(c,b)=>(f(),y("div",{key:b,class:"list-group-card-item",tabindex:"0"},[i("div",{class:Fe(c.completed?"completedcard":"")},[(f(),Te(a,{cardid:c.uuid,allowlink:!0,onLinkcard:s.linkCard,key:t.$root.uuid()},null,8,["cardid","onLinkcard"])),i("button",{class:"togglecomplete",onClick:C=>{c.completed=!c.completed,s.updateDatabase()}},[(f(),y("svg",um,[...e[6]||(e[6]=[i("path",{d:"M19,19H5V5H15V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V11H19M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"},null,-1)])]))],8,dm)],2),i("div",cm,[(f(),y("svg",pm,[...e[7]||(e[7]=[i("path",{d:"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"},null,-1)])]))]),i("button",{class:"deleteIconButton",onClick:C=>s.deleteNote(b,c),tabindex:"0"},[(f(),y("svg",fm,[...e[8]||(e[8]=[i("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1)])]))],8,hm)]))),128))]),_:1},16,["list","component-data","onChange"]),i("button",{class:"add-card",onClick:e[5]||(e[5]=c=>s.addCard())},[(f(),y("svg",gm,[...e[9]||(e[9]=[i("path",{d:"M13.09 20H4C2.9 20 2 19.11 2 18V6C2 4.89 2.9 4 4 4H20C21.11 4 22 4.89 22 6V13.81C21.12 13.3 20.09 13 19 13C15.69 13 13 15.69 13 19C13 19.34 13.04 19.67 13.09 20M18 15V18H15V20H18V23H20V20H23V18H20V15H18Z"},null,-1)])]))])])],64)):V("",!0)])):V("",!0),n.FileNode.type==="folder"?(f(!0),y(ae,{key:1},Ne(n.FileNode.children,(c,b)=>(f(),Te(p,{fileId:c.uuid,key:b,FileNode:c},null,8,["fileId","FileNode"]))),128)):V("",!0)],64)}const vm=He(sm,[["render",mm],["__scopeId","data-v-42bc3d37"]]),ym={name:"PlanningBoard",components:{PlanningBoardCards:vm},data(){return{WriterLQ:this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Writer.get(this.$root.session.writer.selected.uuid))),ColumnArray:[],TempArray:[]}},methods:{deleteFile(t,e){this.$swal({title:"Are you sure?",text:"You won't be able to undo this!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(n=>{n.isConfirmed&&(this.$root.$data.session.writer.file===e&&(this.$root.$data.session.writer.file=null),this.WriterLQ.files.splice(t,1),this.updateDatabase(),this.$swal("Deleted!","Your file has been deleted.","success"))})},addFile(){console.log("Add needed");let t=JSON.parse(JSON.stringify({type:"file"}));t.uuid=this.$root.uuid();let e={};e.title=this.$root.setlang.writer.newfile,e.writerid=this.$root.session.writer.selected.uuid,e.uuid=t.uuid,e.content="",e.notes=[],this.$root.AddRecord("Files",e),this.WriterLQ.files.push(t),this.updateDatabase()},updateDatabase(){console.log("list changed"),this.$root.UpdateRecord("Writer",this.WriterLQ.uuid,this.WriterLQ)}}},bm={key:0,class:"planningBoardHolder"},wm={class:"boardTable",cellspacing:"0",cellpadding:"0"},Cm={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function $m(t,e,n,o,r,s){const a=Q("PlanningBoardCards");return f(),y(ae,null,[r.WriterLQ?(f(),y("div",bm,[i("div",{id:"toolbox",onClick:e[3]||(e[3]=u=>this.$root.session.writer.file=this.WriterLQ)},[ue(i("input",{"onUpdate:modelValue":e[0]||(e[0]=u=>this.WriterLQ.title=u),class:"titleinput",onChange:e[1]||(e[1]=(...u)=>s.updateDatabase&&s.updateDatabase(...u))},null,544),[[Ee,this.WriterLQ.title]]),i("button",{onClick:e[2]||(e[2]=u=>this.$root.session.selectedTool="writer"),class:"toolbutton"},[...e[5]||(e[5]=[i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M19 2L14 6.5V17.5L19 13V2M6.5 5C4.55 5 2.45 5.4 1 6.5V21.16C1 21.41 1.25 21.66 1.5 21.66C1.6 21.66 1.65 21.59 1.75 21.59C3.1 20.94 5.05 20.5 6.5 20.5C8.45 20.5 10.55 20.9 12 22C13.35 21.15 15.8 20.5 17.5 20.5C19.15 20.5 20.85 20.81 22.25 21.56C22.35 21.61 22.4 21.59 22.5 21.59C22.75 21.59 23 21.34 23 21.09V6.5C22.4 6.05 21.75 5.75 21 5.5V19C19.9 18.65 18.7 18.5 17.5 18.5C15.8 18.5 13.35 19.15 12 20V6.5C10.55 5.4 8.45 5 6.5 5Z"})],-1)])])]),i("table",wm,[i("tbody",null,[i("tr",null,[(f(!0),y(ae,null,Ne(r.WriterLQ.files,(u,p)=>(f(),Te(a,{key:p,fileId:u.uuid,FileNode:u},null,8,["fileId","FileNode"]))),128))])])])])):V("",!0),i("button",{class:"add-col-btn",onClick:e[4]||(e[4]=(...u)=>s.addFile&&s.addFile(...u))},[(f(),y("svg",Cm,[...e[6]||(e[6]=[i("path",{d:"M11,2A2,2 0 0,1 13,4V20A2,2 0 0,1 11,22H2V2H11M4,10V14H11V10H4M4,16V20H11V16H4M4,4V8H11V4H4M15,11H18V8H20V11H23V13H20V16H18V13H15V11Z"},null,-1)])]))])],64)}const Lm=He(ym,[["render",$m],["__scopeId","data-v-84e8806b"]]),km={name:"PlanningBoardHome",components:{PlanningBoard:Lm},data(){return{toollist:this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Writer.toArray()))}},methods:{addItem(){let t={};t.title="",t.description="",t.files=[],t.uuid=this.$root.uuid(),this.$root.AddRecord("Writer",t),this.$root.session.writer.selected=t},setLiveQuery(t){this.$root.session.writer.selected=this.$root.useObservable(this.$root.liveQuery(()=>this.$root.db.Writer.get(t.uuid)))}},created(){this.$root.session.writer||(this.$root.session.writer={})}},xm={key:0,id:"ToolHome"},Hm={class:"wavemaker_info_box"},Am={style:{width:"100%"}},Vm={style:{width:"50px"}},Mm={style:{width:"100%"}},Sm={class:"title"},Tm={class:"author"},Em={style:{width:"50px"}},Bm=["onClick"];function Im(t,e,n,o,r,s){const a=Q("PlanningBoard");return f(),y(ae,null,[t.$root.session.writer.selected?V("",!0):(f(),y("div",xm,[i("div",Hm,[i("table",Am,[i("tbody",null,[i("tr",null,[i("td",null,[i("h1",null,k(this.$root.setlang.tools.planningboard),1)]),i("td",Vm,[i("button",{onClick:e[0]||(e[0]=(...u)=>s.addItem&&s.addItem(...u)),class:"interfaceBtn"},[...e[1]||(e[1]=[i("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[i("path",{d:"M22,9V7H20V5A2,2 0 0,0 18,3H4A2,2 0 0,0 2,5V19A2,2 0 0,0 4,21H18A2,2 0 0,0 20,19V17H22V15H20V13H22V11H20V9H22M18,19H4V5H18V19M6,13H11V17H6V13M12,7H16V10H12V7M6,7H11V12H6V7M12,11H16V17H12V11Z"})],-1)])])])])])]),e[4]||(e[4]=i("hr",null,null,-1)),i("table",Mm,[i("tbody",null,[(f(!0),y(ae,null,Ne(r.toollist,(u,p)=>(f(),y("tr",{key:p},[i("td",null,[i("div",Sm,k(u.title),1),i("div",Tm,k(u.description),1),i("i",null,[e[2]||(e[2]=i("br",null,null,-1)),ye(" "+k(t.$root.niceDate(u.lastupdated)),1)])]),i("td",Em,[i("button",{onClick:c=>s.setLiveQuery(u),class:"interfaceBtn"},[...e[3]||(e[3]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M19.39 10.74L11 19.13V22H6C4.89 22 4 21.11 4 20V4C4 2.9 4.89 2 6 2H7V9L9.5 7.5L12 9V2H18C19.1 2 20 2.89 20 4V10.3C19.78 10.42 19.57 10.56 19.39 10.74M13 19.96V22H15.04L21.17 15.88L19.13 13.83L13 19.96M22.85 13.47L21.53 12.15C21.33 11.95 21 11.95 20.81 12.15L19.83 13.13L21.87 15.17L22.85 14.19C23.05 14 23.05 13.67 22.85 13.47Z"})],-1)])],8,Bm)])]))),128))])])])])),t.$root.session.writer.selected?(f(),Te(a,{key:t.$root.session.writer.selected.lastupdated})):V("",!0)],64)}const Dm=He(km,[["render",Im],["__scopeId","data-v-8ddaef24"]]),_m=$t.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",dt(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}}),Pm=/^\s*(\[([( |x])?\])\s$/,Om=$t.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",dt(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:o})=>{const r=document.createElement("li"),s=document.createElement("label"),a=document.createElement("span"),u=document.createElement("input"),p=document.createElement("div"),c=()=>{var b,C;u.ariaLabel=((C=(b=this.options.a11y)===null||b===void 0?void 0:b.checkboxLabel)===null||C===void 0?void 0:C.call(b,t,u.checked))||`Task item checkbox for ${t.textContent||"empty task item"}`};return c(),s.contentEditable="false",u.type="checkbox",u.addEventListener("mousedown",b=>b.preventDefault()),u.addEventListener("change",b=>{if(!o.isEditable&&!this.options.onReadOnlyChecked){u.checked=!u.checked;return}const{checked:C}=b.target;o.isEditable&&typeof n=="function"&&o.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:A})=>{const x=n();if(typeof x!="number")return!1;const E=A.doc.nodeAt(x);return A.setNodeMarkup(x,void 0,{...E==null?void 0:E.attrs,checked:C}),!0}).run(),!o.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,C)||(u.checked=!u.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([b,C])=>{r.setAttribute(b,C)}),r.dataset.checked=t.attrs.checked,u.checked=t.attrs.checked,s.append(u,a),r.append(s,p),Object.entries(e).forEach(([b,C])=>{r.setAttribute(b,C)}),{dom:r,contentDOM:p,update:b=>b.type!==this.type?!1:(r.dataset.checked=b.attrs.checked,u.checked=b.attrs.checked,c(),!0)}}},addInputRules(){return[Mn({find:Pm,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),Nm=Om.extend({content:"inline*"}),Rm={name:"DescriptionEditor",components:{EditorContent:Li},props:{modelValue:{type:String,default:""}},data(){return{editor:null}},methods:{doupdate(){this.$emit("updated")}},watch:{modelValue(t){this.editor.getHTML()!==t&&this.editor.commands.setContent(t,!1)}},mounted(){this.editor=new ki({extensions:[Ei,_m,Nm],content:this.modelValue,onUpdate:()=>{this.$emit("update:modelValue",this.editor.getHTML())}})},beforeUnmount(){this.editor.destroy()}};function jm(t,e,n,o,r,s){const a=Q("EditorContent");return f(),Te(a,{editor:r.editor,class:"descriptionEditor",onFocusout:e[0]||(e[0]=u=>s.doupdate())},null,8,["editor"])}const Bi=He(Rm,[["render",jm]]),Fm={name:"SnowFlakeTool",components:{MiniEditor:Bi},data(){return{}},methods:{exportToManuscript(){this.$swal({title:this.$root.setlang.confirmmodal.confirmexport,text:this.$root.setlang.confirmmodal.exportmsg,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.exportconfirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(t=>{if(t.isConfirmed){let e={};e.uuid=this.$root.uuid(),e.title=this.$root.session.snowflake.selected.title,e.descripton=this.$root.session.snowflake.selected.description,e.files=[],this.$root.session.snowflake.selected.content.forEach(n=>{console.log("SNOW >>>",n);let o=this.$root.uuid(),r={};r.writerid=e.uuid,r.title=n.title,r.content=n.content,r.notes=[],r.uuid=o,r.wordcount=this.$root.wordCounter(n.content),this.$root.AddRecord("Files",r);let s={};s.uuid=o,s.open=!1,s.type="file",s.children=[],e.files.push(s)}),this.$root.AddRecord("Writer",e),this.$swal(this.$root.setlang.confirmmodal.exportsuccess,this.$root.setlang.confirmmodal.exportsuccessfeedback,"success")}})},openflake(t){if(!t.children.length){let e={};e.level=t.level+1,e.content="",e.open=!1,e.children=[],e.title="",t.children.push({...e}),t.children.push({...e}),t.children.push({...e})}t.open=!t.open,this.updateDatabase()},deleteFlake(t){this.$swal({title:this.$root.setlang.confirmmodal.confirmdelete,text:this.$root.setlang.confirmmodal.noundo,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.confirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(e=>{e.isConfirmed&&(this.$root.session.snowflake.selected.content.splice(t,1),this.startFlake(),this.updateDatabase(),this.$swal(this.$root.setlang.confirmmodal.success,this.$root.setlang.confirmmodal.successfeedback,"success"))})},replace(t,e){this.$swal({title:this.$root.setlang.confirmmodal.snowconfirm,text:this.$root.setlang.confirmmodal.snowconfirmtext,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.snowconfirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(n=>{if(n.isConfirmed){let o={...t.children[0]},r={...t.children[1]},s={...t.children[2]};this.$root.session.snowflake.selected.content.splice(e+1,0,s),this.$root.session.snowflake.selected.content.splice(e+1,0,r),this.$root.session.snowflake.selected.content.splice(e+1,0,o),this.$root.session.snowflake.selected.content.splice(e,1),this.updateDatabase(),this.$swal(this.$root.setlang.confirmmodal.snowconfirmsuccess,this.$root.setlang.confirmmodal.snowconfirmmsg,"success")}})},updateDatabase(){console.log("list changed"),this.$root.UpdateRecord("Snowflake",this.$root.session.snowflake.selected.uuid,this.$root.session.snowflake.selected)},startFlake(){if(!this.$root.session.snowflake.selected.content.length){let t={};t.title="",t.level=0,t.content="",t.open=!1,t.children=[],this.$root.session.snowflake.selected.content.push(t)}}},mounted(){this.startFlake()}},Um={class:"scroller"},zm={id:"toolbox"},Wm={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Gm={class:"row"},qm={class:"card"},Zm=["onClick"],Km={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Ym=["onUpdate:modelValue","placeholder"],Jm=["onClick"],Xm={key:0,class:"column"},Qm={class:"card"},e2=["onUpdate:modelValue","placeholder"],t2={class:"card"},n2=["onUpdate:modelValue","placeholder"],o2={class:"card"},i2=["onUpdate:modelValue","placeholder"],s2=["onClick"],r2={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function a2(t,e,n,o,r,s){const a=Q("MiniEditor");return f(),y("div",Um,[(f(!0),y(ae,null,Ne(this.$root.session.snowflake.selected.content,(u,p)=>(f(),y(ae,{key:p},[i("div",zm,[ue(i("input",{"onUpdate:modelValue":e[0]||(e[0]=c=>t.$root.session.snowflake.selected.title=c),class:"titleinput",onChange:e[1]||(e[1]=(...c)=>s.updateDatabase&&s.updateDatabase(...c))},null,544),[[Ee,t.$root.session.snowflake.selected.title]]),i("button",{onClick:e[2]||(e[2]=(...c)=>s.exportToManuscript&&s.exportToManuscript(...c)),class:"toolbutton"},[(f(),y("svg",Wm,[...e[7]||(e[7]=[i("path",{d:"M9 12H18.8L16.3 9.5L17.7 8.1L22.6 13L17.7 17.9L16.3 16.5L18.8 14H9V12M21 17.4V20H3V6H21V8.6L23 10.6V4C23 2.9 22.1 2 21 2H3C1.9 2 1 2.9 1 4V20C1 21.1 1.9 22 3 22H21C22.1 22 23 21.1 23 20V15.4L21 17.4Z"},null,-1)])]))])]),i("div",Gm,[i("div",{class:"column",style:It(u.open?"":"display:block")},[i("div",qm,[i("button",{class:"open-flake-button",onClick:c=>s.openflake(u)},[(f(),y("svg",Km,[...e[8]||(e[8]=[i("path",{d:"M8,2H16A2,2 0 0,1 18,4V20A2,2 0 0,1 16,22H8A2,2 0 0,1 6,20V4A2,2 0 0,1 8,2M8,10V14H16V10H8M8,16V20H16V16H8M8,4V8H16V4H8Z"},null,-1)])]))],8,Zm),ue(i("input",{class:"title","onUpdate:modelValue":c=>u.title=c,placeholder:this.$root.setlang.snowflake.title,onChange:e[3]||(e[3]=(...c)=>s.updateDatabase&&s.updateDatabase(...c))},null,40,Ym),[[Ee,u.title]]),_e(a,{snowFlake:u,modelValue:u.content,"onUpdate:modelValue":c=>u.content=c,onUpdated:s.updateDatabase},null,8,["snowFlake","modelValue","onUpdate:modelValue","onUpdated"]),i("button",{class:"delete-flake-button",onClick:c=>s.deleteFlake(p)},[...e[9]||(e[9]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"})],-1)])],8,Jm)])],4),_e(Zn,{name:"h-slide-fade"},{default:bt(()=>[u.open?(f(),y("div",Xm,[i("div",Qm,[ue(i("input",{class:"title","onUpdate:modelValue":c=>u.children[0].title=c,placeholder:this.$root.setlang.snowflake.title,onChange:e[4]||(e[4]=(...c)=>s.updateDatabase&&s.updateDatabase(...c))},null,40,e2),[[Ee,u.children[0].title]]),_e(a,{snowFlake:u.children[0],modelValue:u.children[0].content,"onUpdate:modelValue":c=>u.children[0].content=c,onUpdated:s.updateDatabase},null,8,["snowFlake","modelValue","onUpdate:modelValue","onUpdated"])]),i("div",t2,[ue(i("input",{class:"title","onUpdate:modelValue":c=>u.children[1].title=c,placeholder:this.$root.setlang.snowflake.title,onChange:e[5]||(e[5]=(...c)=>s.updateDatabase&&s.updateDatabase(...c))},null,40,n2),[[Ee,u.children[1].title]]),_e(a,{snowFlake:u.children[1],modelValue:u.children[1].content,"onUpdate:modelValue":c=>u.children[1].content=c,onUpdated:s.updateDatabase},null,8,["snowFlake","modelValue","onUpdate:modelValue","onUpdated"])]),i("div",o2,[ue(i("input",{class:"title","onUpdate:modelValue":c=>u.children[2].title=c,placeholder:this.$root.setlang.snowflake.title,onChange:e[6]||(e[6]=(...c)=>s.updateDatabase&&s.updateDatabase(...c))},null,40,i2),[[Ee,u.children[2].title]]),_e(a,{snowFlake:u.children[2],modelValue:u.children[2].content,"onUpdate:modelValue":c=>u.children[2].content=c,onUpdated:s.updateDatabase},null,8,["snowFlake","modelValue","onUpdate:modelValue","onUpdated"])]),i("button",{class:"replaceButton",onClick:c=>s.replace(u,p)},[(f(),y("svg",r2,[...e[10]||(e[10]=[i("path",{d:"M14.58,16.59L19.17,12L14.58,7.41L16,6L22,12L16,18L14.58,16.59M8.58,16.59L13.17,12L8.58,7.41L10,6L16,12L10,18L8.58,16.59M2.58,16.59L7.17,12L2.58,7.41L4,6L10,12L4,18L2.58,16.59Z"},null,-1)])]))],8,s2)])):V("",!0)]),_:2},1024)])],64))),128))])}const l2=He(Fm,[["render",a2],["__scopeId","data-v-986e38a0"]]),d2={name:"PlanningBoardHome",components:{SnowFlakeTool:l2},data(){return{title:null,description:null,showaddform:!1,Snowflakes:this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Snowflake.toArray()))}},methods:{deleteItem(t){this.$swal({title:"Are you sure?",text:"You won't be able to undo this!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(e=>{e.isConfirmed&&(this.$root.DeleteRecord("Snowflake",t.uuid),this.$swal("Deleted!","Your file has been deleted.","success"))})},chooseItem(t){this.$root.session.snowflake.selected=this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Snowflake.get(t.uuid)))},addItem(){if(!this.title)return alert(this.$root.setlang.tools.warn),!1;let t={};t.title=this.title,t.description=this.description,t.content=[],t.uuid=this.$root.uuid(),this.$root.AddRecord("Snowflake",t),this.title="",this.description="",this.showaddform=!1}},created(){this.$root.$data.session.snowflake||(this.$root.$data.session.snowflake={})}},u2={key:0,id:"ToolHome"},c2={class:"wavemaker_info_box"},p2={style:{width:"100%"}},h2={style:{width:"50px"}},f2={key:0},g2=["placeholder"],m2={style:{"text-align":"right"}},v2={key:1,style:{width:"100%"}},y2={class:"title"},b2={style:{width:"50px"}},w2=["onClick"],C2={style:{width:"50px"}},$2=["onClick"],L2={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function k2(t,e,n,o,r,s){const a=Q("SnowFlakeTool");return f(),y(ae,null,[t.$root.$data.session.snowflake.selected?V("",!0):(f(),y("div",u2,[i("div",c2,[i("table",p2,[i("tbody",null,[i("tr",null,[i("td",null,[i("h1",null,k(this.$root.setlang.tools.snowflake),1)]),i("td",h2,[i("button",{onClick:e[0]||(e[0]=u=>r.showaddform=!r.showaddform),class:"interfaceBtn"},[...e[3]||(e[3]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M14.25,12L16.27,11H23L22,9H18.03L20.42,5.83L19.43,3.83L15.37,9.2L13.35,10.21L13.75,8L17.83,2.62L15.64,2.22L12,7L8.4,2.2L6.2,2.6L10.26,8L10.66,10.21L8.82,9.29L8.66,9.21L4.6,3.8L3.6,5.8L6,9H2L1,11H7.77L9.75,12L7.73,13H1L2,15H5.97L3.58,18.17L4.57,20.17L8.63,14.8L10.65,13.79L10.25,16L6.17,21.38L8.36,21.79L12,17L15.6,21.8L17.8,21.4L13.74,16L13.34,13.79L15.34,14.79L19.4,20.2L20.4,18.2L18,15H22L23,13H16.23"})],-1)])])])])])]),r.showaddform?(f(),y("div",f2,[e[5]||(e[5]=i("hr",null,null,-1)),ue(i("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=u=>r.title=u),placeholder:this.$root.setlang.tools.name,class:"formInput"},null,8,g2),[[Ee,r.title]]),i("div",m2,[i("button",{onClick:e[2]||(e[2]=(...u)=>s.addItem&&s.addItem(...u)),class:"interfaceBtn"},[...e[4]||(e[4]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"})],-1)])])])])):V("",!0),e[9]||(e[9]=i("hr",null,null,-1)),r.showaddform?V("",!0):(f(),y("table",v2,[i("tbody",null,[(f(!0),y(ae,null,Ne(r.Snowflakes,(u,p)=>(f(),y("tr",{key:p},[i("td",null,[i("div",y2,k(u.title),1),i("i",null,[e[6]||(e[6]=i("br",null,null,-1)),ye(" "+k(t.$root.niceDate(u.lastupdated)),1)])]),i("td",b2,[i("button",{onClick:c=>s.chooseItem(u),class:"interfaceBtn"},[...e[7]||(e[7]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"})],-1)])],8,w2)]),i("td",C2,[i("button",{onClick:c=>s.deleteItem(u),class:"interfaceBtn deleteBtn"},[(f(),y("svg",L2,[...e[8]||(e[8]=[i("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"},null,-1)])]))],8,$2)])]))),128))])]))])])),t.$root.$data.session.snowflake.selected?(f(),Te(a,{key:1})):V("",!0)],64)}const x2=He(d2,[["render",k2],["__scopeId","data-v-70a64aec"]]),H2={name:"TimeLineTool",components:{VueDraggableNext:Tn,MiniEditor:Bi},computed:{dragOptions(){return{animation:200,group:"Cards",disabled:!1,ghostClass:"ghost"}}},data(){return{drag:!1}},methods:{addTime(){let t={};t.title="",t.text="",t.event="",this.$root.session.timeline.selected.content.push(t),this.updateDatabase()},addTimeAtIndex(t){let e={};e.title="",e.text="",e.event="",this.$root.session.timeline.selected.content.splice(t,0,e),this.updateDatabase()},deleteTime(t){this.$swal({title:this.$root.setlang.confirmmodal.confirmdelete,text:this.$root.setlang.confirmmodal.noundo,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.confirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(e=>{e.isConfirmed&&(this.$root.session.timeline.selected.content.splice(t,1),this.updateDatabase(),this.$swal(this.$root.setlang.confirmmodal.success,this.$root.setlang.confirmmodal.successfeedback,"success"))})},updateDatabase(){console.log("list changed"),this.$root.UpdateRecord("Timeline",this.$root.$data.session.timeline.selected.uuid,this.$root.$data.session.timeline.selected)},exportToManuscript(){this.$swal({title:this.$root.setlang.confirmmodal.confirmexport,text:this.$root.setlang.confirmmodal.exportmsg,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.exportconfirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(t=>{if(t.isConfirmed){let e={};e.uuid=this.$root.uuid(),e.title=this.$root.session.timeline.selected.title,e.descripton=this.$root.session.timeline.selected.description,e.files=[],this.$root.session.timeline.selected.content.forEach(n=>{console.log(n);let o=this.$root.uuid(),r={};r.writerid=e.uuid,r.title=n.event+"-"+n.title,r.content=n.text,r.notes=[],r.uuid=o,r.wordcount=this.$root.wordCounter(n.content),this.$root.AddRecord("Files",r);let s={};s.uuid=o,s.open=!1,s.type="file",s.children=[],e.files.push(s)}),this.$root.AddRecord("Writer",e),this.$swal(this.$root.setlang.confirmmodal.exportsuccess,this.$root.setlang.confirmmodal.exportsuccessfeedback,"success")}})}},mounted(){if(!this.$root.session.timeline.selected.content.length){let t={};t.title="",t.text="",t.event="",this.$root.session.timeline.selected.content.push(t)}this.updateDatabase()}},A2={class:"scroller"},V2=["placeholder"],M2=["placeholder"],S2={class:"timeline"},T2={class:"time"},E2={class:"handle"},B2={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},I2=["placeholder","onUpdate:modelValue"],D2=["onClick"],_2={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},P2={class:"content"},O2=["placeholder","onUpdate:modelValue"],N2=["onClick"],R2={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},j2={style:{"text-align":"center","padding-left":"15px"}},F2={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},U2={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function z2(t,e,n,o,r,s){const a=Q("MiniEditor"),u=Q("VueDraggableNext");return f(),y("div",A2,[ue(i("input",{class:"topinput",placeholder:this.$root.setlang.tools.name,"onUpdate:modelValue":e[0]||(e[0]=p=>this.$root.session.timeline.selected.title=p),onChange:e[1]||(e[1]=(...p)=>s.updateDatabase&&s.updateDatabase(...p))},null,40,V2),[[Ee,this.$root.session.timeline.selected.title]]),ue(i("input",{class:"topinput sub",placeholder:this.$root.setlang.tools.description,"onUpdate:modelValue":e[2]||(e[2]=p=>this.$root.session.timeline.selected.description=p),onChange:e[3]||(e[3]=(...p)=>s.updateDatabase&&s.updateDatabase(...p))},null,40,M2),[[Ee,this.$root.session.timeline.selected.description]]),i("div",S2,[_e(u,un({list:this.$root.$data.session.timeline.selected.content,tag:"ul",group:"board","component-data":{tag:"ul",type:"transition-group",name:r.drag?null:"flip-list"},handle:".handle"},s.dragOptions,{onStart:e[6]||(e[6]=p=>r.drag=!0),onEnd:e[7]||(e[7]=p=>r.drag=!1),emptyInsertThreshold:90,onChange:s.updateDatabase}),{default:bt(()=>[(f(!0),y(ae,null,Ne(this.$root.session.timeline.selected.content,(p,c)=>(f(),y("li",{key:c},[i("div",T2,[i("div",E2,[(f(),y("svg",B2,[...e[10]||(e[10]=[i("path",{d:"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"},null,-1)])]))]),ue(i("input",{class:"timeText",tabindex:"1",placeholder:this.$root.setlang.timeline.date,"onUpdate:modelValue":b=>p.event=b,onChange:e[4]||(e[4]=(...b)=>s.updateDatabase&&s.updateDatabase(...b))},null,40,I2),[[Ee,p.event]]),i("button",{onClick:b=>s.deleteTime(c),class:"deleteIconButton"},[(f(),y("svg",_2,[...e[11]||(e[11]=[i("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1)])]))],8,D2)]),i("div",P2,[ue(i("input",{class:"title",placeholder:this.$root.setlang.timeline.title,tabindex:"1","onUpdate:modelValue":b=>p.title=b,onChange:e[5]||(e[5]=(...b)=>s.updateDatabase&&s.updateDatabase(...b))},null,40,O2),[[Ee,p.title]]),i("p",null,[_e(a,{modelValue:p.text,"onUpdate:modelValue":b=>p.text=b,tabindex:"1",onUpdated:s.updateDatabase},null,8,["modelValue","onUpdate:modelValue","onUpdated"])])]),i("button",{onClick:b=>s.addTimeAtIndex(c+1),class:"addIconButton"},[(f(),y("svg",R2,[...e[12]||(e[12]=[i("path",{d:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"},null,-1)])]))],8,N2)]))),128))]),_:1},16,["list","component-data","onChange"]),e[14]||(e[14]=i("div",{style:{clear:"both"}},null,-1)),i("div",j2,[i("button",{onClick:e[8]||(e[8]=(...p)=>s.addTime&&s.addTime(...p)),class:"add-btn"},[(f(),y("svg",F2,[...e[13]||(e[13]=[i("path",{d:"M13.72 21.84C13.16 21.94 12.59 22 12 22C6.5 22 2 17.5 2 12S6.5 2 12 2 22 6.5 22 12C22 12.59 21.94 13.16 21.84 13.72C21 13.26 20.03 13 19 13C17.74 13 16.57 13.39 15.6 14.06L12.5 12.2V7H11V13L14.43 15.11C13.54 16.16 13 17.5 13 19C13 20.03 13.26 21 13.72 21.84M18 15V18H15V20H18V23H20V20H23V18H20V15H18Z"},null,-1)])]))])])]),i("button",{onClick:e[9]||(e[9]=(...p)=>s.exportToManuscript&&s.exportToManuscript(...p)),class:"export-btn"},[(f(),y("svg",U2,[...e[15]||(e[15]=[i("path",{d:"M9 12H18.8L16.3 9.5L17.7 8.1L22.6 13L17.7 17.9L16.3 16.5L18.8 14H9V12M21 17.4V20H3V6H21V8.6L23 10.6V4C23 2.9 22.1 2 21 2H3C1.9 2 1 2.9 1 4V20C1 21.1 1.9 22 3 22H21C22.1 22 23 21.1 23 20V15.4L21 17.4Z"},null,-1)])]))])])}const W2=He(H2,[["render",z2],["__scopeId","data-v-bcdf820f"]]),G2={name:"PlanningBoardHome",components:{TimeLineTool:W2},data(){return{title:null,description:null,showaddform:!1,Timelines:this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Timeline.toArray()))}},methods:{deleteItem(t){this.$swal({title:this.$root.setlang.confirmmodal.confirmdelete,text:this.$root.setlang.confirmmodal.noundo,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.confirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(e=>{e.isConfirmed&&(this.$root.DeleteRecord("Timeline",t.uuid),this.$swal(this.$root.setlang.confirmmodal.success,this.$root.setlang.confirmmodal.successfeedback,"success"))})},chooseItem(t){this.$root.session.timeline.selected=this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Timeline.get(t.uuid)))},addItem(){if(!this.title)return alert(this.$root.setlang.tools.warn),!1;let t={};t.title=this.title,t.description=this.description,t.content=[],t.uuid=this.$root.uuid(),this.$root.AddRecord("Timeline",t),this.title="",this.description="",this.showaddform=!1}},created(){this.$root.session.timeline||(this.$root.session.timeline={})}},q2={key:0,id:"ToolHome"},Z2={class:"wavemaker_info_box"},K2={style:{width:"100%"}},Y2={style:{width:"50px"}},J2={key:0},X2=["placeholder"],Q2=["placeholder"],e0={style:{"text-align":"right"}},t0={key:1,style:{width:"100%"}},n0={class:"title"},o0={class:"author"},i0={style:{width:"50px"}},s0=["onClick"],r0={style:{width:"50px"}},a0=["onClick"],l0={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function d0(t,e,n,o,r,s){const a=Q("TimeLineTool");return f(),y(ae,null,[t.$root.session.timeline.selected?V("",!0):(f(),y("div",q2,[i("div",Z2,[i("table",K2,[i("tbody",null,[i("tr",null,[i("td",null,[i("h1",null,k(this.$root.setlang.tools.timeline),1)]),i("td",Y2,[i("button",{onClick:e[0]||(e[0]=u=>r.showaddform=!r.showaddform),class:"interfaceBtn"},[...e[4]||(e[4]=[i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M12,20A7,7 0 0,1 5,13A7,7 0 0,1 12,6A7,7 0 0,1 19,13A7,7 0 0,1 12,20M12,4A9,9 0 0,0 3,13A9,9 0 0,0 12,22A9,9 0 0,0 21,13A9,9 0 0,0 12,4M12.5,8H11V14L15.75,16.85L16.5,15.62L12.5,13.25V8M7.88,3.39L6.6,1.86L2,5.71L3.29,7.24L7.88,3.39M22,5.72L17.4,1.86L16.11,3.39L20.71,7.25L22,5.72Z"})],-1)])])])])])]),r.showaddform?(f(),y("div",J2,[e[6]||(e[6]=i("hr",null,null,-1)),ue(i("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=u=>r.title=u),placeholder:this.$root.setlang.tools.name,class:"formInput"},null,8,X2),[[Ee,r.title]]),ue(i("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=u=>r.description=u),placeholder:this.$root.setlang.tools.description,class:"formInput"},null,8,Q2),[[Ee,r.description]]),i("div",e0,[i("button",{onClick:e[3]||(e[3]=(...u)=>s.addItem&&s.addItem(...u)),class:"interfaceBtn"},[...e[5]||(e[5]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"})],-1)])])])])):V("",!0),e[10]||(e[10]=i("hr",null,null,-1)),r.showaddform?V("",!0):(f(),y("table",t0,[i("tbody",null,[(f(!0),y(ae,null,Ne(r.Timelines,(u,p)=>(f(),y("tr",{key:p},[i("td",null,[i("div",n0,k(u.title),1),i("div",o0,k(u.description),1),i("i",null,[e[7]||(e[7]=i("br",null,null,-1)),ye(" "+k(t.$root.niceDate(u.lastupdated)),1)])]),i("td",i0,[i("button",{onClick:c=>s.chooseItem(u),class:"interfaceBtn"},[...e[8]||(e[8]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"})],-1)])],8,s0)]),i("td",r0,[i("button",{onClick:c=>s.deleteItem(u),class:"interfaceBtn deleteBtn"},[(f(),y("svg",l0,[...e[9]||(e[9]=[i("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"},null,-1)])]))],8,a0)])]))),128))])]))])])),t.$root.session.timeline.selected?(f(),Te(a,{key:1})):V("",!0)],64)}const u0=He(G2,[["render",d0],["__scopeId","data-v-7d5e1fda"]]),c0={name:"ToolBox",methods:{addNode(t){let e={text:"",x:50,y:50,w:"auto",h:32};t&&(e.type=t),this.$root.session.mindmap.selected.content.nodes[this.$root.uuid()]=e},updateDatabase(){console.log("list changed"),this.$root.UpdateRecord("Mindmap",this.$root.$data.session.mindmap.selected.uuid,this.$root.$data.session.mindmap.selected)}},mounted(){this.$root.session.mindmap.linkstyle||(this.$root.session.mindmap.linkstyle="solid")}},p0={id:"toolbox"},h0={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},f0={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function g0(t,e,n,o,r,s){return f(),y("div",p0,[ue(i("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>t.$root.session.mindmap.selected.title=a),class:"titleinput",onChange:e[1]||(e[1]=(...a)=>s.updateDatabase&&s.updateDatabase(...a))},null,544),[[Ee,t.$root.session.mindmap.selected.title]]),ue(i("select",{"onUpdate:modelValue":e[2]||(e[2]=a=>t.$root.session.mindmap.linkstyle=a),class:"toolselect"},[...e[5]||(e[5]=[i("option",{value:"solid"},"_____",-1),i("option",{value:"dashed"},"- - - -",-1),i("option",{value:"dotted"},"..........",-1)])],512),[[Tt,t.$root.session.mindmap.linkstyle]]),i("button",{onClick:e[3]||(e[3]=(...a)=>s.addNode&&s.addNode(...a)),class:"toolbutton",style:{}},[(f(),y("svg",h0,[...e[6]||(e[6]=[i("path",{d:"M5 19V5H12V12H19V13C19.7 13 20.37 13.13 21 13.35V9L15 3H5C3.89 3 3 3.89 3 5V19C3 20.1 3.89 21 5 21H13.35C13.13 20.37 13 19.7 13 19H5M14 4.5L19.5 10H14V4.5M23 18V20H20V23H18V20H15V18H18V15H20V18H23Z"},null,-1)])]))]),i("button",{onClick:e[4]||(e[4]=a=>s.addNode("image")),class:"toolbutton"},[(f(),y("svg",f0,[...e[7]||(e[7]=[i("path",{d:"M18 15V18H15V20H18V23H20V20H23V18H20V15H18M13.3 21H5C3.9 21 3 20.1 3 19V5C3 3.9 3.9 3 5 3H19C20.1 3 21 3.9 21 5V13.3C20.4 13.1 19.7 13 19 13C17.9 13 16.8 13.3 15.9 13.9L14.5 12L11 16.5L8.5 13.5L5 18H13.1C13 18.3 13 18.7 13 19C13 19.7 13.1 20.4 13.3 21Z"},null,-1)])]))])])}const m0=He(c0,[["render",g0],["__scopeId","data-v-d9dfd485"]]),v0={name:"NodeBox",components:{MiniImage:Si},props:{uuid:String},data(){return{editme:!1,w:200,h:200,x:50,y:50}},methods:{resizeTextarea(){let t=this.$refs.textarea;t.style.height="18px",t.style.height=t.scrollHeight+"px"},textchange(){},onResize:function(t,e,n,o){this.$root.session.mindmap.selected.content.nodes[this.uuid].x=t,this.$root.session.mindmap.selected.content.nodes[this.uuid].y=e,this.$root.session.mindmap.selected.content.nodes[this.uuid].width=n,this.$root.session.mindmap.selected.content.nodes[this.uuid].height=o},onDrag:function(t,e){this.$root.session.mindmap.selected.content.nodes[this.uuid].x=t,this.$root.session.mindmap.selected.content.nodes[this.uuid].y=e},onActivated(t){this.$root.session.mindmap.currentnode=t},onDeactivated(){this.$root.session.mindmap.currentnode=null,this.savechange()},linker(t){if(!this.$root.session.mindmap.nodelink)this.$root.session.mindmap.nodelink=t;else{if(this.$root.session.mindmap.nodelink!=t){console.log("link ",this.$root.session.mindmap.nodelink," to ",t);let e={};e.type=this.$root.session.mindmap.linkstyle,e.from=this.$root.session.mindmap.nodelink,e.to=t,this.$root.session.mindmap.selected.content.links.push(e)}this.$root.session.mindmap.nodelink=null}this.savechange()},deleteNode(t){this.$swal({title:this.$root.setlang.confirmmodal.confirmdelete,text:this.$root.setlang.confirmmodal.noundo,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.confirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(e=>{e.isConfirmed&&(this.$root.session.mindmap.selected.content.links=this.$root.session.mindmap.selected.content.links.filter(n=>{if(n.from!==t&&n.to!==t)return!0}),delete this.$root.session.mindmap.selected.content.nodes[t],this.savechange(),this.$swal(this.$root.setlang.confirmmodal.success,this.$root.setlang.confirmmodal.successfeedback,"success"))})},savechange(){console.log("list changed"),this.$root.UpdateRecord("Mindmap",this.$root.$data.session.mindmap.selected.uuid,this.$root.$data.session.mindmap.selected)},imageCallback(){console.log("Callback fired")},addImage(){this.$root.imagemanager={table:"Gridplanner",targetuuid:this.$root.$data.session.mindmap.selected.uuid,target:this.$root.session.mindmap.selected.content.nodes[this.uuid],updateObj:this.$root.session.mindmap.selected}},moveNode(t){let e=this.$root.session.mindmap.selected.content.nodes[this.uuid];if(e){switch(t){case"up":e.y>0&&(e.y=e.y-5);break;case"down":e.y=e.y+5;break;case"left":e.x>0&&(e.x=e.x-5);break;case"right":e.x=e.x+5;break}e.y<30&&(e.y=30),e.x<30&&(e.x=30)}}},mounted(){this.$root.session.mindmap.selected.content.nodes[this.uuid]||this.resizeTextarea(),this.moveNode("down"),this.moveNode("up")}};function y0(t,e,n,o,r,s){const a=Q("MiniImage"),u=Q("vue-draggable-resizable");return f(),Te(u,{parent:!1,class:Fe(["card",t.$root.session.mindmap.currentnode===n.uuid?"activeClass":"inactiveClass"]),key:n.uuid,onDragging:s.onDrag,onResizing:s.onResize,w:this.$root.session.mindmap.selected.content.nodes[this.uuid].w,h:this.$root.session.mindmap.selected.content.nodes[this.uuid].h,x:this.$root.session.mindmap.selected.content.nodes[this.uuid].x,y:this.$root.session.mindmap.selected.content.nodes[this.uuid].y,resizable:!1,onFocus:e[11]||(e[11]=p=>s.onActivated(n.uuid)),onActivated:e[12]||(e[12]=p=>s.onActivated(n.uuid)),onDeactivated:s.onDeactivated,"enable-native-drag":!1,"drag-handle":".drag-handle",tabindex:"0","max-height":32,"min-height":32},{default:bt(()=>[i("div",{class:"drag-handle",tabindex:"0",onKeydown:[e[0]||(e[0]=no(kn(p=>s.moveNode("up"),["exact","prevent","stop"]),["up"])),e[1]||(e[1]=no(kn(p=>s.moveNode("down"),["exact","prevent","stop"]),["down"])),e[2]||(e[2]=no(kn(p=>s.moveNode("left"),["exact","prevent","stop"]),["left"])),e[3]||(e[3]=no(kn(p=>s.moveNode("right"),["exact","prevent","stop"]),["right"]))]},[...e[13]||(e[13]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{fill:"currentColor",d:"M13,11H18L16.5,9.5L17.92,8.08L21.84,12L17.92,15.92L16.5,14.5L18,13H13V18L14.5,16.5L15.92,17.92L12,21.84L8.08,17.92L9.5,16.5L11,18V13H6L7.5,14.5L6.08,15.92L2.16,12L6.08,8.08L7.5,9.5L6,11H11V6L9.5,7.5L8.08,6.08L12,2.16L15.92,6.08L14.5,7.5L13,6V11Z"})],-1)])],32),this.$root.session.mindmap.selected.content.nodes[this.uuid].type==="image"?(f(),y(ae,{key:0},[this.$root.session.mindmap.selected.content.nodes[this.uuid].text?(f(),y(ae,{key:0},[(f(),Te(a,{uuid:this.$root.session.mindmap.selected.content.nodes[this.uuid].text,style:{"min-width":"100px",width:"100%"},key:this.$root.session.mindmap.selected.content.nodes[this.uuid].text},null,8,["uuid"])),t.$root.session.mindmap.currentnode===n.uuid?(f(),y("button",{key:0,onClick:e[4]||(e[4]=(...p)=>s.addImage&&s.addImage(...p)),class:"NewImageBtn"},[...e[14]||(e[14]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M22.7 14.3L21.7 15.3L19.7 13.3L20.7 12.3C20.8 12.2 20.9 12.1 21.1 12.1C21.2 12.1 21.4 12.2 21.5 12.3L22.8 13.6C22.9 13.8 22.9 14.1 22.7 14.3M13 19.9V22H15.1L21.2 15.9L19.2 13.9L13 19.9M11.21 15.83L9.25 13.47L6.5 17H13.12L15.66 14.55L13.96 12.29L11.21 15.83M11 19.9V19.05L11.05 19H5V5H19V11.31L21 9.38V5C21 3.9 20.11 3 19 3H5C3.9 3 3 3.9 3 5V19C3 20.11 3.9 21 5 21H11V19.9Z"})],-1)])])):V("",!0)],64)):(f(),y("button",{key:1,class:"imageButton",onClick:e[5]||(e[5]=(...p)=>s.addImage&&s.addImage(...p))},[...e[15]||(e[15]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M22.7 14.3L21.7 15.3L19.7 13.3L20.7 12.3C20.8 12.2 20.9 12.1 21.1 12.1C21.2 12.1 21.4 12.2 21.5 12.3L22.8 13.6C22.9 13.8 22.9 14.1 22.7 14.3M13 19.9V22H15.1L21.2 15.9L19.2 13.9L13 19.9M11.21 15.83L9.25 13.47L6.5 17H13.12L15.66 14.55L13.96 12.29L11.21 15.83M11 19.9V19.05L11.05 19H5V5H19V11.31L21 9.38V5C21 3.9 20.11 3 19 3H5C3.9 3 3 3.9 3 5V19C3 20.11 3.9 21 5 21H11V19.9Z"})],-1)])]))],64)):ue((f(),y("textarea",{key:1,ref:"textarea","onUpdate:modelValue":e[6]||(e[6]=p=>this.$root.session.mindmap.selected.content.nodes[this.uuid].text=p),onClick:e[7]||(e[7]=p=>s.onActivated(n.uuid)),style:{width:"300px"},cols:"30",rows:"1",onKeyup:e[8]||(e[8]=(...p)=>s.resizeTextarea&&s.resizeTextarea(...p))},null,544)),[[Ee,this.$root.session.mindmap.selected.content.nodes[this.uuid].text]]),t.$root.session.mindmap.currentnode===n.uuid?(f(),y("button",{key:2,id:"deleteButton",onClick:e[9]||(e[9]=p=>s.deleteNode(n.uuid)),tabindex:"0"},[...e[16]||(e[16]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"})],-1)])])):V("",!0),t.$root.session.mindmap.currentnode===n.uuid?(f(),y("button",{key:3,tabindex:"0",id:"linkButton",onClick:e[10]||(e[10]=p=>s.linker(n.uuid))},[...e[17]||(e[17]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M10.6 13.4A1 1 0 0 1 9.2 14.8A4.8 4.8 0 0 1 9.2 7.8L12.7 4.2A5.1 5.1 0 0 1 19.8 4.2A5.1 5.1 0 0 1 19.8 11.3L18.3 12.8A6.4 6.4 0 0 0 17.9 10.4L18.4 9.9A3.2 3.2 0 0 0 18.4 5.6A3.2 3.2 0 0 0 14.1 5.6L10.6 9.2A2.9 2.9 0 0 0 10.6 13.4M23 18V20H20V23H18V20H15V18H18V15H20V18M16.2 13.7A4.8 4.8 0 0 0 14.8 9.2A1 1 0 0 0 13.4 10.6A2.9 2.9 0 0 1 13.4 14.8L9.9 18.4A3.2 3.2 0 0 1 5.6 18.4A3.2 3.2 0 0 1 5.6 14.1L6.1 13.7A7.3 7.3 0 0 1 5.7 11.2L4.2 12.7A5.1 5.1 0 0 0 4.2 19.8A5.1 5.1 0 0 0 11.3 19.8L13.1 18A6 6 0 0 1 16.2 13.7Z"})],-1)])])):V("",!0)]),_:1},8,["onDragging","onResizing","w","h","x","y","onDeactivated","class"])}const b0=He(v0,[["render",y0],["__scopeId","data-v-41f1be8a"]]),w0={name:"LinkNodes",props:{mylink:Object,myindex:Number},methods:{deletelink(){console.log("delete",this.myindex),this.$root.session.mindmap.selected.content.links.splice(this.myindex,1),this.savechange()},savechange(){console.log("list changed"),this.$root.UpdateRecord("Mindmap",this.$root.$data.session.mindmap.selected.uuid,this.$root.$data.session.mindmap.selected)}}},C0=["x1","y1","x2","y2"];function $0(t,e,n,o,r,s){return f(),y("line",{class:Fe(["link",n.mylink.type]),x1:this.$root.session.mindmap.selected.content.nodes[n.mylink.from].x+100,y1:this.$root.session.mindmap.selected.content.nodes[n.mylink.from].y+15,x2:this.$root.session.mindmap.selected.content.nodes[n.mylink.to].x+100,y2:this.$root.session.mindmap.selected.content.nodes[n.mylink.to].y+15,onClick:e[0]||(e[0]=(...a)=>s.deletelink&&s.deletelink(...a))},[...e[1]||(e[1]=[i("marker",{id:"black-arrow",viewBox:"0 0 10 10",refX:"10",refY:"15",orient:"auto"},[i("path",{d:"M 0 0 L 10 5 L 0 10 z"})],-1)])],10,C0)}const L0=He(w0,[["render",$0],["__scopeId","data-v-04172032"]]),k0={name:"WorkSpace",components:{NodeBox:b0,LinkNodes:L0},mounted(){if(!this.$root.session.mindmap.selected.content){let t={nodes:{},links:[]};this.$root.session.mindmap.selected.content=t}console.log(this.$root.session.mindmap.selected)}},x0={key:0,id:"workspace"},H0={id:"svg"};function A0(t,e,n,o,r,s){const a=Q("LinkNodes"),u=Q("NodeBox");return t.$root.session.mindmap.selected.content?(f(),y("div",x0,[(f(),y("svg",H0,[(f(!0),y(ae,null,Ne(t.$root.session.mindmap.selected.content.links,(p,c)=>(f(),Te(a,{key:c,mylink:p,myindex:c},null,8,["mylink","myindex"]))),128))])),(f(!0),y(ae,null,Ne(Object.keys(t.$root.session.mindmap.selected.content.nodes),p=>(f(),Te(u,{key:p,uuid:p},null,8,["uuid"]))),128))])):V("",!0)}const V0=He(k0,[["render",A0],["__scopeId","data-v-9356689e"]]),M0={name:"MindMapHome",components:{WorkSpace:V0,ToolBox:m0},data(){return{title:null,description:null,showaddform:!1,MindMaps:this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Mindmap.toArray()))}},methods:{deleteItem(t){this.$swal({title:this.$root.setlang.confirmmodal.confirmdelete,text:this.$root.setlang.confirmmodal.noundo,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.confirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(e=>{e.isConfirmed&&(this.$root.DeleteRecord("Mindmap",t.uuid),this.$swal(this.$root.setlang.confirmmodal.success,this.$root.setlang.confirmmodal.successfeedback,"success"))})},chooseItem(t){this.$root.session.mindmap.selected=this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Mindmap.get(t.uuid)))},addItem(){if(!this.title)return alert(this.$root.setlang.tools.warn),!1;let t={};t.title=this.title,t.description=this.description,t.uuid=this.$root.uuid(),this.$root.AddRecord("Mindmap",t),this.title="",this.description="",this.showaddform=!1}},created(){this.$root.session.mindmap||(this.$root.session.mindmap={},this.$root.session.mindmap.linkstyle="solid",this.$root.session.mindmap.currentnode=null)}},S0={key:0,id:"ToolHome"},T0={class:"wavemaker_info_box"},E0={style:{width:"100%"}},B0={style:{width:"50px"}},I0={key:0},D0=["placeholder"],_0={style:{"text-align":"right"}},P0={key:1,style:{width:"100%"}},O0={class:"title"},N0={style:{width:"50px"}},R0=["onClick"],j0={style:{width:"50px"}},F0=["onClick"],U0={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},z0={key:1};function W0(t,e,n,o,r,s){const a=Q("WorkSpace"),u=Q("ToolBox");return f(),y(ae,null,[t.$root.session.mindmap.selected?V("",!0):(f(),y("div",S0,[i("div",T0,[i("table",E0,[i("tbody",null,[i("tr",null,[i("td",null,[i("h1",null,k(this.$root.setlang.tools.mindmap),1)]),i("td",B0,[i("button",{onClick:e[0]||(e[0]=p=>r.showaddform=!r.showaddform),class:"interfaceBtn"},[...e[3]||(e[3]=[i("svg",{version:"1.1",viewBox:"0 0 24 24"},[i("path",{d:"M21 16V13C21 11.89 20.11 11 19 11H13V8H15V2H9V8H11V11H5C3.89 11 3 11.89 3 13V16H1V22H7V16H5V13H11V16H9V22H15V16H13V13H19V16H17V22H23V16H21M11 4H13V6H11V4M5 20H3V18H5V20M13 20H11V18H13V20M21 20H19V18H21V20Z"})],-1)])])])])])]),r.showaddform?(f(),y("div",I0,[e[5]||(e[5]=i("hr",null,null,-1)),ue(i("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=p=>r.title=p),placeholder:this.$root.setlang.tools.name,class:"formInput"},null,8,D0),[[Ee,r.title]]),i("div",_0,[i("button",{onClick:e[2]||(e[2]=(...p)=>s.addItem&&s.addItem(...p)),class:"interfaceBtn"},[...e[4]||(e[4]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"})],-1)])])])])):V("",!0),e[9]||(e[9]=i("hr",null,null,-1)),r.showaddform?V("",!0):(f(),y("table",P0,[i("tbody",null,[(f(!0),y(ae,null,Ne(r.MindMaps,(p,c)=>(f(),y("tr",{key:c},[i("td",null,[i("div",O0,k(p.title),1),i("i",null,[e[6]||(e[6]=i("br",null,null,-1)),ye(" "+k(t.$root.niceDate(p.lastupdated)),1)])]),i("td",N0,[i("button",{onClick:b=>s.chooseItem(p),class:"interfaceBtn"},[...e[7]||(e[7]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"})],-1)])],8,R0)]),i("td",j0,[i("button",{onClick:b=>s.deleteItem(p),class:"interfaceBtn deleteBtn"},[(f(),y("svg",U0,[...e[8]||(e[8]=[i("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"},null,-1)])]))],8,F0)])]))),128))])]))])])),t.$root.session.mindmap.selected?(f(),y("div",z0,[_e(a),_e(u)])):V("",!0)],64)}const G0=He(M0,[["render",W0],["__scopeId","data-v-d23b732b"]]),q0={name:"GridPlannerCell",emits:["MakeChange"],components:{VueDraggableNext:Tn,CardViewer:To},props:{parentList:{type:Array,required:!0}},computed:{dragOptions(){return{animation:200,group:"Cards",disabled:!1,ghostClass:"ghost"}}},data(){return{drag:!1,colWidth:320}},methods:{linkCard(t,e){var n=this.parentList.find(o=>o.uuid===e);n.uuid=t,this.updateDatabase()},deleteNote(t){this.$swal({title:this.$root.setlang.confirmmodal.confirmdelete,text:this.$root.setlang.confirmmodal.noundo,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.confirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(e=>{e.isConfirmed&&(this.parentList.splice(t,1),this.updateDatabase(),this.$swal(this.$root.setlang.confirmmodal.success,this.$root.setlang.confirmmodal.successfeedback,"success"))})},addCard(){let t={};t.uuid=this.$root.uuid(),this.parentList.push(t),this.updateDatabase()},updateDatabase(){this.$emit("MakeChange")}}},Z0={class:"clearInterfaceIconButton cardHandle"},K0={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},Y0=["onClick"],J0={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},X0={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function Q0(t,e,n,o,r,s){const a=Q("CardViewer"),u=Q("VueDraggableNext");return f(),y(ae,null,[_e(u,un({list:n.parentList,tag:"transition-group",group:"board",class:"list-group-card","component-data":{tag:"div",type:"transition-group",name:r.drag?null:"flip-list"},handle:".cardHandle"},s.dragOptions,{onStart:e[0]||(e[0]=p=>r.drag=!0),onEnd:e[1]||(e[1]=p=>r.drag=!1),emptyInsertThreshold:90,onChange:s.updateDatabase}),{default:bt(()=>[(f(!0),y(ae,null,Ne(n.parentList,(p,c)=>(f(),y("div",{key:c,class:"list-group-card-item",tabindex:"0"},[(f(),Te(a,{cardid:p.uuid,allowlink:!0,onLinkcard:s.linkCard,key:t.$root.uuid()},null,8,["cardid","onLinkcard"])),i("div",Z0,[(f(),y("svg",K0,[...e[3]||(e[3]=[i("path",{d:"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"},null,-1)])]))]),i("button",{class:"deleteIconButton",onClick:b=>s.deleteNote(c),tabindex:"0"},[(f(),y("svg",J0,[...e[4]||(e[4]=[i("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1)])]))],8,Y0)]))),128))]),_:1},16,["list","component-data","onChange"]),i("button",{class:Fe(["add-card",{bigbtn:!n.parentList.length}]),onClick:e[2]||(e[2]=p=>s.addCard(n.parentList))},[(f(),y("svg",X0,[...e[5]||(e[5]=[i("path",{d:"M13.09 20H4C2.9 20 2 19.11 2 18V6C2 4.89 2.9 4 4 4H20C21.11 4 22 4.89 22 6V13.81C21.12 13.3 20.09 13 19 13C15.69 13 13 15.69 13 19C13 19.34 13.04 19.67 13.09 20M18 15V18H15V20H18V23H20V20H23V18H20V15H18Z"},null,-1)])]))],2)],64)}const ev=He(q0,[["render",Q0],["__scopeId","data-v-09639ca3"]]),tv={name:"GridPlanner",components:{VueDraggableNext:Tn,GridPlannerCell:ev},computed:{HeaderDragOptions(){return{animation:200,group:"headers",disabled:!1,ghostClass:"ghost"}},dragOptions(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}},tableWidth(){return(this.$root.session.gridplanner.selected.content.headers.length+1)*this.colwidth}},data(){return{colwidth:300,drag:!1}},methods:{updateDatabase(){console.log("Grid updateDatabase"),this.$root.UpdateRecord("Gridplanner",this.$root.session.gridplanner.selected.uuid,this.$root.session.gridplanner.selected)},addCol(){let t={};t.uuid=this.$root.uuid(),t.title="",this.$root.session.gridplanner.selected.content.headers.push(t),this.$root.session.gridplanner.selected.content.rows.forEach(e=>{e.cells[t.uuid]=[]}),this.updateDatabase()},addRow(){let t={};t.title="",t.cells={},this.$root.session.gridplanner.selected.content.headers.forEach(e=>{t.cells[e.uuid]=[]}),this.$root.session.gridplanner.selected.content.rows.push(t),this.updateDatabase()},deleteCol(t){this.$swal({title:this.$root.setlang.confirmmodal.confirmdelete,text:this.$root.setlang.confirmmodal.noundo,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.confirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(e=>{if(e.isConfirmed){let n=this.$root.session.gridplanner.selected.content.headers[t].uuid;this.$root.session.gridplanner.selected.content.rows.forEach(o=>{delete o.cells[n]}),this.$root.session.gridplanner.selected.content.headers.splice(t,1),this.updateDatabase(),this.$swal(this.$root.setlang.confirmmodal.success,this.$root.setlang.confirmmodal.successfeedback,"success")}})},deleteRow(t){this.$swal({title:this.$root.setlang.confirmmodal.confirmdelete,text:this.$root.setlang.confirmmodal.noundo,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.confirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(e=>{e.isConfirmed&&(this.$root.session.gridplanner.selected.content.rows.splice(t,1),this.updateDatabase(),this.$swal(this.$root.setlang.confirmmodal.success,this.$root.setlang.confirmmodal.successfeedback,"success"))})}}},nv={class:"scroller"},ov={id:"toolbox"},iv={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},sv={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},rv={class:"handle"},av={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},lv=["onClick"],dv={viewBox:"0 0 24 24",style:{width:"18px",height:"18px"}},uv=["onUpdate:modelValue","placeholder"],cv={class:"headerBlock v-handle"},pv={class:"handle"},hv={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},fv=["onClick"],gv={viewBox:"0 0 24 24",style:{width:"18px",height:"18px"}},mv=["onUpdate:modelValue","placeholder"];function vv(t,e,n,o,r,s){const a=Q("VueDraggableNext"),u=Q("GridPlannerCell");return f(),y("div",nv,[i("div",ov,[ue(i("input",{"onUpdate:modelValue":e[0]||(e[0]=p=>t.$root.session.gridplanner.selected.title=p),class:"titleinput",onChange:e[1]||(e[1]=(...p)=>s.updateDatabase&&s.updateDatabase(...p))},null,544),[[Ee,t.$root.session.gridplanner.selected.title]]),i("button",{onClick:e[2]||(e[2]=(...p)=>s.addRow&&s.addRow(...p)),class:"toolbutton"},[(f(),y("svg",iv,[...e[15]||(e[15]=[i("path",{d:"M22,10A2,2 0 0,1 20,12H4A2,2 0 0,1 2,10V3H4V5H8V3H10V5H14V3H16V5H20V3H22V10M4,10H8V7H4V10M10,10H14V7H10V10M20,10V7H16V10H20M11,14H13V17H16V19H13V22H11V19H8V17H11V14Z"},null,-1)])]))]),i("button",{onClick:e[3]||(e[3]=(...p)=>s.addCol&&s.addCol(...p)),class:"toolbutton"},[(f(),y("svg",sv,[...e[16]||(e[16]=[i("path",{d:"M11,2A2,2 0 0,1 13,4V20A2,2 0 0,1 11,22H2V2H11M4,10V14H11V10H4M4,16V20H11V16H4M4,4V8H11V4H4M15,11H18V8H20V11H23V13H20V16H18V13H15V11Z"},null,-1)])]))])]),this.$root.session.gridplanner.selected.content.headers?(f(),y("table",{key:0,style:It("width :"+s.tableWidth+"px;")},[i("thead",null,[_e(a,un({modelValue:this.$root.session.gridplanner.selected.content.headers,"onUpdate:modelValue":e[5]||(e[5]=p=>this.$root.session.gridplanner.selected.content.headers=p),tag:"tr","component-data":{type:"transition-group",name:r.drag?null:"flip-list"},onStart:e[6]||(e[6]=p=>r.drag=!0),onEnd:e[7]||(e[7]=p=>r.drag=!1)},s.HeaderDragOptions,{handle:".handle",onChange:e[8]||(e[8]=p=>s.updateDatabase())}),{default:bt(()=>[bo(t.$slots,"default",{},()=>[e[17]||(e[17]=ye(" ",-1))],!0),(f(!0),y(ae,null,Ne(this.$root.session.gridplanner.selected.content.headers,(p,c)=>(f(),y("th",{key:c,class:"headerBlock",scope:"col",style:It("width :"+r.colwidth+"px;")},[i("div",rv,[(f(),y("svg",av,[...e[18]||(e[18]=[i("path",{d:"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"},null,-1)])]))]),i("button",{class:"deleteIconButton",tabindex:"0",onClick:b=>s.deleteCol(c)},[(f(),y("svg",dv,[...e[19]||(e[19]=[i("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1)])]))],8,lv),ue(i("input",{class:"headerInput",onChange:e[4]||(e[4]=b=>s.updateDatabase()),"onUpdate:modelValue":b=>p.title=b,placeholder:this.$root.setlang.gridplanner.newcol},null,40,uv),[[Ee,p.title]])],4))),128))]),_:3},16,["modelValue","component-data"])]),_e(a,un({modelValue:this.$root.session.gridplanner.selected.content.rows,"onUpdate:modelValue":e[11]||(e[11]=p=>this.$root.session.gridplanner.selected.content.rows=p),tag:"tbody","component-data":{type:"transition-group",name:r.drag?null:"flip-list"},onStart:e[12]||(e[12]=p=>r.drag=!0),onEnd:e[13]||(e[13]=p=>r.drag=!1)},s.dragOptions,{handle:".handle",onChange:e[14]||(e[14]=p=>s.updateDatabase())}),{default:bt(()=>[(f(!0),y(ae,null,Ne(this.$root.session.gridplanner.selected.content.rows,(p,c)=>(f(),y("tr",{key:c},[i("th",cv,[i("div",pv,[(f(),y("svg",hv,[...e[20]||(e[20]=[i("path",{d:"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"},null,-1)])]))]),i("button",{class:"deleteIconButton",tabindex:"0",onClick:b=>s.deleteRow(c)},[(f(),y("svg",gv,[...e[21]||(e[21]=[i("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1)])]))],8,fv),ue(i("input",{class:"rowInput",onChange:e[9]||(e[9]=b=>s.updateDatabase()),"onUpdate:modelValue":b=>p.title=b,placeholder:this.$root.setlang.gridplanner.newrow},null,40,mv),[[Ee,p.title]])]),(f(!0),y(ae,null,Ne(this.$root.session.gridplanner.selected.content.headers,b=>(f(),y("td",{key:b},[_e(u,{parentList:p.cells[b.uuid],onMakeChange:e[10]||(e[10]=C=>s.updateDatabase())},null,8,["parentList"])]))),128))]))),128))]),_:1},16,["modelValue","component-data"])],4)):V("",!0)])}const yv=He(tv,[["render",vv],["__scopeId","data-v-1eefbca2"]]),bv={name:"GridPlannerHome",components:{Gridplanner:yv},data(){return{title:null,description:null,showaddform:!1,Gridplanners:this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Gridplanner.toArray()))}},methods:{deleteItem(t){this.$swal({title:this.$root.setlang.confirmmodal.confirmdelete,text:this.$root.setlang.confirmmodal.noundo,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$root.setlang.confirmmodal.confirmbtn,cancelButtonText:this.$root.setlang.confirmmodal.cancelbtn}).then(e=>{e.isConfirmed&&(this.$root.DeleteRecord("Gridplanner",t.uuid),this.$swal(this.$root.setlang.confirmmodal.success,this.$root.setlang.confirmmodal.successfeedback,"success"))})},chooseItem(t){this.$root.session.gridplanner.selected=this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Gridplanner.get(t.uuid)))},addItem(){if(!this.title)return alert(this.$root.setlang.tools.warn),!1;let t={};t.title=this.title,t.description=this.description,t.content={headers:[],rows:[]},t.uuid=this.$root.uuid(),this.$root.AddRecord("Gridplanner",t),this.title="",this.description="",this.showaddform=!1}},created(){this.$root.session.gridplanner||(this.$root.session.gridplanner={})}},wv={key:0,id:"ToolHome"},Cv={class:"wavemaker_info_box"},$v={style:{width:"100%"}},Lv={style:{width:"50px"}},kv={key:0},xv=["placeholder"],Hv={style:{"text-align":"right"}},Av={key:1,style:{width:"100%"}},Vv={class:"title"},Mv={style:{width:"50px"}},Sv=["onClick"],Tv={style:{width:"50px"}},Ev=["onClick"],Bv={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Iv={key:1};function Dv(t,e,n,o,r,s){const a=Q("Gridplanner");return f(),y(ae,null,[t.$root.session.gridplanner.selected?V("",!0):(f(),y("div",wv,[i("div",Cv,[i("table",$v,[i("tbody",null,[i("tr",null,[i("td",null,[i("h1",null,k(this.$root.setlang.tools.gridplanner),1)]),i("td",Lv,[i("button",{onClick:e[0]||(e[0]=u=>r.showaddform=!r.showaddform),class:"interfaceBtn"},[...e[3]||(e[3]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M18,14H20V17H23V19H20V22H18V19H15V17H18V14M4,3H18A2,2 0 0,1 20,5V12.08C18.45,11.82 16.92,12.18 15.68,13H12V17H13.08C12.97,17.68 12.97,18.35 13.08,19H4A2,2 0 0,1 2,17V5A2,2 0 0,1 4,3M4,7V11H10V7H4M12,7V11H18V7H12M4,13V17H10V13H4Z"})],-1)])])])])])]),r.showaddform?(f(),y("div",kv,[e[5]||(e[5]=i("hr",null,null,-1)),ue(i("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=u=>r.title=u),placeholder:this.$root.setlang.tools.name,class:"formInput"},null,8,xv),[[Ee,r.title]]),i("div",Hv,[i("button",{onClick:e[2]||(e[2]=(...u)=>s.addItem&&s.addItem(...u)),class:"interfaceBtn"},[...e[4]||(e[4]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"})],-1)])])])])):V("",!0),e[9]||(e[9]=i("hr",null,null,-1)),r.showaddform?V("",!0):(f(),y("table",Av,[i("tbody",null,[(f(!0),y(ae,null,Ne(r.Gridplanners,(u,p)=>(f(),y("tr",{key:p},[i("td",null,[i("div",Vv,k(u.title),1),i("i",null,[e[6]||(e[6]=i("br",null,null,-1)),ye(" "+k(t.$root.niceDate(u.lastupdated)),1)])]),i("td",Mv,[i("button",{onClick:c=>s.chooseItem(u),class:"interfaceBtn"},[...e[7]||(e[7]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"})],-1)])],8,Sv)]),i("td",Tv,[i("button",{onClick:c=>s.deleteItem(u),class:"interfaceBtn deleteBtn"},[(f(),y("svg",Bv,[...e[8]||(e[8]=[i("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"},null,-1)])]))],8,Ev)])]))),128))])]))])])),t.$root.session.gridplanner.selected?(f(),y("div",Iv,[_e(a)])):V("",!0)],64)}const _v=He(bv,[["render",Dv],["__scopeId","data-v-df299c9b"]]),Pv={name:"DistractionFree",components:{EditorContent:Li},data(){return{item:this.$root.useObservable(this.$root.liveQuery(async()=>await this.$root.db.Files.get(this.$root.session.writer.file.uuid))),editor:null,updateUUID:null,mypos:0,keycount:1}},methods:{changed(){this.$root.UpdateRecord("Files",this.item.uuid,this.item)},repositionEditor(){if(this.editor&&this.item&&this.$root.session.settings.documentprefs.caretfocus&&(this.mypos=this.getCaretPosition(),this.mypos!=0&&this.$refs.scrolltarget)){let t=parseInt(this.mypos)+this.$refs.scrolltarget.scrollTop-window.innerHeight/2;this.$refs.scrolltarget.scrollTo({top:t,behavior:"smooth"})}},getCaretPosition(){var t=0,e,n;return e=window.getSelection(),n=e.getRangeAt(0),t=n.getBoundingClientRect(),t.y}},mounted(){this.updateUUID=this.$root.uuid(),this.$watch("item",(t,e)=>{if(!e)return this.editor.commands.setContent(t.content),!1;t.updateUUID!=this.updateUUID&&this.editor.commands.setContent(t.content)}),this.editor=new ki({extensions:[Ei,sr,rr],content:"",onTransaction:()=>{this.repositionEditor()},onUpdate:()=>{this.$root.session.settings.documentprefs.typesound&&(window["typesound"+this.keycount].play(),this.keycount===9&&(this.keycount=0),this.keycount++),this.item.wordcount=this.$root.wordCounter(this.editor.getHTML()),this.item.content=this.editor.getHTML(),this.item.updateUUID=this.updateUUID,this.changed()}})},beforeUnmount(){this.editor&&this.editor.destroy()}},Ov={class:"blackout",ref:"scrolltarget"},Nv={class:"distractionfree"},Rv={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"};function jv(t,e,n,o,r,s){const a=Q("EditorContent");return f(),y("div",Ov,[i("div",Nv,[r.editor?(f(),Te(a,{key:0,editor:r.editor},null,8,["editor"])):V("",!0)]),i("button",{onClick:e[0]||(e[0]=u=>this.$root.session.selectedTool="writer"),class:"closebutton"},[(f(),y("svg",Rv,[...e[1]||(e[1]=[i("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1)])]))])],512)}const Fv=He(Pv,[["render",jv],["__scopeId","data-v-560de645"]]),Uv={name:"StartApp",components:{ToolBar:Q1,ProjectInfo:sc,WriterMenu:Ug,PlanningBoardHome:Dm,SnowFlake:x2,TimeLine:u0,MindMapHome:G0,CardsDatabaseHome:im,GridPlannerHome:_v,DistractionFree:Fv},methods:{},async mounted(){let t=new URLSearchParams(document.location.search),e=t.get("sc"),n=t.get("sel");t.delete("sc"),t.delete("sel"),e==="planningboard"&&(this.$root.session.writer={},this.$root.session.writer.selected=this.$root.useObservable(this.$root.liveQuery(()=>this.$root.db.Writer.get(n))),this.$root.session.selectedTool=e),localStorage.getItem("wmDev")&&(this.session=JSON.parse(localStorage.getItem("wmDev")))}},zv={class:"toolbox"};function Wv(t,e,n,o,r,s){const a=Q("ProjectInfo"),u=Q("WriterMenu"),p=Q("CardsDatabaseHome"),c=Q("PlanningBoardHome"),b=Q("SnowFlake"),C=Q("TimeLine"),A=Q("MindMapHome"),x=Q("GridPlannerHome"),E=Q("ToolBar"),O=Q("DistractionFree");return f(),y(ae,null,[i("div",zv,[t.$root.session.selectedTool?V("",!0):(f(),Te(a,{key:0})),t.$root.session.selectedTool==="writer"?(f(),Te(u,{key:1})):V("",!0),t.$root.session.selectedTool==="cardsdatabase"?(f(),Te(p,{key:2})):V("",!0),t.$root.session.selectedTool==="planningboard"?(f(),Te(c,{key:3})):V("",!0),t.$root.session.selectedTool==="snowflake"?(f(),Te(b,{key:4})):V("",!0),t.$root.session.selectedTool==="timeline"?(f(),Te(C,{key:5})):V("",!0),t.$root.session.selectedTool==="mindmap"?(f(),Te(A,{key:6})):V("",!0),t.$root.session.selectedTool==="gridplanner"?(f(),Te(x,{key:7})):V("",!0)]),_e(E),t.$root.session.selectedTool==="distractionfree"?(f(),Te(O,{key:0})):V("",!0)],64)}const Gv=He(Uv,[["render",Wv],["__scopeId","data-v-124b48dd"]]),qv={info:{name:"English",textdirection:"ltr"},confirm:{sure:"Are You Sure?",downloadfile:"This will download a file to your device.",fileexport:"Yes, Export it!",filecancel:"Cancel",exportedsuccess:"Exported!",exportedmessage:"Your file has been exported"},toolbar:{projecthome:"Project Home",writer:"My Books",planningboard:"My Planning Boards",mindmap:"My Mindmaps",snowflake:"My Snowflakes",timeline:"My Timeline",gridplanner:"My Grid Planners",cardsdatabase:"My Cards",settings:"Settings",save:"Save File",googledrive:"Google Drive",quick:"Quick Upload",close:"Close Project"},welcome:{getstarted:"New Project",loadfile:"Load a file from your device",loadgoogle:"Load a file from Google Drive",info:"Create a new file, or load an existing one",legacy:"Legacy Tools",v3import:"Import a Wavemaker Version 3 file"},start:{projectlabel:"My Project Name",welcome:"Welcome to Wavemaker Version 4",help:"Help & Guides on how to use Wavemaker"},google:{info:"Login to Google Drive",saveinfo:"Save Current Project",files:"My Files",save:"Save File",search:"Search for Files",logout:"Log Out",close:"Close window"},settings:{title:"Settings",close:"Close this file",themes:"Choose a Theme",lang:"Choose a Language",clear:"This will clear the project",docprefs:"Document Preferences",alignment:"Alignment",alignL:"Align Left",alignR:"Align Right",alignC:"Align Center",alignJ:"Justify",fontsize:"Font Size",fontsize1:"Smallest",fontsize2:"Small",fontsize3:"Standard",fontsize4:"Big",fontsize5:"Biggest",lineheight:"Line Height",lineheight1:"Standard",lineheight2:"Double Spaced",lineheight3:"2.5 Spacing",lineheight4:"Triple Spaced",paragraph:"Paragraph Indentation",paragraphyes:"yes",paragraphno:"No",paragraphspacing:"Paragraph Spacing",paragraphspacing1:"Standard Spacing",paragraphspacing2:"1.5x Spacing",paragraphspacing3:"2x Spacing",paragraphspacing4:"2.5x Spacing",paragraphspacing5:"5x Spacing",pagewidth:"Page Width",pagestyle:"Page Style",fullwidth:"Full Width",pagetext:"Text Colour",pagecolour:"Page Colour",h1align:"H1 Alignment",h2align:"H2 Alignment",h3align:"H3 Alignment",h4align:"H4 Alignment",typewriter:"Typewriter Preferences",typetext:"Text Colour",typepage:"Page Colour",typesound:"Typewriter Sound",caretfocus:"Caret Auto-focus",reset:"Reset Defaults"},tools:{writer:"My Books",planningboard:"My Planning Boards",mindmap:"My Mindmaps",snowflake:"My Snowflakes",timeline:"My Timeline",gridplanner:"My Grid Planners",cardsdatabase:"My Cards",name:"Name",description:"Description (optional)",warn:"Please provide a Name"},writer:{settings:"Your Book Title",newfile:"New Section",newfolder:"New Folder",deletewarn:"Do you want to delete this item? Any cards you have created will remain in the database",intro:"This is the main page for your document. Options are below.",docdownload:"Export a .doc file of this manuscript",words:"Words"},confirmmodal:{confirmdelete:"Are you sure you want to delete this?",noundo:"You will not be able to undo this.",confirmbtn:"Yes, delete it!",cancelbtn:"Cancel",success:"Deleted!",successfeedback:"That has been deleted.",confirmexport:"Export?",exportmsg:"Export this tool?",exportconfirmbtn:"Yes, Export this.",exportsuccess:"Exported",exportsuccessfeedback:"Successfully exported",snowconfirm:"Replace Card",snowconfirmtext:"Replace the original card with these three",snowconfirmbtn:"Yes, replace it!",snowconfirmsuccess:"Replaced",snowconfirmmsg:"The card has been replaced"},editor:{bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",paragraph:"Paragraph",h1:"Heading 1",h2:"Heading 2",pic:"Insert Picture",blist:"Bullet List",nlist:"Numbered List",planningboard:"Switch to Planning board",typewriter:"Typewriter mode",hilight:"Text hilight",wordcount:"Toggle wordcount visibility"},mindmap:{deletenodewarn:"Do you want to delete this node?"},snowflake:{title:"Title",deletewarn:"Are You sure you want to delete this card?",replacewarn:"This will replace your card with the three new ones."},timeline:{date:"Date/Time",title:"Title"},gridplanner:{newrow:"New Row",newcol:"New Column"},db:{search:"Search by keywords",clear:"Clear Tags",deletecolwarn:"Delete this column?",deleterowwarn:"Delete this row?"},cards:{createnewbtn:"Create New",linkexisting:"Link Existing Card",cardtitle:"Card Title",cardnotes:"Card Notes",cardtags:"Card Tags",moredetail:"More Detail",images:"Images (click on an image to select it)",openimagemanager:"Open Image Manager",close:"Close"},wm3import:{close:"Close",info:"<h1>Version 3 Converter</h1><p>Hi, this is a legacy tool to allow you to load your old <strong>wavemaker version 3</strong> files into the new version.</p><p>As the behind the scenes database has changed quite a bit this is a one-way process.</p><p>You will need your DATABASE file (go to the main menu by clicking on the logo in wavemaker 3 then export the database) You should then have a file with the extension '.wmdata'</p><p>You will need to import each project and save it to it's own file as they are all seperate in the new version</p>",upload:"Upload a wavemaker database"}},Zv={info:{name:"Cymraeg",textdirection:"ltr"},confirm:{sure:"Ydych chi'n Siwr?",downloadfile:"Bydd hyn yn lawrlwytho ffeil i'ch dyfais.",fileexport:"Ie, Allforio!",filecancel:"Canslo",exportedsuccess:"Wedi'i Allforio!",exportedmessage:"Mae eich ffeil wedi'i hallforio"},toolbar:{projecthome:"Cartref Prosiect",writer:"Fy Llyfrau",planningboard:"Fy Myrddau Cynllunio",mindmap:"Fy Mapiau Meddwl",snowflake:"Fy Plu Eira",timeline:"Fy Llinell Amser",gridplanner:"Fy Nghynllunwyr Grid",cardsdatabase:"Fy Nghardiau",settings:"Gosodiadau",save:"Cadw Ffeil",googledrive:"Google Drive",quick:"Llwytho i fyny'n Gyflym",close:"Cau Prosiect"},welcome:{getstarted:"Prosiect Newydd",loadfile:"Llwytho ffeil o'ch dyfais",loadgoogle:"Llwytho ffeil o Google Drive",info:"Creu ffeil newydd, neu lwythwch un sy'n bodoli eisoes",legacy:"Offer Etifeddiaeth",v3import:"Mewnforio ffeil Fersiwn 3 Wavemaker"},start:{projectlabel:"Enw fy mhrosiect",welcome:"Croeso i Fersiwn Wavemaker 4",help:"Cymorth a Chanllawiau ar sut i ddefnyddio Wavemaker"},google:{info:"Mewngofnodi i Google Drive",saveinfo:"Cadw Prosiect Cyfredol",files:"Fy Ffeiliau",save:"Cadw Ffeil",search:"Chwilio am Ffeiliau",logout:"Allgofnodi",close:"Cau'r ffenestr"},settings:{title:"Gosodiadau",close:"Cau'r ffeil hon",themes:" Dewis Thema",lang:"Dewis Iaith",clear:"Bydd hyn yn clirio'r prosiect",docprefs:"Dewisiadau Dogfen",alignment:"Alinio",alignL:"Alinio i'r Chwith",alignR:"Alinio i'r Dde",alignC:"Alinio Canol",alignJ:"Cyfiawnhau",fontsize:"Maint Ffont ",fontsize1:"Llai",fontsize2:"Bach",fontsize3:"Safon",fontsize4:"Mawr",fontsize5:"Mwyaf",lineheight:"Uchder Llinell",lineheight1:"Safon",lineheight2:"Bylchau Dwbl",lineheight3:"2.5 Bylchu",lineheight4:"T riple Bylchau",paragraph:"Boniad Paragraff",paragraphyes:"Ie",paragraphno:"Na",paragraphspacing:"Bylchau Paragraff",paragraphspacing1:"Bylchau Safonol",paragraphspacing2:"1.5x Bylchu",paragraphspacing3:"Bylchau 2x",paragraphspacing4:"2.5x Bylchau",paragraphspacing5:"5x Bylchau",pagewidth:" Lled y Dudalen",pagestyle:"Arddull y Dudalen",fullwidth:"Lled Llawn",pagetext:"Lliw Testun",pagecolour:"Lliw tudalen",h1align:"Aliniad H1",h2align:"Aliniad H2",h3align:"Aliniad H3",h4align:"H4 Aliniad",typewriter:"Tipysgrifwr Dewisiadau",typetext:"Lliw Testun",typepage:"Lliw Tudalen",typesound:"Sain Teipiadur",caretfocus:"Caret Auto-focus",reset:"Ailosod Rhagosodiadau"},tools:{writer:"Fy Llyfrau",planningboard:"Fy Myrddau Cynllunio",mindmap:"Fy Mapiau Meddwl",snowflake:"Fy Plu Eira",timeline:"Fy Llinell Amser",gridplanner:"Fy Nghynllunwyr Grid",cardsdatabase:"Fy Nghardiau",name:"Enw",description:"Disgrifiad (dewisol)",warn:"Rhowch Enw"},writer:{settings:"Teitl Eich Llyfr",newfile:"Adran Newydd",newfolder:"Ffolder Newydd",deletewarn:"Ydych chi am ddileu'r eitem hon? Bydd unrhyw gardiau rydych wedi eu creu yn aros yn y bas data",intro:"Dyma brif dudalen eich dogfen. Mae'r opsiynau isod.",docdownload:"Allforio ffeil .doc o'r llawysgrif hon",words:"Geiriau"},confirmmodal:{confirmdelete:"Ydych chi'n siŵr eich bod am ddileu hwn?",noundo:"Ni fyddwch yn gallu dadwneud hyn.",confirmbtn:"Ie, dilëwch hi !",cancelbtn:"Canslo",success:"Dileu!",successfeedback:"Mae hwn wedi'i ddileu.",confirmexport:"Allforio?",exportmsg:"Allforio'r teclyn hwn?",exportconfirmbtn:"Ie, Allforio hwn.",exportsuccess:"Allforiwyd",exportsuccessfeedback:"Allforiwyd yn llwyddiannus",snowconfirm:" Amnewid y Cerdyn",snowconfirmtext:"Amnewid y cerdyn gwreiddiol gyda'r tri hyn",snowconfirmbtn:"Ie, amnewid!",snowconfirmsuccess:"Amnewid",snowconfirmmsg:"Mae'r cerdyn wedi'i ddisodli"},editor:{bold:"Bold",italic:"Italig",strikethrough:"Streic trwodd",paragraph:"Paragraff",h1:"Pennawd 1",h2:"Pennawd 2",pic:"Mewnosod Llun",blist:"Rhestr Bwled",nlist:"Rhestr wedi'i Rhifo",planningboard:"Newid i'r Bwrdd Cynllunio",typewriter:"Modd teipiadur",hilight:"Testun uchafbwynt",wordcount:"Toglo gwelededd cyfrif geiriau"},mindmap:{deletenodewarn:"Do ydych chi am ddileu'r nod hwn?"},snowflake:{title:"Teitl",deletewarn:"Ydych chi'n siŵr eich bod am ddileu'r cerdyn hwn?",replacewarn:"Bydd hwn yn disodli'ch cerdyn gyda'r tri pheth newydd."},timeline:{date:"Dyddiad/Amser",title:"Teitl"},gridplanner:{newrow:"Rhes Newydd",newcol:"Colofn Newydd"},db:{search:"Chwilio yn ôl allweddeiriau",clear:"Clirio Tagiau",deletecolwarn:"Dileu'r golofn hon?",deleterowwarn:"Dileu'r rhes hon?"},cards:{createnewbtn:"Creu Newydd",linkexisting:"Dolen Cerdyn Presennol ",cardtitle:"Teitl Cerdyn",cardnotes:"Nodiadau Cerdyn",cardtags:"Tagiau Cerdyn",moredetail:"Mwy o Fanylion",images:"Delweddau (cliciwch ar ddelwedd i'w ddewis)",openimagemanager:"Rheolwr Delwedd Agored",close:"Cau"},wm3import:{close:"Cau",info:" <h1>Trawsnewidydd Fersiwn 3</h1><p>Helo, mae hwn yn declyn etifeddiaeth i'ch galluogi i lwytho eich hen ffeiliau <strong>wavemaker version 3</strong> i'r fersiwn newydd.</p><p> Gan fod y gronfa ddata tu ôl i'r llenni wedi newid tipyn mae hon yn broses un ffordd.</p><p>Bydd angen eich ffeil CRONFA DDATA (ewch i'r brif ddewislen trwy glicio ar y logo yn wavemaker 3 ac yna allforio'r gronfa ddata ) Yna dylech gael ffeil gyda'r estyniad '.wmdata'</p><p>Bydd angen i chi fewngludo pob prosiect a'i gadw i'w ffeil ei hun gan eu bod i gyd ar wahân yn y fersiwn newydd</p>",upload:"Lanlwytho cronfa ddata wavemaker"}},Kv={info:{name:"Deutsch",textdirection:"ltr"},confirm:{sure:"Sind Sie sicher?",downloadfile:"Dadurch wird eine Datei auf Ihr Gerät heruntergeladen.",fileexport:"Ja, exportieren!",filecancel:"Abbrechen",exportedsuccess:"Exportiert!",exportedmessage:"Ihre Datei wurde exportiert"},toolbar:{projecthome:"Projekt-Startseite",writer:"Meine Bücher",planningboard:"Meine Plantafeln",mindmap:"Meine Mindmaps",snowflake:"Meine Schneeflocken",timeline:"Meine Chronik",gridplanner:"Meine Rasterplaner",cardsdatabase:"Meine Karten",settings:"Einstellungen",save:"Datei speichern",googledrive:"Google Drive",quick:"Schnell-Upload",close:"Projekt schließen"},welcome:{getstarted:"Neues Projekt",loadfile:"Laden Sie eine Datei von Ihrem Gerät",loadgoogle:"Laden Sie eine Datei von Google Drive",info:"Erstellen Sie eine neue Datei oder laden Sie eine vorhandene Datei",legacy:"Ältere Tools",v3import:"Importieren Sie eine Wavemaker Version 3-Datei"},start:{projectlabel:"Mein Projektname",welcome:"Willkommen bei Wavemaker Version 4",help:"Hilfe und Anleitungen zur Vorgehensweise um Wavemaker zu verwenden"},google:{info:"Bei Google Drive anmelden",saveinfo:"Aktuelles Projekt speichern",files:"Meine Dateien",save:"Datei speichern",search:"Nach Dateien suchen",logout:"Abmelden",close:"Fenster schließen"},settings:{title:"Einstellungen",close:"Diese Datei schließen",themes:"Design auswählen",lang:"Sprache auswählen",clear:"Dadurch wird das Projekt gelöscht",docprefs:"Dokument Einstellungen",alignment:"Ausrichtung",alignL:"Linksbündig",alignR:"Rechtsbündig",alignC:"Zentriert",alignJ:"Blocksatz",fontsize:"Schriftgröße",fontsize1:"Kleinste",fontsize2:"Klein",fontsize3:"Standard",fontsize4:"Groß",fontsize5:"Größte",lineheight:"Zeilenhöhe",lineheight1:"Standard",lineheight2:"Doppelter Zeilenabstand",lineheight3:"2,5 Zeilenabstand",lineheight4:"Dreifacher Zeilenabstand",paragraph:"Absatzeinzug",paragraphyes:"Ja",paragraphno:"Nein",paragraphspacing:"Absatz Abstand",paragraphspacing1:"Standardabstand",paragraphspacing2:"1,5x Abstand",paragraphspacing3:"2x Abstand",paragraphspacing4:"2,5x Abstand",paragraphspacing5:"5x Abstand",pagewidth:"Seitenbreite",pagestyle:"Seitenstil",fullwidth:"Volle Breite",pagetext:"Textfarbe",pagecolour:"Seitenfarbe",h1align:"H1-Ausrichtung",h2align:"H2-Ausrichtung",h3align:"H3-Ausrichtung",h4align:"H4-Ausrichtung",typewriter:"Schreibmaschineneinstellungen",typetext:"Textfarbe",typepage:"Seitenfarbe",typesound:"Schreibmaschinenton",caretfocus:"Caret Auto-focus",reset:"Zurücksetzen Standardeinstellungen"},tools:{writer:"Meine Bücher",planningboard:"Meine Plantafeln",mindmap:"Meine Mindmaps",snowflake:"Meine Schneeflocken",timeline:"Meine Zeitleiste",gridplanner:"Meine Rasterplaner",cardsdatabase:"Meine Karten",name:"Name",description:"Beschreibung (optional)",warn:"Bitte geben Sie einen Namen an"},writer:{settings:"Ihr Buchtitel",newfile:"Neuer Abschnitt",newfolder:"Neuer Ordner",deletewarn:"Wollen Sie diesen Artikel löschen? Alle von Ihnen erstellten Karten bleiben in der Datenbank",intro:"Dies ist die Hauptseite für Ihr Dokument. Optionen sind unten.",docdownload:"Exportieren Sie eine .doc-Datei dieses Manuskripts",words:"Wörter"},confirmmodal:{confirmdelete:"Sind Sie sicher, dass Sie dies löschen möchten?",noundo:"Sie können dies nicht rückgängig machen.",confirmbtn:"Ja, löschen!",cancelbtn:"Abbrechen",success:"Gelöscht!",successfeedback:"Das wurde gelöscht.",confirmexport:"Exportieren?",exportmsg:"Dieses Tool exportieren?",exportconfirmbtn:"Ja, exportieren.",exportsuccess:"Exportiert",exportsuccessfeedback:"Erfolgreich exportiert",snowconfirm:"Karte ersetzen",snowconfirmtext:"Originalkarte durch diese drei ersetzen",snowconfirmbtn:"Ja, ersetzen!",snowconfirmsuccess:"Ersetzt",snowconfirmmsg:"Die Karte wurde ersetzt"},editor:{bold:"Fett",italic:"Kursiv",strikethrough:"Durchgestrichen",paragraph:"Absatz",h1:"Überschrift 1",h2:"Überschrift 2",pic:"Bild einfügen",blist:"Aufzählungszeichen",nlist:"Nummerierte Liste",planningboard:"Zur Plantafel wechseln",typewriter:"Schreibmaschinenmodus",hilight:"Texthervorhebung",wordcount:"Sichtbarkeit der Wortanzahl umschalten"},mindmap:{deletenodewarn:"Wollen Sie diesen Knoten löschen?"},snowflake:{title:"Titel",deletewarn:"Möchten Sie diese Karte wirklich löschen?",replacewarn:"Dadurch wird Ihre Karte durch die drei neuen ersetzt."},timeline:{date:"Datum/Uhrzeit",title:"Titel"},gridplanner:{newrow:"Neue Zeile",newcol:"Neue Spalte"},db:{search:"Suche nach Schlüsselwörtern",clear:"Tags löschen",deletecolwarn:"Diese Spalte löschen?",deleterowwarn:"Diese Zeile löschen?"},cards:{createnewbtn:"Neu erstellen",linkexisting:"Vorhandene Karte verknüpfen",cardtitle:"Kartentitel",cardnotes:"Kartennotizen",cardtags:"Karten-Tags",moredetail:"Mehr Details",images:"Bilder (klicken Sie auf ein Bild, um es auszuwählen)",openimagemanager:"Bild-Manager öffnen",close:"Schließen"},wm3import:{close:"Schließen",info:"<h1>Version 3 Konverter</h1>< p>Hallo, dies ist ein veraltetes Tool, mit dem Sie Ihre alten <strong>wavemaker Version 3</strong>-Dateien in die neue Version laden können.</p><p>Da sich die Datenbank hinter den Kulissen ziemlich verändert hat dies ist ein einseitiger Prozess.</p><p>Sie benötigen Ihre DATABASE-Datei (gehen Sie zum Hauptmenü, indem Sie auf das Logo in wavemaker 3 klicken, und exportieren Sie dann die Datenbank). Sie sollten dann eine Datei mit der Erweiterung ' .wmdata'</p><p>Sie müssen jedes Projekt importieren und in einer eigenen Datei speichern, da sie in der neuen Version alle separat sind</p>",upload:"Laden Sie eine Wavemaker-Datenbank hoch"}},Yv={info:{name:"Español",textdirection:"ltr"},confirm:{sure:"¿Está seguro?",downloadfile:"Esto descargará un archivo a su dispositivo.",fileexport:"¡Sí, exportalo!",filecancel:"Cancelar",exportedsuccess:"¡Exportado!",exportedmessage:"Su archivo ha sido exportado"},toolbar:{projecthome:"Inicio del proyecto",writer:"Mis libros",planningboard:"Tableros de planificación",mindmap:"Mapas mentales",snowflake:"Copos de nieve",timeline:"Líneas de tiempo",gridplanner:"Planificadores de cuadrícula",cardsdatabase:"Tarjetas",settings:"Configuración",save:"Guardar archivo",googledrive:"Google Drive",quick:"Carga rápida",close:"Cerrar proyecto"},welcome:{getstarted:"Nuevo proyecto",loadfile:"Cargue un archivo desde su dispositivo",loadgoogle:"Cargue un archivo desde Google Drive",info:"Cree un archivo nuevo o cargue uno existente",legacy:"Herramientas heredadas",v3import:"Importe un archivo Wavemaker versión 3"},start:{projectlabel:"Mi nombre de proyecto",welcome:"Bienvenido a Wavemaker versión 4",help:"Ayuda y guías sobre cómo para usar Wavemaker"},google:{info:"Iniciar sesión en Google Drive",saveinfo:"Guardar proyecto actual",files:"Archivos",save:"Guardar archivo",search:"Buscar archivos",logout:"Cerrar sesión",close:"Cerrar ventana"},settings:{title:"Configuración",close:"Cerrar este archivo",themes:"Elegir un tema",lang:"Elegir un idioma",clear:"Esto borrará el proyecto",docprefs:"Preferencias del documento",alignment:"Alineación",alignL:"Alinear a la izquierda",alignR:"Alinear a la derecha",alignC:"Alinear al centro",alignJ:"Justificar",fontsize:"Tamaño de fuente",fontsize1:"Más pequeño",fontsize2:"Pequeño",fontsize3:"Estándar",fontsize4:"Grande",fontsize5:"Más grande",lineheight:"Altura de línea",lineheight1:"Estándar",lineheight2:"Espaciado doble",lineheight3:"Espaciado 2,5",lineheight4:"Espaciado triple",paragraph:"Sangría",paragraphyes:"Sí",paragraphno:"No",paragraphspacing:"Espaciado del párrafo",paragraphspacing1:"Espaciado estándar",paragraphspacing2:"Espaciado 1,5x",paragraphspacing3:"Espaciado 2x",paragraphspacing4:"Espaciado 2,5x",paragraphspacing5:"Espaciado 5x",pagewidth:"Ancho de página",pagestyle:"Estilo de página",fullwidth:"Ancho completo",pagetext:"Color de texto",pagecolour:"Color de página",h1align:"Alineación H1",h2align:"Alineación H2",h3align:"Alineación H3",h4align:"Alineación H4",typewriter:"Preferencias de máquina de escribir",typetext:"Color de texto",typepage:"Color de página",typesound:"Sonido de máquina de escribir",caretfocus:"Caret Auto-focus",reset:"Restablecer Valores predeterminados"},tools:{writer:"Mis libros",planningboard:"Tableros de planificación",mindmap:"Mmapas mentales",snowflake:"Copos de nieve",timeline:"Líneas de tiempo",gridplanner:"Planificadores de cuadrícula",cardsdatabase:"Tarjetas",name:"Nombre",description:"Descripción (opcional)",warn:"Proporcione un nombre"},writer:{settings:"Título de su libro",newfile:"Nueva sección",newfolder:"Nueva carpeta",deletewarn:"¿Desea eliminar este elemento? Todas las tarjetas que haya creado permanecerán en la base de datos",intro:"Esta es la página principal de su documento. Las opciones están abajo.",docdownload:"Exportar un archivo .doc de este manuscrito",words:"Palabras"},confirmmodal:{confirmdelete:"¿Está seguro de que desea eliminarlo?",noundo:"No podrás deshacer esto.",confirmbtn:"¡Sí, bórralo!",cancelbtn:"Cancelar",success:"¡Eliminado!",successfeedback:"Ha sido borrado.",confirmexport:"¿Exportar?",exportmsg:"¿Exportar esta herramienta?",exportconfirmbtn:"Sí, exportar",exportsuccess:"Exportado",exportsuccessfeedback:"Exportado con éxito",snowconfirm:"Reemplazar tarjeta",snowconfirmtext:"Reemplazar la tarjeta original con estas tres",snowconfirmbtn:"¡Sí, reemplázala!",snowconfirmsuccess:"Reemplazada",snowconfirmmsg:"La tarjeta ha sido reemplazada"},editor:{bold:"Negrita",italic:"Cursiva",strikethrough:"Tachado",paragraph:"Párrafo",h1:"Encabezado 1",h2:"Encabezado 2",pic:"Insertar imagen",blist:"Lista de viñetas",nlist:"Lista numerada",planningboard:"Cambiar a tablero de planificación",typewriter:"Modo de máquina de escribir",hilight:"Resaltar texto",wordcount:"Alternar visibilidad de recuento de palabras"},mindmap:{deletenodewarn:"¿Quieres eliminar este nodo?"},snowflake:{title:"Título",deletewarn:"¿Está seguro de que desea eliminar esta tarjeta?",replacewarn:"Esto reemplazará su tarjeta con las tres nuevas."},timeline:{date:"Fecha/hora",title:"Título"},gridplanner:{newrow:"Nueva fila",newcol:"Nueva columna"},db:{search:"Buscar por palabras clave",clear:"Borrar etiquetas",deletecolwarn:"¿Eliminar esta columna?",deleterowwarn:"¿Eliminar esta fila?"},cards:{createnewbtn:"Crear nueva",linkexisting:"Vincular tarjeta existente",cardtitle:"Título de tarjeta",cardnotes:"Notas de tarjeta",cardtags:"Etiquetas de tarjeta",moredetail:"Más detalles",images:"Imágenes (haga clic en una imagen para seleccionarla)",openimagemanager:"Abrir administrador de imágenes",close:"Cerrar"},wm3import:{close:"Cerrar",info:"<h1>Convertidor de la versión 3</h1>< p>Hola, esta es una herramienta heredada que le permite cargar sus archivos antiguos de <strong>wavemaker versión 3</strong> en la nueva versión.</p><p>Como la base de datos entre bastidores ha cambiado bastante este es un proceso unidireccional.</p><p>Necesitará su archivo de BASE DE DATOS (vaya al menú principal haciendo clic en el logotipo en wavemaker 3 y luego exporte la base de datos) Entonces debería tener un archivo con la extensión ' .wmdata'</p><p>Tendrá que importar cada proyecto y guardarlo en su propio archivo, ya que todos están separados en la nueva versión</p>",upload:"Cargue una base de datos de wavemaker"}},Jv={info:{name:"Français",textdirection:"ltr"},confirm:{sure:"Êtes-vous sûr ?",downloadfile:"Ceci téléchargera un fichier sur votre appareil.",fileexport:"Oui, exportation !",filecancel:"Annuler",exportedsuccess:"Exporté !",exportedmessage:"Votre fichier a été exporté"},toolbar:{projecthome:"Accueil du projet",writer:"Mes livres",planningboard:"Mes tableaux de planification",mindmap:"Mes Mindmaps",snowflake:"Mes flocons de neige",timeline:"Ma chronologie",gridplanner:"Mes grilles de planification",cardsdatabase:"Mes cartes",settings:"Paramètres",save:"Enregistrer le fichier",googledrive:"Google Drive",quick:"Téléchargement rapide",close:"Fermer le projet"},welcome:{getstarted:"Nouveau projet",loadfile:"Charger un fichier depuis votre appareil",loadgoogle:"Charger un fichier depuis Google Drive",info:"Créer un nouveau fichier ou charger un fichier existant",legacy:"Outils hérités",v3import:"Importer un fichier Wavemaker Version 3"},start:{projectlabel:"Mon nom de projet",welcome:"Bienvenue dans Wavemaker Version 4",help:"Aide et guides pour utiliser Wavemaker"},google:{info:"Se connecter à Google Drive",saveinfo:"Enregistrer le projet actuel",files:"Mes fichiers",save:"Enregistrer le fichier",search:"Rechercher des fichiers",logout:"Se déconnecter",close:"Fermer la fenêtre"},settings:{title:"Paramètres",close:"Fermer ce fichier",themes:"Choisir un thème",lang:"Choisir une langue",clear:"Ceci effacera le projet",docprefs:"Document Préférences",alignment:"Alignement",alignL:"Aligner à gauche",alignR:"Aligner à droite",alignC:"Aligner au centre",alignJ:"Justifier",fontsize:"Taille de la police",fontsize1:"La plus petite",fontsize2:"Petit",fontsize3:"Standard",fontsize4:"Grand",fontsize5:"La plus grande",lineheight:"Hauteur de ligne",lineheight1:"Standard",lineheight2:"Double interligne",lineheight3:"Espacement 2,5",lineheight4:"Triple interligne",paragraph:"Retrait de paragraphe",paragraphyes:"Oui",paragraphno:"Non",paragraphspacing:"Espacement de Paragraphe",paragraphspacing1:"Espacement standard",paragraphspacing2:"Espacement 1,5x",paragraphspacing3:"Espacement 2x",paragraphspacing4:"Espacement 2,5x",paragraphspacing5:"Espacement 5x",pagewidth:"Largeur de page",pagestyle:"Style de page",fullwidth:"Pleine largeur",pagetext:"Couleur de texte",pagecolour:"Couleur de la page",h1align:"Alignement H1",h2align:"Alignement H2",h3align:"Alignement H3",h4align:"Alignement H4",typewriter:"Préférences de la machine à écrire",typetext:"Couleur de texte",typepage:"Couleur de la page",typesound:"Son de la machine à écrire",caretfocus:"Caret Auto-focus",reset:"Réinitialiser les valeurs par défaut"},tools:{writer:"Mes livres",planningboard:"Mes tableaux de planification",mindmap:"Mes cartes mentales",snowflake:"Mes flocons de neige",timeline:"Ma chronologie",gridplanner:"Mes planificateurs de grille",cardsdatabase:"Mes cartes",name:"Nom",description:"Description (facultatif)",warn:"Veuillez fournir un nom"},writer:{settings:"Titre de votre livre",newfile:"Nouvelle section",newfolder:"Nouveau dossier",deletewarn:"Voulez-vous supprimer cet article ? Toutes les cartes que vous avez créées resteront dans la base de données",intro:"Il s'agit de la page principale de votre document. Voir les options ci-dessous.",docdownload:"Exporter un fichier .doc de ce manuscrit",words:"Mots"},confirmmodal:{confirmdelete:"Êtes-vous sûr de vouloir le supprimer ?",noundo:"Vous ne pourrez pas revenir en arrière.",confirmbtn:"Oui, suppression !",cancelbtn:"Annuler",success:"Supprimé !",successfeedback:"Cela a été supprimé.",confirmexport:"Exporter ?",exportmsg:"Exporter cet outil ?",exportconfirmbtn:"Oui, exportation.",exportsuccess:"Exporté",exportsuccessfeedback:"Exporté avec succès",snowconfirm:"Remplacer la carte",snowconfirmtext:"Remplacez la carte d'origine par ces trois",snowconfirmbtn:"Oui, remplacement !",snowconfirmsuccess:"Remplacé",snowconfirmmsg:"La carte a été remplacée"},editor:{bold:"Gras",italic:"Italique",strikethrough:"Barré",paragraph:"Paragraphe",h1:"Titre 1",h2:"Titre 2",pic:"Insérer une image",blist:"Liste à puces",nlist:"Liste numérotée",planningboard:"Passer au tableau de planification",typewriter:"Mode machine à écrire",hilight:"Texte en surbrillance",wordcount:"Basculer la visibilité du nombre de mots"},mindmap:{deletenodewarn:"Voulez-vous supprimer ce nœud ?"},snowflake:{title:"Titre",deletewarn:"Voulez-vous vraiment supprimer cette carte ?",replacewarn:"Cela remplacera votre carte par trois nouvelles."},timeline:{date:"Date/Heure",title:"Titre"},gridplanner:{newrow:"Nouvelle ligne",newcol:"Nouvelle colonne"},db:{search:"Recherche par mots clés",clear:"Effacer les balises",deletecolwarn:"Supprimer cette colonne ?",deleterowwarn:"Supprimer cette ligne ?"},cards:{createnewbtn:"Créer un nouveau",linkexisting:"Lier une carte existante",cardtitle:"Titre de la carte",cardnotes:"Notes de la carte",cardtags:"Étiquettes de la carte",moredetail:"Plus de détails",images:"Images (cliquez sur une image pour la sélectionner)",openimagemanager:"Ouvrir le gestionnaire d'images",close:"Fermer"},wm3import:{close:"Fermer",info:"<h1>Version 3 Converter</h1>< p>Bonjour, il s'agit d'un outil hérité qui vous permet de charger vos anciens fichiers <strong>wavemaker version 3</strong> dans la nouvelle version.</p><p>Comme la base de données a changé en profondeur, c'est un processus à sens unique.</p><p>Vous aurez besoin de votre fichier DATABASE (allez dans le menu principal en cliquant sur le logo dans wavemaker 3 puis exportez la base de données) Vous devriez alors avoir un fichier avec l'extension ' .wmdata'</p><p>Vous devrez importer chaque projet et l'enregistrer dans son propre fichier car ils sont tous séparés dans la nouvelle version</p>",upload:"Téléchargez une base de données Wavemaker"}},Xv={info:{name:"Türkçe",textdirection:"ltr"},confirm:{sure:"Emin misiniz?",downloadfile:"Bu, cihazınıza bir dosya indirecek.",fileexport:"Evet, Dışa Aktar!",filecancel:"İptal",exportedsuccess:"Dışa aktarıldı!",exportedmessage:"Dosyanız dışa aktarıldı"},toolbar:{projecthome:"Proje Ana Sayfası",writer:"Kitaplarım",planningboard:"Planlama Panolarım",mindmap:"Zihin Haritalarım",snowflake:"Kar Tanelerim",timeline:"Zaman Çizelgem",gridplanner:"Kılavuz Planlayıcılarım",cardsdatabase:"Kartlarım",settings:"Ayarlar",save:"Dosyayı Kaydet",googledrive:"Google Drive",quick:"Hızlı Yükleme",close:"Projeyi Kapat"},welcome:{getstarted:"Yeni Proje",loadfile:"Cihazınızdan bir dosya yükleyin",loadgoogle:"Google Drive'dan bir dosya yükleyin",info:"Yeni bir dosya oluşturun veya mevcut bir dosyayı yükleyin",legacy:"Eski Araçlar",v3import:"Bir Wavemaker Sürüm 3 dosyasını içe aktarın"},start:{projectlabel:"Proje Adım",welcome:"Wavemaker Sürüm 4'e Hoş Geldiniz",help:"Wavemaker'ın nasıl kullanılacağına ilişkin Yardım ve Kılavuzlar"},google:{info:"Google Drive'da Oturum Açın",saveinfo:"Mevcut Projeyi Kaydet",files:"Dosyalarım",save:"Dosyayı Kaydet",search:"Dosyalarda Ara",logout:"Oturumu Kapat",close:"Pencereyi Kapat"},settings:{title:"Ayarlar",close:"Bu dosyayı kapat",themes:" Bir Tema Seçin",lang:"Dil Seçin",clear:"Bu, projeyi temizleyecektir",docprefs:"Belge Tercihleri",alignment:"Hizalama",alignL:"Sola Hizala",alignR:"Sağa Hizala",alignC:"Ortala",alignJ:"Yasla",fontsize:"Yazı Tipi Boyutu ",fontsize1:"En Küçük",fontsize2:"Küçük",fontsize3:"Standart",fontsize4:"Büyük",fontsize5:"En Büyük",lineheight:"Çizgi Yüksekliği",lineheight1:"Standart",lineheight2:"Çift Aralıklı",lineheight3:"2,5 Aralık",lineheight4:"Üç Aralıklı",paragraph:"Paragraf Girintisi",paragraphyes:"evet",paragraphno:"Hayır",paragraphspacing:"Paragraf Boşluğu",paragraphspacing1:"Standart Boşluk",paragraphspacing2:"1,5x Aralık",paragraphspacing3:"2x Aralık",paragraphspacing4:"2,5x Aralık",paragraphspacing5:"5x Aralık",pagewidth:" Sayfa Genişliği",pagestyle:"Sayfa Stili",fullwidth:"Tam Genişlik",pagetext:"Metin Rengi",pagecolour:"Sayfa Rengi",h1align:"H1 Hizalama",h2align:"H2 Hizalama",h3align:"H3 Hizalama",h4align:"H4 Hizalama",typewriter:"Daktilo Tercihleri",typetext:" Metin Rengi",typepage:"Sayfa Rengi",typesound:"Daktilo Sesi",caretfocus:"Caret Auto-focus",reset:"Varsayılanları Sıfırla"},tools:{writer:"Kitaplarım",planningboard:"Planlama Panolarım",mindmap:"Zihin Haritalarım",snowflake:"Kar Tanelerim",timeline:"Zaman Çizelgem",gridplanner:"Kılavuz Planlayıcılarım",cardsdatabase:"Kartlarım",name:"İsim",description:"Açıklama (isteğe bağlı)",warn:"Lütfen bir Ad girin"},writer:{settings:"Kitabınızın Başlığı",newfile:"Yeni Bölüm",newfolder:"Yeni Klasör",deletewarn:"Bu öğeyi silmek istiyor musunuz? Oluşturduğunuz tüm kartlar veritabanında kalacaktır",intro:"Bu, belgenizin ana sayfasıdır. Seçenekler aşağıdadır.",docdownload:"Bu taslağın bir .doc dosyasını dışa aktar",words:"Kelimeler"},confirmmodal:{confirmdelete:"Bunu silmek istediğinizden emin misiniz?",noundo:"Bunu geri alamayacaksınız.",confirmbtn:"Evet, silin.",cancelbtn:"İptal",success:"Silindi!",successfeedback:"Bu silindi.",confirmexport:"Dışa aktarılsın mı?",exportmsg:"Bu araç dışa aktarılsın mı?",exportconfirmbtn:"Evet, Bunu dışa aktarın.",exportsuccess:"Dışa aktarıldı",exportsuccessfeedback:"Başarıyla dışa aktarıldı",snowconfirm:" Kartı Değiştir",snowconfirmtext:"Orijinal kartı bu üç kartla değiştirin",snowconfirmbtn:"Evet, değiştirin!",snowconfirmsuccess:"Değiştirildi",snowconfirmmsg:"Kart değiştirildi"},editor:{bold:"Kalın",italic:"İtalik",strikethrough:"Üstü çizili",paragraph:"Paragraf",h1:"Başlık 1",h2:"Başlık 2",pic:"Resim Ekle",blist:"Madde Listesi",nlist:"Numaralı Liste",planningboard:"Planlama panosuna geç",typewriter:"Daktilo modu",hilight:"Metin vurgusu",wordcount:"Kelime sayısı görünürlüğünü değiştir"},mindmap:{deletenodewarn:"Bu düğümü silmek istiyor musunuz?"},snowflake:{title:"Başlık",deletewarn:"Bu kartı silmek istediğinizden emin misiniz?",replacewarn:"Bu işlem, kartınızı üç yeni kartla değiştirecek."},timeline:{date:"Tarih/Saat",title:"Başlık"},gridplanner:{newrow:"Yeni Satır",newcol:"Yeni Sütun"},db:{search:"Anahtar kelimelere göre ara",clear:"Etiketleri Temizle",deletecolwarn:"Bu sütun silinsin mi?",deleterowwarn:"Bu satır silinsin mi?"},cards:{createnewbtn:"Yeni Oluştur",linkexisting:"Mevcut Kartı Bağla ",cardtitle:"Kart Başlığı",cardnotes:"Kart Notları",cardtags:"Kart Etiketleri",moredetail:"Daha Fazla Ayrıntı",images:"Görüntüler (seçmek için bir görüntüye tıklayın)",openimagemanager:"Görüntü Yöneticisini Aç",close:"Kapat"},wm3import:{close:"Kapat",info:" <h1>Sürüm 3 Dönüştürücü</h1><p>Merhaba, bu, eski <strong>wavemaker sürüm 3</strong> dosyalarınızı yeni sürüme yüklemenizi sağlayan eski bir araçtır.</p><p> Sahne arkası veritabanı biraz değiştiği için bu tek yönlü bir işlemdir.</p><p>VERİTABANI dosyanıza ihtiyacınız olacak (wavemaker 3'te logoya tıklayarak ana menüye gidin ve ardından veritabanını dışa aktarın) ) O zaman '.wmdata' uzantılı bir dosyanız olmalı</p><p>Yeni versiyonda hepsi ayrı olduğu için her projeyi ayrı ayrı içe aktarıp kendi dosyasına kaydetmeniz gerekecek</p>",upload:"Bir wavemaker veritabanı yükleyin"}},Qv={info:{name:"Português",textdirection:"ltr"},confirm:{sure:"Tem certeza?",downloadfile:"Isso baixará um arquivo para o seu dispositivo.",fileexport:"Sim, exportar!",filecancel:"Cancelar",exportedsuccess:"Exportado!",exportedmessage:"Seu arquivo foi exportado"},toolbar:{projecthome:"Início",writer:"Meus Livros",planningboard:"Meus Quadros de Planejamento",mindmap:"Meus Mapas Mentais",snowflake:"Meus Flocos de Neve",timeline:"Minhas Linhas do Tempo",gridplanner:"Meus Planejadores de Grade",cardsdatabase:"Meus Cartões",settings:"Configurações",save:"Salvar Arquivo",googledrive:"Google Drive",quick:"Carregamento Rápido",close:"Fechar Projeto"},welcome:{getstarted:"Novo Projeto",loadfile:"Carregar um arquivo do seu dispositivo",loadgoogle:"Carregar um arquivo do Google Drive",info:"Crie um novo arquivo, ou carregue um existente",legacy:"Ferramentas Legadas",v3import:"Importar um arquivo de Wavemaker Version 3"},start:{projectlabel:"Nome do Meu Projeto",welcome:"Bem-vindo ao Wavemaker Version 4",help:"Ajuda & Guias em como usar o Wavemaker"},google:{info:"Conectar ao Google Drive",saveinfo:"Salvar Projeto Atual",files:"Meus Arquivos",save:"Salvar Arquivo",search:"Procurar Arquivos",logout:"Sair",close:"Fechar janela"},settings:{title:"Configurações",close:"Fechar este arquivo",themes:"Escolha um tema",lang:"Escolha um Idioma",clear:"Isso limpará o projeto",docprefs:"Preferências do Documento",alignment:"Alinhamento",alignL:"Alinhar à Esquerda",alignR:"Alinhar à Direita",alignC:"Centralizar",alignJ:"Justificar",fontsize:"Tamanho da Fonte",fontsize1:"Menor",fontsize2:"Pequeno",fontsize3:"Padrão",fontsize4:"Grande",fontsize5:"Maior",lineheight:"Altura de Linha",lineheight1:"Padrão",lineheight2:"Duplo",lineheight3:"Espaçamento 2.5",lineheight4:"Triplo",paragraph:"Recuo de Parágrafo",paragraphyes:"Sim",paragraphno:"Não",paragraphspacing:"Espaçamento de Parágrafo",paragraphspacing1:"Padrão",paragraphspacing2:"Espaçamento 1.5x",paragraphspacing3:"Espaçamento 2x",paragraphspacing4:"Espaçamento 2.5x",paragraphspacing5:"Espaçamento 5x",pagewidth:"Largura da Página",pagestyle:"Estilo da Página",fullwidth:"Largura Total",pagetext:"Cor do Texto",pagecolour:"Cor da Página",h1align:"Alinhamento Título 1",h2align:"Alinhamento Título 2",h3align:"Alinhamento Título 3",h4align:"Alinhamento Título 4",typewriter:"Preferências de Máquina de Escrever",typetext:"Cor do Texto",typepage:"Cor da Página",typesound:"Sons de Máquina de Escrever",caretfocus:"Caret Auto-focus",reset:"Restaurar ao Padrão"},tools:{writer:"Meus Livros",planningboard:"Meus Quadros de Planejamento",mindmap:"Meus Mapas Mentais",snowflake:"Meus Flocos de Neve",timeline:"Minhas Linhas do Tempo",gridplanner:"Meus Planejadores de Grade",cardsdatabase:"Meus Cartões",name:"Nome",description:"Descrição (opcional)",warn:"Por favor definir um Nome"},writer:{settings:"Título do Seu Livro",newfile:"Nova Seção",newfolder:"Nova Pasta",deletewarn:"Deseja excluir este item? Quaisquer cartões criados permanecerão no banco de dados",intro:"Essa é a página principal do seu documento. Opções se encontram abaixo.",docdownload:"Exportar um arquivo .doc desse manuscrito",words:"Palavras"},confirmmodal:{confirmdelete:"Tem certeze que deseja excluir isto?",noundo:"Você não poderá desfazer esta ação.",confirmbtn:"Sim, excluir!",cancelbtn:"Cancelar",success:"Excluído!",successfeedback:"Item excluído com sucesso.",confirmexport:"Exportar?",exportmsg:"Exportar esta ferramenta?",exportconfirmbtn:"Sim, exportar.",exportsuccess:"Exportar",exportsuccessfeedback:"Exportado com sucesso",snowconfirm:"Substituir Cartão",snowconfirmtext:"Substituir cartão original com estes três",snowconfirmbtn:"Sim, subsituir!",snowconfirmsuccess:"Substituído",snowconfirmmsg:"O cartão foi substituído"},editor:{bold:"Negrito",italic:"Itálico",strikethrough:"Tachado",paragraph:"Parágrafo",h1:"Título 1",h2:"Título 2",pic:"Inserir Imagem",blist:"Lista de Marcadores",nlist:"Lista Numérica",planningboard:"Trocar para Quadro de Planejamento",typewriter:"Modo Máquina de Escrever",hilight:"Realçar Texto",wordcount:"Ativar visão de contagem de palavras"},mindmap:{deletenodewarn:"Deseja deletar este nódulo?"},snowflake:{title:"Título",deletewarn:"Deseja excluir este cartão?",replacewarn:"Esta ação substituirá seu cartão com três cartões novos."},timeline:{date:"Data/Hora",title:"Título"},gridplanner:{newrow:"Nova Linha",newcol:"Nova Coluna"},db:{search:"Procurar por palavras-chave",clear:"Limpar Etiquetas",deletecolwarn:"Excluir esta coluna?",deleterowwarn:"Excluir esta linha?"},cards:{createnewbtn:"Criar Novo",linkexisting:"Vincular a Cartão Existente",cardtitle:"Título do Cartão",cardnotes:"Notas do Cartão",cardtags:"Etiquetas do Cartão",moredetail:"Mais Detalhes",images:"Imagens (clique numa imagem para escolher)",openimagemanager:"Abrir Gerenciador de Imagens",close:"Fechar"},wm3import:{close:"Fechar",info:"<h1>Conversor da Versão 3</h1><p>Olá, essa é uma ferranebta legada que permite qye você carregue seus antigos arquivos de <strong>wavemaker versão 3</strong> na nova versão.</p><p>Como o banco de dados nos bastidores foi alterado bastante, este é um processo de mão única.</p><p>Você precisará do seu arquivo de BASE DE DADOS (vá ao menu principal clicando no logo no wavemaker 3, e então exporte o banco de dados). Você então deverá ter um arquivo com a extensão '.wmdata'</p><p>Você precisará importar cada projeto e salvar como seu próprio arquivo, uma vez que eles são objetos separados na nova versão</p>",upload:"Carregar um banco de dados wavemaker"}},ey={info:{name:"中文",textdirection:"ltr"},confirm:{sure:"您确定吗？",downloadfile:"这将下载一个文件到您的设备。",fileexport:"是的，导出它！",filecancel:"取消",exportedsuccess:"已导出！",exportedmessage:"您的文件已导出"},toolbar:{projecthome:"项目主页",writer:"我的书",planningboard:"我的规划板",mindmap:"我的思维导图",snowflake:"我的雪花板",timeline:"我的时间线",gridplanner:"我的网格规划板",cardsdatabase:"我的卡片",settings:"设置",save:"保存文件",googledrive:"Google Drive",quick:"快速上传",close:"关闭项目"},welcome:{getstarted:"新项目",loadfile:"从您的设备加载文件",loadgoogle:"从 Google Drive 加载文件",info:"创建一个新文件，或加载一个现有文",legacy:"旧版工具",v3import:"导入一个 Wavemaker 3.0 文件"},start:{projectlabel:"我的项目名称",welcome:"欢迎使用 Wavemaker 4.0",help:"帮助和指南：如何使用 Wavemaker"},google:{info:"登录 Google Drive",saveinfo:"保存当前项目",files:"我的文件",save:"保存文件",search:"搜索文件",logout:"登出",close:"关闭窗口"},settings:{title:"设置",close:"关闭此文件",themes:"选择主题",lang:"选择语言",clear:"这将清除项目",docprefs:"文档首选项",alignment:"对齐",alignL:"向左对齐",alignR:"向右对齐",alignC:"居中对齐",alignJ:"两端对齐",fontsize:"字体大小",fontsize1:"最小",fontsize2:"小",fontsize3:"标准",fontsize4:"大",fontsize5:"最大",lineheight:"行高",lineheight1:"标准",lineheight2:"2 倍行距",lineheight3:"2.5 倍行距",lineheight4:"3 倍行距",paragraph:"段落缩进",paragraphyes:"是",paragraphno:"否",paragraphspacing:"段落间距",paragraphspacing1:"标准间距",paragraphspacing2:"1.5 倍间距",paragraphspacing3:"2 倍间距",paragraphspacing4:"2.5 倍间距",paragraphspacing5:"5 倍间距",pagewidth:"页面宽度",pagestyle:"页面定宽",fullwidth:"自适应全宽",pagetext:"文本颜色",pagecolour:"页面颜色",h1align:"H1 对齐",h2align:"H2 对齐",h3align:"H3 对齐",h4align:"H4 对齐",typewriter:"打字机模式首选项",typetext:"文本颜色",typepage:"页面颜色",typesound:"打字机声音模拟",caretfocus:"Caret Auto-focus",reset:"恢复默认设置"},tools:{writer:"我的书",planningboard:"我的规划板",mindmap:"我的思维导图",snowflake:"我的雪花板",timeline:"我的时间线",gridplanner:"我的网格规划板",cardsdatabase:"我的卡片",name:"名称",description:"描述（可选）",warn:"请提供一个名称"},writer:{settings:"您的书名",newfile:"新章节",newfolder:"新文件夹",deletewarn:"您要删除此对象吗？ 您创建的所有卡片都将保留在数据库中",intro:"这是您的文档主页。 选项如下。",docdownload:"导出此稿件的 .doc 文件",words:"字数"},confirmmodal:{confirmdelete:"您确定要删除它吗？",noundo:"您将无法撤消此操作。",confirmbtn:"是的，删除它 ！",cancelbtn:"取消",success:"已删除！",successfeedback:"已将它成功删除。",confirmexport:"导出？",exportmsg:"导出这个工具？",exportconfirmbtn:"是，导出它。",exportsuccess:"已导出",exportsuccessfeedback:"成功导出",snowconfirm:"替换卡片",snowconfirmtext:"用这三个新卡片替换原来的卡片",snowconfirmbtn:"是的，替换它！",snowconfirmsuccess:"已替换",snowconfirmmsg:"卡片已被替换"},editor:{bold:"粗体",italic:"斜体",strikethrough:"删除线",paragraph:"段落",h1:"标题 1",h2:"标题 2",pic:"插入图片",blist:"插入项目列表",nlist:"插入编号列表",planningboard:"切换到规划板",typewriter:"打字机模式",hilight:"文本高亮",wordcount:"切换字数统计模式"},mindmap:{deletenodewarn:"您想删除这个节点吗？"},snowflake:{title:"标题",deletewarn:"您确定要删除这张卡片吗？",replacewarn:"这将用三张新卡片替换原来的卡片。"},timeline:{date:"日期/时间",title:"标题"},gridplanner:{newrow:"新行",newcol:"新列"},db:{search:"按关键字搜索",clear:"清除标签",deletecolwarn:"删除此列？",deleterowwarn:"删除此行？"},cards:{createnewbtn:"新建",linkexisting:"链接到现有卡片",cardtitle:"卡片标题",cardnotes:"卡片注释",cardtags:"卡片标签",moredetail:"更多细节",images:"图片（单击图片进行选择）",openimagemanager:"打开图片管理器",close:"关闭"},wm3import:{close:"关闭",info:"<h1>3.0 版本转换器</h1><p>您好，这是一个旧版工具，可让您将旧的<strong>wavemaker 3.0</strong>文件加载到新版本中。</p><p> 由于后台数据库发生了很大变化，这是一个单向过程。</p><p>这将用到您的数据库文件（通过单击 wavemaker 3.0 中的 logo 转到主菜单，然后导出数据库 ) ，而后您应得到一个扩展名为“.wmdata”的文件</p><p>您需要导入每个项目并将其保存到各自的文件中，因为它们在新版本中都是独立的</p>",upload:"上传 wavemaker 数据库"}},ty={en:qv,cy:Zv,de:Kv,es:Yv,fr:Jv,tr:Xv,pt:Qv,cn:ey},ny={name:"CardViewer",emits:["cardChange"],components:{MiniEditor:Bi,MiniImage:Si},computed:{taginputwidth(){return this.tag&&this.tag.length>6?this.tag.length:6},imageList(){let t=[];return this.cardInfo&&this.cardInfo.images.forEach(async e=>{let n=await this.$root.getImage(e);n?t.push(n):this.cardInfo.images=this.cardInfo.images.filter(o=>o!==e)}),t}},data(){return{tag:null,animate:!1,cardInfo:null}},methods:{updatecard(){console.log("updating"),this.cardInfo.updateWindow=this.$root.windowID,this.$root.UpdateRecord("Cards",this.$root.$data.session.EditCard,this.cardInfo)},chooseImage(t){this.cardInfo.showimage!=t?this.cardInfo.showimage=t:this.cardInfo.showimage=null,console.log("image "+t),this.updatecard()},tagger(){this.tag&&(this.cardInfo.labels.push(this.tag),this.tag=null,this.updatecard())},removetag(t){this.cardInfo.labels.splice(t,1),this.updatecard()},setCardColor(t){this.cardInfo.color="--card"+t,this.updatecard()},addImage(){this.$root.imagemanager={table:"Cards",targetuuid:this.$root.$data.session.EditCard,target:this.cardInfo.images,updateObj:this.cardInfo}},deleteImage(t){this.cardInfo.images.splice(t,1),this.updatecard()}},mounted(){this.cardInfo=fn(hn(async()=>await Rt.Cards.get(this.$root.$data.session.EditCard))),this.animate=!0},beforeUnmount(){this.animate=!1}},oy={key:0,class:"scrollHolder"},iy={class:"colorbox"},sy={class:"inputHolder"},ry={class:"inputHolder"},ay={class:"inputHolder"},ly=["onClick"],dy={class:"inputHolder"},uy={class:"inputHolder"},cy=["onClick"],py=["title"];function hy(t,e,n,o,r,s){const a=Q("MiniEditor"),u=Q("MiniImage");return f(),Te(Zn,{name:"bounce"},{default:bt(()=>[r.animate?(f(),y("div",oy,[i("div",{id:"overlay",onClick:e[0]||(e[0]=p=>t.$root.$data.session.EditCard=null)}),r.cardInfo?(f(),y("div",{key:0,class:"cardEditorHolder",style:It("background-color: var("+this.cardInfo.color+"); color : var("+this.cardInfo.color+"-f); fill : var("+this.cardInfo.color+"-f)")},[i("button",{onClick:e[1]||(e[1]=p=>t.$root.$data.session.EditCard=null),class:"clearInterfaceIconButton closebtn"},[...e[19]||(e[19]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"})],-1)])]),i("div",iy,[i("button",{class:"c1",onClick:e[2]||(e[2]=p=>s.setCardColor(1))}),i("button",{class:"c2",onClick:e[3]||(e[3]=p=>s.setCardColor(2))}),i("button",{class:"c3",onClick:e[4]||(e[4]=p=>s.setCardColor(3))}),i("button",{class:"c4",onClick:e[5]||(e[5]=p=>s.setCardColor(4))}),i("button",{class:"c5",onClick:e[6]||(e[6]=p=>s.setCardColor(5))}),i("button",{class:"c6",onClick:e[7]||(e[7]=p=>s.setCardColor(6))}),i("button",{class:"c7",onClick:e[8]||(e[8]=p=>s.setCardColor(7))})]),i("label",null,k(this.$root.setlang.cards.cardtitle),1),i("div",sy,[ue(i("input",{class:"cardTitle",placeholder:"Title","onUpdate:modelValue":e[9]||(e[9]=p=>this.cardInfo.title=p),onChange:e[10]||(e[10]=(...p)=>s.updatecard&&s.updatecard(...p))},null,544),[[Ee,this.cardInfo.title]])]),i("label",null,[ye(k(this.$root.setlang.cards.cardnotes)+" ",1),ue(i("input",{type:"checkbox",value:"true","onUpdate:modelValue":e[11]||(e[11]=p=>this.cardInfo.showdesc=p),onChange:e[12]||(e[12]=p=>s.updatecard())},null,544),[[li,this.cardInfo.showdesc]])]),i("div",ry,[_e(a,{modelValue:this.cardInfo.description,"onUpdate:modelValue":e[13]||(e[13]=p=>this.cardInfo.description=p),onUpdated:s.updatecard},null,8,["modelValue","onUpdated"])]),i("label",null,k(this.$root.setlang.cards.cardtags),1),i("div",ay,[(f(!0),y(ae,null,Ne(this.cardInfo.labels,(p,c)=>(f(),y("span",{class:"tag",key:c},[ye(k(p)+" ",1),i("button",{onClick:b=>s.removetag(c)},[...e[20]||(e[20]=[i("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24","data-v-024bf5af":""},[i("path",{d:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z","data-v-024bf5af":""})],-1)])],8,ly)]))),128)),ue(i("input",{placeholder:"#",onChange:e[14]||(e[14]=(...p)=>s.tagger&&s.tagger(...p)),"onUpdate:modelValue":e[15]||(e[15]=p=>r.tag=p),class:"tagInput",style:It("width: "+s.taginputwidth+"ch")},null,36),[[Ee,r.tag]])]),i("label",null,k(this.$root.setlang.cards.moredetail),1),i("div",dy,[_e(a,{modelValue:this.cardInfo.content,"onUpdate:modelValue":e[16]||(e[16]=p=>this.cardInfo.content=p),onUpdated:s.updatecard},null,8,["modelValue","onUpdated"])]),e[24]||(e[24]=i("hr",null,null,-1)),i("label",null,k(this.$root.setlang.cards.images),1),i("div",uy,[(f(!0),y(ae,null,Ne(this.cardInfo.images,(p,c)=>(f(),y("div",{key:c,class:"imgHolder"},[i("button",{class:"deleteBtn",onClick:b=>s.deleteImage(c),style:It(this.cardInfo.showimage===p?"display:none":"")},[...e[21]||(e[21]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"})],-1)])],12,cy),_e(u,{uuid:p,class:Fe(this.cardInfo.showimage===p?"selectedImg":"unselectedImg"),onClick:b=>s.chooseImage(p)},null,8,["uuid","class","onClick"])]))),128))]),i("button",{onClick:e[17]||(e[17]=p=>s.addImage()),class:"interfaceBtn",title:this.$root.setlang.settings.title},[e[22]||(e[22]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M7,15L11.5,9L15,13.5L17.5,10.5L21,15M22,4H14L12,2H6A2,2 0 0,0 4,4V16A2,2 0 0,0 6,18H22A2,2 0 0,0 24,16V6A2,2 0 0,0 22,4M2,6H0V11H0V20A2,2 0 0,0 2,22H20V20H2V6Z"})],-1)),ye(" "+k(this.$root.setlang.cards.openimagemanager),1)],8,py),i("button",{onClick:e[18]||(e[18]=p=>t.$root.$data.session.EditCard=null),class:"interfaceBtn",style:{float:"right"}},[e[23]||(e[23]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"})],-1)),ye(" "+k(this.$root.setlang.cards.close),1)])],4)):V("",!0)])):V("",!0)]),_:1})}const fy=He(ny,[["render",hy],["__scopeId","data-v-c8c45434"]]),gy={name:"ImageViewer",components:{MasonryWall:ar},data(){return{imagesArray:fn(hn(async()=>await Rt.ImageLibrary.toArray())),newimage:{title:null,base64:null}}},methods:{triggerUpload(){this.$refs.imageloader.click()},closeImageManager(){this.$root.EditCardrefresh=this.$root.uuid(),this.$root.imagemanager=null},updateCanvasImage(t){var e=this,n=t.target.files,o=new FileReader;o.onload=r=>{var s=new Image;s.onload=function(){e.drawCanvasImage(s)},s.src=r.target.result,this.newimage.title=n[0].name},o.readAsDataURL(n[0])},drawCanvasImage(t){var e=this.$refs.imageCanvas;e.width=500,e.height=t.height/(t.width/500);var n=e.getContext("2d");n.drawImage(t,0,0,t.width,t.height,0,0,e.width,e.height),this.newimage.base64=e.toDataURL("image/jpeg").split(";base64,")[1]},async addNewImage(){let t=this.$root.uuid(),e={};e.uuid=t,e.title=this.newimage.title,e.base64=this.newimage.base64,await this.$root.AddRecord("ImageLibrary",e),this.newimage.title=null,this.newimage.base64=null},async deleteImage(t){this.$swal({title:"Are you sure?",text:"You won't be able to undo this!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(async e=>{e.isConfirmed&&(await this.$root.db.ImageLibrary.delete(t),this.$swal("Deleted!","Your file has been deleted.","success"))})},pickImage(t){this.$root.imagemanager.targetuuid&&(this.$root.imagemanager.table==="Cards"&&this.$root.imagemanager.target.push(t),this.$root.imagemanager.table==="Gridplanner"&&(this.$root.imagemanager.target.text=t),this.$root.UpdateRecord(this.$root.imagemanager.table,this.$root.imagemanager.targetuuid,this.$root.imagemanager.updateObj),this.closeImageManager())}}},my={key:0,class:"imageWindow"},vy={key:0,class:"imageScroller"},yy={class:"imgBox"},by=["src"],wy={style:{"margin-top":"-10px","text-align":"right"}},Cy=["onClick"],$y=["onClick"],Ly={key:1,class:"uploadFrame"},ky=["src"],xy={class:"toolbar"},Hy={id:"imageCanvas",ref:"imageCanvas",style:{display:"none"}},Ay={key:0};function Vy(t,e,n,o,r,s){const a=Q("masonry-wall");return f(),y(ae,null,[e[12]||(e[12]=i("div",{class:"backdrop"},null,-1)),r.imagesArray?(f(),y("div",my,[this.newimage.base64?V("",!0):(f(),y("div",vy,[_e(a,{items:r.imagesArray,"ssr-columns":1,"column-width":300,gap:16},{default:bt(({item:u})=>[i("div",yy,[i("img",{src:"data:image/png;base64,"+u.base64},null,8,by),i("div",wy,[this.$root.imagemanager.targetuuid?(f(),y("button",{key:0,onClick:p=>s.pickImage(u.uuid),class:"interfaceBtn chooseBtn"},[...e[6]||(e[6]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M19,19H5V5H19M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M13.96,12.29L11.21,15.83L9.25,13.47L6.5,17H17.5L13.96,12.29Z"})],-1),ye(" Link this Image ",-1)])],8,Cy)):V("",!0),i("button",{class:"interfaceBtn deleteBtn",onClick:p=>s.deleteImage(u.uuid)},[...e[7]||(e[7]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"})],-1),ye("   ",-1)])],8,$y)])])]),_:1},8,["items"])])),this.newimage.base64?(f(),y("div",Ly,[i("img",{src:"data:image/png;base64,"+this.newimage.base64,style:{"max-width":"100%"}},null,8,ky),ue(i("input",{"onUpdate:modelValue":e[0]||(e[0]=u=>this.newimage.title=u),class:"formInput",placeholder:"File Name"},null,512),[[Ee,this.newimage.title]]),i("div",null,[i("button",{onClick:e[1]||(e[1]=u=>s.addNewImage()),class:"interfaceBtn saveBtn"},[...e[8]||(e[8]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M12.18 17C12.54 15.5 13.43 14.16 14.68 13.25L13.96 12.29L11.21 15.83L9.25 13.47L6.5 17H12.18M5 5V19H12.03C12.09 19.7 12.24 20.38 12.5 21H5C4.47 21 3.96 20.79 3.59 20.41C3.21 20.04 3 19.53 3 19V5C3 3.9 3.9 3 5 3H19C19.53 3 20.04 3.21 20.41 3.59C20.79 3.96 21 4.47 21 5V12.5C20.38 12.24 19.7 12.09 19 12.03V5H5M17.75 22L15 19L16.16 17.84L17.75 19.43L21.34 15.84L22.5 17.25L17.75 22Z"})],-1),ye(" Save ",-1)])]),i("button",{onClick:e[2]||(e[2]=u=>{this.newimage.title=null,this.newimage.base64=null}),class:"interfaceBtn cancelBtn"},[...e[9]||(e[9]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M13 19C13 19.7 13.13 20.37 13.35 21H5C3.9 21 3 20.11 3 19V5C3 3.9 3.9 3 5 3H19C20.11 3 21 3.9 21 5V13.35C20.37 13.13 19.7 13 19 13V5H5V19H13M11.21 15.83L9.25 13.47L6.5 17H13.35C13.75 15.88 14.47 14.91 15.4 14.21L13.96 12.29L11.21 15.83M22.54 16.88L21.12 15.47L19 17.59L16.88 15.47L15.47 16.88L17.59 19L15.47 21.12L16.88 22.54L19 20.41L21.12 22.54L22.54 21.12L20.41 19L22.54 16.88Z"})],-1),ye(" Cancel ",-1)])])])])):V("",!0),i("div",xy,[i("button",{class:"interfaceBtn closeBtn topbar",onClick:e[3]||(e[3]=u=>s.closeImageManager())},[...e[10]||(e[10]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"})],-1)])]),i("canvas",Hy,null,512),this.newimage.base64?V("",!0):(f(),y("div",Ay,[i("button",{onClick:e[4]||(e[4]=(...u)=>s.triggerUpload&&s.triggerUpload(...u)),class:"interfaceBtn topbar"},[...e[11]||(e[11]=[i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M13 19C13 19.7 13.13 20.37 13.35 21H5C3.9 21 3 20.11 3 19V5C3 3.9 3.9 3 5 3H19C20.11 3 21 3.9 21 5V13.35C20.37 13.13 19.7 13 19 13V5H5V19H13M13.96 12.29L11.21 15.83L9.25 13.47L6.5 17H13.35C13.75 15.88 14.47 14.91 15.4 14.21L13.96 12.29M20 18V15H18V18H15V20H18V23H20V20H23V18H20Z"})],-1),ye(" Upload an Image ",-1)])]),i("input",{type:"file",ref:"imageloader",onChange:e[5]||(e[5]=(...u)=>s.updateCanvasImage&&s.updateCanvasImage(...u)),style:{display:"none"}},null,544)]))])])):V("",!0)],64)}const My=He(gy,[["render",Vy],["__scopeId","data-v-61f4675e"]]),Sy={name:"App",data(){return{wm3file:null,proj:null,filearray:[],copysettings:{}}},methods:{file_loadDB(){document.getElementById("wavemaker3HiddenPicker").click()},file_load(t){var e=new FileReader;e.onload=async n=>{this.wm3file=JSON.parse(n.target.result),console.log("Data File Recieved",this.wm3file)},e.readAsText(t.target.files.item(0))},startimport(t){this.$root.clearDatabase(),this.proj=this.wm3file.projects[t];let e=JSON.parse(JSON.stringify(this.$root.SettingsTemplate));e.uuid=this.$root.uuid(),e.ProjectName=this.proj.title,this.copysettings=e,this.$root.AddRecord("Settings",e);let n=this.$root.uuid();this.filearray=[],this.loopfiles(this.proj.data.writer,this.filearray,n);let o={};o.title=this.proj.title,o.description="",o.files=JSON.parse(JSON.stringify(this.filearray)),o.uuid=n,this.$root.AddRecord("Writer",o),this.processCards(),this.processSnowflakes(),this.processgridplanner(),this.processmindmaps(),this.processtimeline(),this.$root.v3import=!1,this.$root.getSettings()},loopfiles(t,e,n){t.forEach(o=>{if(!o.data)console.log("odd error ",o);else{let r={uuid:this.$root.uuid(),type:"file"},s={};if(s.uuid=r.uuid,s.writerid=n,o.data.content){let u=new Pl.Converter().makeHtml(o.data.content);s.content=u,s.wordcount=this.$root.wordCounter(u)}else s.content="",s.wordcount=0;if(s.title=o.title,s.notes=[],o.data.notes.length&&o.data.notes.forEach(a=>{parseInt(a.backgroundColor)===0&&(a.backgroundColor=1),parseInt(a.backgroundColor)===6&&(a.backgroundColor=5),a.backgroundColor||(a.backgroundColor=1);let u={};u.uuid=this.$root.uuid(),u.title=a.title,u.description=a.content,u.showdesc=!0,u.content="",u.labels=[],u.images=[],u.style="",u.options={},u.color="--card"+a.backgroundColor;let p={uuid:u.uuid};a.completed&&(p.completed=!0),s.notes.push(p),this.$root.AddRecord("Cards",u)}),this.$root.AddRecord("Files",s),o.children){let a={uuid:this.$root.uuid(),type:"folder",title:o.title,children:[],open:!0};e.push(a),a.children.push(r),o.children.length&&this.loopfiles(o.children,a.children,n)}else e.push(r)}})},processCards(){if(!this.proj.data.cards||!this.proj.data.cards.length)return!1;this.proj.data.cards.forEach(t=>{let e=[];t.images&&t.images.forEach(r=>{let s=this.$root.uuid(),a={},u=r.slice(22);a.uuid=s,a.title="imported",a.base64=u,this.$root.AddRecord("ImageLibrary",a),e.push(s)}),t.backgroundColor===0&&(t.backgroundColor=1),t.backgroundColor===6&&(t.backgroundColor=5);let n=this.nl2br(t.content),o={};o.uuid=this.$root.uuid(),o.title=t.title,o.description=n,o.showdesc=!0,o.content="",o.labels=JSON.parse(JSON.stringify(t.tags)),o.images=e,o.style="",o.options={},o.color="--card1",e.length&&(o.showimage=e[0]),this.$root.AddRecord("Cards",o)})},nl2br(t,e){if(typeof t>"u"||t===null)return"";var n=e||typeof e>"u"?"<br />":"<br>";return(t+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+n+"$2")},processSnowflakes(){if(!this.proj.data.snowflake)return console.log("no snowflake"),!1;let t=this.$root.uuid(),e={};e.uuid=t,e.title="Imported Snowflake",e.content=[],this.proj.data.snowflake.forEach(n=>{let o={};o.title=n.title,o.content=n.content,o.children=[{title:n.subcard1.title,content:n.subcard1.content,children:[]},{title:n.subcard2.title,content:n.subcard2.content,children:[]},{title:n.subcard3.title,content:n.subcard3.content,children:[]}],e.content.push(o)}),this.$root.AddRecord("Snowflake",e)},processgridplanner(){if(!this.proj.data.gridplanner)return!1;let t={};t.uuid=this.$root.uuid(),t.title="Imported";let e=this.proj.data.gridplanner,n=null,o=[];e.forEach((r,s)=>{s===0?n=r:o.push(r)}),t.content={},t.content.headers=[],n.forEach((r,s)=>{s!=0&&t.content.headers.push({uuid:this.$root.uuid(),title:r.title})}),t.content.rows=[],o.forEach(r=>{let s={};r.forEach((a,u)=>{if(u===0)s.title=a.title,s.cells={};else{let p=t.content.headers[u-1].uuid;s.cells[p]=[],a.content.forEach(c=>{let b=this.nl2br(c),C={};C.uuid=this.$root.uuid(),C.title="Grid import",C.description=b,C.showdesc=!0,C.content="",C.labels=[],C.images=[],C.style="",C.options={},C.color="--card1",s.cells[p].push({uuid:C.uuid}),this.$root.AddRecord("Cards",C)})}}),t.content.rows.push(s)}),this.$root.AddRecord("Gridplanner",JSON.parse(JSON.stringify(t)))},processmindmaps(){if(!this.proj.data.mindmaps)return!1;this.proj.data.mindmaps.forEach(e=>{let n={};n.title=e.title,n.uuid=this.$root.uuid(),n.content={},n.content.links=[],n.content.nodes={},e.links.forEach(o=>{let r={};r.from=o.start,r.to=o.end,r.type="solid",n.content.links.push(r)}),e.items.forEach(o=>{if(n.content.nodes[o.id]={x:o.left,y:o.top,w:"auto",type:o.type},o.type!="image")n.content.nodes[o.id].text=this.nl2br(o.content);else{let r=this.$root.uuid(),s={},a=o.content.slice(22);s.uuid=r,s.title="imported",s.base64=a,this.$root.AddRecord("ImageLibrary",s),n.content.nodes[o.id].text=r}}),this.$root.AddRecord("Mindmap",JSON.parse(JSON.stringify(n)))})},processtimeline(){if(!this.proj.data.timeline)return!1;let t=this.proj.data.timeline;console.log(">>>>",t);let e={};e.uuid=this.$root.uuid(),e.title="Imported",e.description="Your WM3 timeline",e.content=[],t.forEach(n=>{e.content.push({title:n.title,text:n.content,event:"Your Event"})}),this.$root.AddRecord("Timeline",JSON.parse(JSON.stringify(e)))}}},Ty={class:"backdrop"},Ey={class:"window"},By={style:{width:"100%"}},Iy=["innerHTML"],Dy={key:1},_y=["onClick"];function Py(t,e,n,o,r,s){return f(),y("div",Ty,[i("div",Ey,[i("table",By,[i("tbody",null,[i("tr",null,[e[4]||(e[4]=i("td",{style:{width:"75%"}},null,-1)),i("td",null,[i("button",{onClick:e[0]||(e[0]=a=>t.$root.v3import=!1),class:"interfaceBtn fullw text-left"},[e[3]||(e[3]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"})],-1)),ye(" "+k(this.$root.setlang.wm3import.close),1)])])])])]),e[8]||(e[8]=i("hr",null,null,-1)),i("div",{innerHTML:this.$root.setlang.wm3import.info},null,8,Iy),r.wm3file?V("",!0):(f(),y("button",{key:0,onClick:e[1]||(e[1]=(...a)=>s.file_loadDB&&s.file_loadDB(...a)),class:"interfaceBtn fullw text-left"},[e[5]||(e[5]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z"})],-1)),ye(" "+k(this.$root.setlang.wm3import.upload),1)])),r.wm3file?(f(),y("div",Dy,[e[7]||(e[7]=i("label",null,"Choose a Project to import",-1)),(f(!0),y(ae,null,Ne(r.wm3file.projects,(a,u)=>(f(),y("button",{key:u,onClick:p=>s.startimport(u),class:"interfaceBtn fullw text-left"},[e[6]||(e[6]=i("svg",{viewBox:"0 0 24 24"},[i("path",{d:"M6 2C4.89 2 4 2.9 4 4V20C4 21.11 4.89 22 6 22H12V20H6V4H13V9H18V12H20V8L14 2M18 14C17.87 14 17.76 14.09 17.74 14.21L17.55 15.53C17.25 15.66 16.96 15.82 16.7 16L15.46 15.5C15.35 15.5 15.22 15.5 15.15 15.63L14.15 17.36C14.09 17.47 14.11 17.6 14.21 17.68L15.27 18.5C15.25 18.67 15.24 18.83 15.24 19C15.24 19.17 15.25 19.33 15.27 19.5L14.21 20.32C14.12 20.4 14.09 20.53 14.15 20.64L15.15 22.37C15.21 22.5 15.34 22.5 15.46 22.5L16.7 22C16.96 22.18 17.24 22.35 17.55 22.47L17.74 23.79C17.76 23.91 17.86 24 18 24H20C20.11 24 20.22 23.91 20.24 23.79L20.43 22.47C20.73 22.34 21 22.18 21.27 22L22.5 22.5C22.63 22.5 22.76 22.5 22.83 22.37L23.83 20.64C23.89 20.53 23.86 20.4 23.77 20.32L22.7 19.5C22.72 19.33 22.74 19.17 22.74 19C22.74 18.83 22.73 18.67 22.7 18.5L23.76 17.68C23.85 17.6 23.88 17.47 23.82 17.36L22.82 15.63C22.76 15.5 22.63 15.5 22.5 15.5L21.27 16C21 15.82 20.73 15.65 20.42 15.53L20.23 14.21C20.22 14.09 20.11 14 20 14M19 17.5C19.83 17.5 20.5 18.17 20.5 19C20.5 19.83 19.83 20.5 19 20.5C18.16 20.5 17.5 19.83 17.5 19C17.5 18.17 18.17 17.5 19 17.5Z"})],-1)),ye(" "+k(a.title),1)],8,_y))),128))])):V("",!0)]),i("input",{type:"file",id:"wavemaker3HiddenPicker",name:"upload",accept:".wmdata",onChange:e[2]||(e[2]=(...a)=>s.file_load&&s.file_load(...a)),style:{display:"none"}},null,32)])}const Oy=He(Sy,[["render",Py],["__scopeId","data-v-824beff3"]]),Ny={key:0,class:"pwa-prompt install-prompt"},Ry={class:"pwa-prompt-content"},jy={class:"pwa-prompt-actions"},Fy={key:1,class:"pwa-prompt update-prompt"},Uy={class:"pwa-prompt-content"},zy={class:"pwa-prompt-actions"},Wy={key:2,class:"pwa-prompt offline-ready"},Gy={class:"pwa-prompt-content"},qy={class:"pwa-prompt-actions"},Zy={__name:"PWAPrompt",setup(t){const{needRefresh:e,offlineReady:n,canInstall:o,installPWA:r,updateApp:s,closeUpdatePrompt:a,closeInstallPrompt:u,closeOfflinePrompt:p}=Hi();return(c,b)=>(f(),y(ae,null,[ot(o)?(f(),y("div",Ny,[i("div",Ry,[b[5]||(b[5]=i("div",{class:"pwa-prompt-icon"},"📱",-1)),b[6]||(b[6]=i("div",{class:"pwa-prompt-text"},[i("h3",null,"Install Wavemaker Cards"),i("p",null,"Install this app for a better experience with offline access and faster loading.")],-1)),i("div",jy,[i("button",{onClick:b[0]||(b[0]=(...C)=>ot(r)&&ot(r)(...C)),class:"pwa-btn primary"},"Install"),i("button",{onClick:b[1]||(b[1]=(...C)=>ot(u)&&ot(u)(...C)),class:"pwa-btn secondary"},"Not now")])])])):V("",!0),ot(e)?(f(),y("div",Fy,[i("div",Uy,[b[7]||(b[7]=i("div",{class:"pwa-prompt-icon"},"🔄",-1)),b[8]||(b[8]=i("div",{class:"pwa-prompt-text"},[i("h3",null,"Update Available"),i("p",null,"A new version of Wavemaker Cards is available. Update now to get the latest features and improvements.")],-1)),i("div",zy,[i("button",{onClick:b[2]||(b[2]=(...C)=>ot(s)&&ot(s)(...C)),class:"pwa-btn primary"},"Update Now"),i("button",{onClick:b[3]||(b[3]=(...C)=>ot(a)&&ot(a)(...C)),class:"pwa-btn secondary"},"Later")])])])):V("",!0),ot(n)?(f(),y("div",Wy,[i("div",Gy,[b[9]||(b[9]=i("div",{class:"pwa-prompt-icon"},"✅",-1)),b[10]||(b[10]=i("div",{class:"pwa-prompt-text"},[i("h3",null,"Ready to work offline"),i("p",null,"App cached successfully. You can now use Wavemaker Cards offline.")],-1)),i("div",qy,[i("button",{onClick:b[4]||(b[4]=(...C)=>ot(p)&&ot(p)(...C)),class:"pwa-btn primary"},"Got it")])])])):V("",!0)],64))}},Ky=He(Zy,[["__scopeId","data-v-e4a2ffa3"]]),Yy={name:"App",mixins:[ld,Vd,Sd,Md],setup(){const{initVitePWA:t}=Hi();return{initVitePWA:t}},components:{PopupManager:c1,WelcomeScreen:V1,Start:Gv,CardModal:fy,ImageManager:My,Version3Import:Oy,PWAPrompt:Ky},data(){return{myPackage:ad,EditCardrefresh:null,theme:"default",themeList:[{name:"Default Wavemaker",file:"wavemaker"},{name:"Light Theme",file:"light"},{name:"Blue Sky",file:"bluesky"}],lhspin:!0,rhspin:!0,navbar:!1,togglenav:!0,show:!1,popup:{name:null},lang:"en",language:ty,setlang:null,uuid:Ol,session:{},navshow:!0,imagemanager:!1,v3import:!1,fullWordCount:0}},methods:{async calcFullWordCount(){let t=0;this.$root.session.writer.selected&&(await this.$root.db.Files.where({writerid:this.$root.session.writer.selected.uuid}).toArray()).forEach(a=>{let u=0;a.wordcount&&(u=parseInt(a.wordcount)),a.excludefromwordcount||(t=t+parseInt(u))}),this.fullWordCount=t,this.$root.session.writer.selected.log||(this.$root.session.writer.selected.log={});var e=new Date,n=String(e.getDate()).padStart(2,"0"),o=String(e.getMonth()+1).padStart(2,"0"),r=e.getFullYear();e=r+"-"+o+"-"+n,this.$root.session.writer.selected.log[e]=this.fullWordCount},switchLang(){localStorage.setItem("wmLang",this.lang),this.updateLang()},updateLang(){this.setlang=this.$root.language[this.$root.lang]},openInNew(t){var e=window.innerWidth-window.innerWidth/100*5,n=window.innerHeight-window.innerHeight/100*5;if(t==="planningboard")return window.open("/?sc="+t+"&sel="+this.$root.session.writer.selected.uuid,"PlanningBoard","width="+e+"px,height="+n+"px"),!1;window.open(t,"Info","width="+e+"px,height="+n+"px")},wordCounter(t){let e=0;return t&&(this.lang==="cn"?(t=t.replace(/(<([^>]+)>)/gi,""),t.replaceAll(" ",""),e=parseInt(t.length*.7)):(t=t.replace(/(<([^>]+)>)/gi," "),e=t.split(" ").filter(function(n){return n!=""}).length)),e},niceDate(t){var e=new Date(t);return e.getDate()+"/"+e.getMonth()+"/"+e.getFullYear()+" - "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()},screensizefixes(){let t=window.innerWidth;t<720&&(this.lhspin=!1,this.rhspin=!1,this.navbar=!1,this.togglenav=!0),t>720&&(this.lhspin=!0,this.rhspin=!0,this.navbar=!0,this.togglenav=!1)},SpecialKeys(t){t.shiftKey&&t.key==="Enter"&&console.log("Session :",JSON.parse(JSON.stringify(this.session)))},switchTheme(){document.getElementById("themeSwitch").href="themes/"+this.theme+".css",localStorage.setItem("wmTheme",this.theme)},unloadEvent(t){t.preventDefault(),t.returnValue=""}},async mounted(){let t=await this.$root.db.Settings.toArray();t&&(this.$root.session.settings=t[0]),localStorage.getItem("wmTheme")&&(this.theme=localStorage.getItem("wmTheme"),this.switchTheme()),localStorage.getItem("wmLang")&&localStorage.getItem("wmLang")!="undefined"?this.lang=localStorage.getItem("wmLang"):this.lang="en",this.updateLang(),window.addEventListener("keydown",this.SpecialKeys),document.body.dir=this.$root.setlang.textdirection,this.screensizefixes(),this.initVitePWA()},created(){window.addEventListener("resize",this.screensizefixes)},unmount(){window.removeEventListener("resize",this.screensizefixes)}},Jy={key:0},Xy={key:1};function Qy(t,e,n,o,r,s){const a=Q("Start"),u=Q("WelcomeScreen"),p=Q("CardModal"),c=Q("ImageManager"),b=Q("PopupManager"),C=Q("PWAPrompt"),A=Q("Version3Import");return f(),y(ae,null,[this.$root.session.settings?(f(),y("div",Jy,[_e(a)])):V("",!0),this.$root.session.settings?V("",!0):(f(),y("div",Xy,[_e(u)])),t.$root.session.EditCard?(f(),Te(p,{key:t.$root.EditCardrefresh})):V("",!0),t.$root.imagemanager?(f(),Te(c,{key:3})):V("",!0),_e(b),_e(C),r.v3import?(f(),Te(A,{key:4})):V("",!0),i("input",{type:"file",id:"wavemakerHiddenPicker",name:"upload",accept:".wm4",onChange:e[0]||(e[0]=(...x)=>t.file_load&&t.file_load(...x)),style:{display:"none"}},null,32)],64)}const eb=He(Yy,[["render",Qy]]);var Yt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lr={exports:{}};/*!
* sweetalert2 v11.4.4
* Released under the MIT License.
*/(function(t,e){(function(n,o){t.exports=o()})(Yt,function(){const n="SweetAlert2:",o=l=>{const d=[];for(let h=0;h<l.length;h++)d.indexOf(l[h])===-1&&d.push(l[h]);return d},r=l=>l.charAt(0).toUpperCase()+l.slice(1),s=l=>Array.prototype.slice.call(l),a=l=>{console.warn("".concat(n," ").concat(typeof l=="object"?l.join(" "):l))},u=l=>{console.error("".concat(n," ").concat(l))},p=[],c=l=>{p.includes(l)||(p.push(l),a(l))},b=(l,d)=>{c('"'.concat(l,'" is deprecated and will be removed in the next major release. Please use "').concat(d,'" instead.'))},C=l=>typeof l=="function"?l():l,A=l=>l&&typeof l.toPromise=="function",x=l=>A(l)?l.toPromise():Promise.resolve(l),E=l=>l&&Promise.resolve(l)===l,O={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},oe=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],B={},ie=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],le=l=>Object.prototype.hasOwnProperty.call(O,l),pe=l=>oe.indexOf(l)!==-1,ee=l=>B[l],me=l=>{le(l)||a('Unknown parameter "'.concat(l,'"'))},N=l=>{ie.includes(l)&&a('The parameter "'.concat(l,'" is incompatible with toasts'))},M=l=>{ee(l)&&b(l,ee(l))},$=l=>{!l.backdrop&&l.allowOutsideClick&&a('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const d in l)me(d),l.toast&&N(d),M(d)},g="swal2-",S=l=>{const d={};for(const h in l)d[l[h]]=g+l[h];return d},v=S(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),he=S(["success","warning","info","question","error"]),te=()=>document.body.querySelector(".".concat(v.container)),Ie=l=>{const d=te();return d?d.querySelector(l):null},fe=l=>Ie(".".concat(l)),I=()=>fe(v.popup),U=()=>fe(v.icon),ne=()=>fe(v.title),$e=()=>fe(v["html-container"]),Me=()=>fe(v.image),ge=()=>fe(v["progress-steps"]),R=()=>fe(v["validation-message"]),P=()=>Ie(".".concat(v.actions," .").concat(v.confirm)),G=()=>Ie(".".concat(v.actions," .").concat(v.deny)),be=()=>fe(v["input-label"]),we=()=>Ie(".".concat(v.loader)),L=()=>Ie(".".concat(v.actions," .").concat(v.cancel)),m=()=>fe(v.actions),H=()=>fe(v.footer),q=()=>fe(v["timer-progress-bar"]),T=()=>fe(v.close),_=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,J=()=>{const l=s(I().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((h,w)=>{const j=parseInt(h.getAttribute("tabindex")),de=parseInt(w.getAttribute("tabindex"));return j>de?1:j<de?-1:0}),d=s(I().querySelectorAll(_)).filter(h=>h.getAttribute("tabindex")!=="-1");return o(l.concat(d)).filter(h=>re(h))},Z=()=>ce(document.body,v.shown)&&!ce(document.body,v["toast-shown"])&&!ce(document.body,v["no-backdrop"]),Ve=()=>I()&&ce(I(),v.toast),X=()=>I().hasAttribute("data-loading"),K={previousBodyPadding:null},D=(l,d)=>{if(l.textContent="",d){const h=new DOMParser().parseFromString(d,"text/html");s(h.querySelector("head").childNodes).forEach(w=>{l.appendChild(w)}),s(h.querySelector("body").childNodes).forEach(w=>{l.appendChild(w)})}},ce=(l,d)=>{if(!d)return!1;const h=d.split(/\s+/);for(let w=0;w<h.length;w++)if(!l.classList.contains(h[w]))return!1;return!0},Se=(l,d)=>{s(l.classList).forEach(h=>{!Object.values(v).includes(h)&&!Object.values(he).includes(h)&&!Object.values(d.showClass).includes(h)&&l.classList.remove(h)})},F=(l,d,h)=>{if(Se(l,d),d.customClass&&d.customClass[h]){if(typeof d.customClass[h]!="string"&&!d.customClass[h].forEach)return a("Invalid type of customClass.".concat(h,'! Expected string or iterable object, got "').concat(typeof d.customClass[h],'"'));se(l,d.customClass[h])}},je=(l,d)=>{if(!d)return null;switch(d){case"select":case"textarea":case"file":return l.querySelector(".".concat(v.popup," > .").concat(v[d]));case"checkbox":return l.querySelector(".".concat(v.popup," > .").concat(v.checkbox," input"));case"radio":return l.querySelector(".".concat(v.popup," > .").concat(v.radio," input:checked"))||l.querySelector(".".concat(v.popup," > .").concat(v.radio," input:first-child"));case"range":return l.querySelector(".".concat(v.popup," > .").concat(v.range," input"));default:return l.querySelector(".".concat(v.popup," > .").concat(v.input))}},Ue=l=>{if(l.focus(),l.type!=="file"){const d=l.value;l.value="",l.value=d}},ut=(l,d,h)=>{!l||!d||(typeof d=="string"&&(d=d.split(/\s+/).filter(Boolean)),d.forEach(w=>{Array.isArray(l)?l.forEach(j=>{h?j.classList.add(w):j.classList.remove(w)}):h?l.classList.add(w):l.classList.remove(w)}))},se=(l,d)=>{ut(l,d,!0)},xe=(l,d)=>{ut(l,d,!1)},We=(l,d)=>{const h=s(l.childNodes);for(let w=0;w<h.length;w++)if(ce(h[w],d))return h[w]},nt=(l,d,h)=>{h==="".concat(parseInt(h))&&(h=parseInt(h)),h||parseInt(h)===0?l.style[d]=typeof h=="number"?"".concat(h,"px"):h:l.style.removeProperty(d)},De=function(l){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";l.style.display=d},Ze=l=>{l.style.display="none"},ve=(l,d,h,w)=>{const j=l.querySelector(d);j&&(j.style[h]=w)},Y=(l,d,h)=>{d?De(l,h):Ze(l)},re=l=>!!(l&&(l.offsetWidth||l.offsetHeight||l.getClientRects().length)),Ce=()=>!re(P())&&!re(G())&&!re(L()),Oe=l=>l.scrollHeight>l.clientHeight,ze=l=>{const d=window.getComputedStyle(l),h=parseFloat(d.getPropertyValue("animation-duration")||"0"),w=parseFloat(d.getPropertyValue("transition-duration")||"0");return h>0||w>0},gt=function(l){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const h=q();re(h)&&(d&&(h.style.transition="none",h.style.width="100%"),setTimeout(()=>{h.style.transition="width ".concat(l/1e3,"s linear"),h.style.width="0%"},10))},Ge=()=>{const l=q(),d=parseInt(window.getComputedStyle(l).width);l.style.removeProperty("transition"),l.style.width="100%";const h=parseInt(window.getComputedStyle(l).width),w=d/h*100;l.style.removeProperty("transition"),l.style.width="".concat(w,"%")},st=()=>typeof window>"u"||typeof document>"u",pt=100,W={},rt=()=>{W.previousActiveElement&&W.previousActiveElement.focus?(W.previousActiveElement.focus(),W.previousActiveElement=null):document.body&&document.body.focus()},Lt=l=>new Promise(d=>{if(!l)return d();const h=window.scrollX,w=window.scrollY;W.restoreFocusTimeout=setTimeout(()=>{rt(),d()},pt),window.scrollTo(h,w)}),nn=`
 <div aria-labelledby="`.concat(v.title,'" aria-describedby="').concat(v["html-container"],'" class="').concat(v.popup,`" tabindex="-1">
   <button type="button" class="`).concat(v.close,`"></button>
   <ul class="`).concat(v["progress-steps"],`"></ul>
   <div class="`).concat(v.icon,`"></div>
   <img class="`).concat(v.image,`" />
   <h2 class="`).concat(v.title,'" id="').concat(v.title,`"></h2>
   <div class="`).concat(v["html-container"],'" id="').concat(v["html-container"],`"></div>
   <input class="`).concat(v.input,`" />
   <input type="file" class="`).concat(v.file,`" />
   <div class="`).concat(v.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(v.select,`"></select>
   <div class="`).concat(v.radio,`"></div>
   <label for="`).concat(v.checkbox,'" class="').concat(v.checkbox,`">
     <input type="checkbox" />
     <span class="`).concat(v.label,`"></span>
   </label>
   <textarea class="`).concat(v.textarea,`"></textarea>
   <div class="`).concat(v["validation-message"],'" id="').concat(v["validation-message"],`"></div>
   <div class="`).concat(v.actions,`">
     <div class="`).concat(v.loader,`"></div>
     <button type="button" class="`).concat(v.confirm,`"></button>
     <button type="button" class="`).concat(v.deny,`"></button>
     <button type="button" class="`).concat(v.cancel,`"></button>
   </div>
   <div class="`).concat(v.footer,`"></div>
   <div class="`).concat(v["timer-progress-bar-container"],`">
     <div class="`).concat(v["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),Dt=()=>{const l=te();return l?(l.remove(),xe([document.documentElement,document.body],[v["no-backdrop"],v["toast-shown"],v["has-column"]]),!0):!1},Ke=()=>{W.currentInstance.resetValidationMessage()},En=()=>{const l=I(),d=We(l,v.input),h=We(l,v.file),w=l.querySelector(".".concat(v.range," input")),j=l.querySelector(".".concat(v.range," output")),de=We(l,v.select),et=l.querySelector(".".concat(v.checkbox," input")),xt=We(l,v.textarea);d.oninput=Ke,h.onchange=Ke,de.onchange=Ke,et.onchange=Ke,xt.oninput=Ke,w.oninput=()=>{Ke(),j.value=w.value},w.onchange=()=>{Ke(),w.nextSibling.value=w.value}},Eo=l=>typeof l=="string"?document.querySelector(l):l,Bo=l=>{const d=I();d.setAttribute("role",l.toast?"alert":"dialog"),d.setAttribute("aria-live",l.toast?"polite":"assertive"),l.toast||d.setAttribute("aria-modal","true")},Io=l=>{window.getComputedStyle(l).direction==="rtl"&&se(te(),v.rtl)},Bn=l=>{const d=Dt();if(st()){u("SweetAlert2 requires document to initialize");return}const h=document.createElement("div");h.className=v.container,d&&se(h,v["no-transition"]),D(h,nn);const w=Eo(l.target);w.appendChild(h),Bo(l),Io(w),En()},Mt=(l,d)=>{l instanceof HTMLElement?d.appendChild(l):typeof l=="object"?at(l,d):l&&D(d,l)},at=(l,d)=>{l.jquery?_t(d,l):D(d,l.toString())},_t=(l,d)=>{if(l.textContent="",0 in d)for(let h=0;h in d;h++)l.appendChild(d[h].cloneNode(!0));else l.appendChild(d.cloneNode(!0))},kt=(()=>{if(st())return!1;const l=document.createElement("div"),d={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const h in d)if(Object.prototype.hasOwnProperty.call(d,h)&&typeof l.style[h]<"u")return d[h];return!1})(),gn=()=>{const l=document.createElement("div");l.className=v["scrollbar-measure"],document.body.appendChild(l);const d=l.getBoundingClientRect().width-l.clientWidth;return document.body.removeChild(l),d},dr=(l,d)=>{const h=m(),w=we();!d.showConfirmButton&&!d.showDenyButton&&!d.showCancelButton?Ze(h):De(h),F(h,d,"actions"),ur(h,w,d),D(w,d.loaderHtml),F(w,d,"loader")};function ur(l,d,h){const w=P(),j=G(),de=L();Do(w,"confirm",h),Do(j,"deny",h),Do(de,"cancel",h),cr(w,j,de,h),h.reverseButtons&&(h.toast?(l.insertBefore(de,w),l.insertBefore(j,w)):(l.insertBefore(de,d),l.insertBefore(j,d),l.insertBefore(w,d)))}function cr(l,d,h,w){if(!w.buttonsStyling)return xe([l,d,h],v.styled);se([l,d,h],v.styled),w.confirmButtonColor&&(l.style.backgroundColor=w.confirmButtonColor,se(l,v["default-outline"])),w.denyButtonColor&&(d.style.backgroundColor=w.denyButtonColor,se(d,v["default-outline"])),w.cancelButtonColor&&(h.style.backgroundColor=w.cancelButtonColor,se(h,v["default-outline"]))}function Do(l,d,h){Y(l,h["show".concat(r(d),"Button")],"inline-block"),D(l,h["".concat(d,"ButtonText")]),l.setAttribute("aria-label",h["".concat(d,"ButtonAriaLabel")]),l.className=v[d],F(l,h,"".concat(d,"Button")),se(l,h["".concat(d,"ButtonClass")])}function pr(l,d){typeof d=="string"?l.style.background=d:d||se([document.documentElement,document.body],v["no-backdrop"])}function hr(l,d){d in v?se(l,v[d]):(a('The "position" parameter is not valid, defaulting to "center"'),se(l,v.center))}function fr(l,d){if(d&&typeof d=="string"){const h="grow-".concat(d);h in v&&se(l,v[h])}}const gr=(l,d)=>{const h=te();h&&(pr(h,d.backdrop),hr(h,d.position),fr(h,d.grow),F(h,d,"container"))};var Be={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const mr=["input","file","range","select","radio","checkbox","textarea"],vr=(l,d)=>{const h=I(),w=Be.innerParams.get(l),j=!w||d.input!==w.input;mr.forEach(de=>{const et=v[de],xt=We(h,et);wr(de,d.inputAttributes),xt.className=et,j&&Ze(xt)}),d.input&&(j&&yr(d),Cr(d))},yr=l=>{if(!wt[l.input])return u('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(l.input,'"'));const d=Ii(l.input),h=wt[l.input](d,l);De(h),setTimeout(()=>{Ue(h)})},br=l=>{for(let d=0;d<l.attributes.length;d++){const h=l.attributes[d].name;["type","value","style"].includes(h)||l.removeAttribute(h)}},wr=(l,d)=>{const h=je(I(),l);if(h){br(h);for(const w in d)h.setAttribute(w,d[w])}},Cr=l=>{const d=Ii(l.input);l.customClass&&se(d,l.customClass.input)},_o=(l,d)=>{(!l.placeholder||d.inputPlaceholder)&&(l.placeholder=d.inputPlaceholder)},In=(l,d,h)=>{if(h.inputLabel){l.id=v.input;const w=document.createElement("label"),j=v["input-label"];w.setAttribute("for",l.id),w.className=j,se(w,h.customClass.inputLabel),w.innerText=h.inputLabel,d.insertAdjacentElement("beforebegin",w)}},Ii=l=>{const d=v[l]?v[l]:v.input;return We(I(),d)},wt={};wt.text=wt.email=wt.password=wt.number=wt.tel=wt.url=(l,d)=>(typeof d.inputValue=="string"||typeof d.inputValue=="number"?l.value=d.inputValue:E(d.inputValue)||a('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof d.inputValue,'"')),In(l,l,d),_o(l,d),l.type=d.input,l),wt.file=(l,d)=>(In(l,l,d),_o(l,d),l),wt.range=(l,d)=>{const h=l.querySelector("input"),w=l.querySelector("output");return h.value=d.inputValue,h.type=d.input,w.value=d.inputValue,In(h,l,d),l},wt.select=(l,d)=>{if(l.textContent="",d.inputPlaceholder){const h=document.createElement("option");D(h,d.inputPlaceholder),h.value="",h.disabled=!0,h.selected=!0,l.appendChild(h)}return In(l,l,d),l},wt.radio=l=>(l.textContent="",l),wt.checkbox=(l,d)=>{const h=je(I(),"checkbox");h.value="1",h.id=v.checkbox,h.checked=!!d.inputValue;const w=l.querySelector("span");return D(w,d.inputPlaceholder),l},wt.textarea=(l,d)=>{l.value=d.inputValue,_o(l,d),In(l,l,d);const h=w=>parseInt(window.getComputedStyle(w).marginLeft)+parseInt(window.getComputedStyle(w).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const w=parseInt(window.getComputedStyle(I()).width),j=()=>{const de=l.offsetWidth+h(l);de>w?I().style.width="".concat(de,"px"):I().style.width=null};new MutationObserver(j).observe(l,{attributes:!0,attributeFilter:["style"]})}}),l};const $r=(l,d)=>{const h=$e();F(h,d,"htmlContainer"),d.html?(Mt(d.html,h),De(h,"block")):d.text?(h.textContent=d.text,De(h,"block")):Ze(h),vr(l,d)},Lr=(l,d)=>{const h=H();Y(h,d.footer),d.footer&&Mt(d.footer,h),F(h,d,"footer")},kr=(l,d)=>{const h=T();D(h,d.closeButtonHtml),F(h,d,"closeButton"),Y(h,d.showCloseButton),h.setAttribute("aria-label",d.closeButtonAriaLabel)},xr=(l,d)=>{const h=Be.innerParams.get(l),w=U();if(h&&d.icon===h.icon){_i(w,d),Di(w,d);return}if(!d.icon&&!d.iconHtml)return Ze(w);if(d.icon&&Object.keys(he).indexOf(d.icon)===-1)return u('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(d.icon,'"')),Ze(w);De(w),_i(w,d),Di(w,d),se(w,d.showClass.icon)},Di=(l,d)=>{for(const h in he)d.icon!==h&&xe(l,he[h]);se(l,he[d.icon]),Mr(l,d),Hr(),F(l,d,"icon")},Hr=()=>{const l=I(),d=window.getComputedStyle(l).getPropertyValue("background-color"),h=l.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let w=0;w<h.length;w++)h[w].style.backgroundColor=d},Ar=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Vr=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,_i=(l,d)=>{l.textContent="",d.iconHtml?D(l,Pi(d.iconHtml)):d.icon==="success"?D(l,Ar):d.icon==="error"?D(l,Vr):D(l,Pi({question:"?",warning:"!",info:"i"}[d.icon]))},Mr=(l,d)=>{if(d.iconColor){l.style.color=d.iconColor,l.style.borderColor=d.iconColor;for(const h of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])ve(l,h,"backgroundColor",d.iconColor);ve(l,".swal2-success-ring","borderColor",d.iconColor)}},Pi=l=>'<div class="'.concat(v["icon-content"],'">').concat(l,"</div>"),Sr=(l,d)=>{const h=Me();if(!d.imageUrl)return Ze(h);De(h,""),h.setAttribute("src",d.imageUrl),h.setAttribute("alt",d.imageAlt),nt(h,"width",d.imageWidth),nt(h,"height",d.imageHeight),h.className=v.image,F(h,d,"image")},Tr=l=>{const d=document.createElement("li");return se(d,v["progress-step"]),D(d,l),d},Er=l=>{const d=document.createElement("li");return se(d,v["progress-step-line"]),l.progressStepsDistance&&(d.style.width=l.progressStepsDistance),d},Br=(l,d)=>{const h=ge();if(!d.progressSteps||d.progressSteps.length===0)return Ze(h);De(h),h.textContent="",d.currentProgressStep>=d.progressSteps.length&&a("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),d.progressSteps.forEach((w,j)=>{const de=Tr(w);if(h.appendChild(de),j===d.currentProgressStep&&se(de,v["active-progress-step"]),j!==d.progressSteps.length-1){const et=Er(d);h.appendChild(et)}})},Ir=(l,d)=>{const h=ne();Y(h,d.title||d.titleText,"block"),d.title&&Mt(d.title,h),d.titleText&&(h.innerText=d.titleText),F(h,d,"title")},Dr=(l,d)=>{const h=te(),w=I();d.toast?(nt(h,"width",d.width),w.style.width="100%",w.insertBefore(we(),U())):nt(w,"width",d.width),nt(w,"padding",d.padding),d.color&&(w.style.color=d.color),d.background&&(w.style.background=d.background),Ze(R()),_r(w,d)},_r=(l,d)=>{l.className="".concat(v.popup," ").concat(re(l)?d.showClass.popup:""),d.toast?(se([document.documentElement,document.body],v["toast-shown"]),se(l,v.toast)):se(l,v.modal),F(l,d,"popup"),typeof d.customClass=="string"&&se(l,d.customClass),d.icon&&se(l,v["icon-".concat(d.icon)])},Oi=(l,d)=>{Dr(l,d),gr(l,d),Br(l,d),xr(l,d),Sr(l,d),Ir(l,d),kr(l,d),$r(l,d),dr(l,d),Lr(l,d),typeof d.didRender=="function"&&d.didRender(I())},mn=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Pr=()=>{s(document.body.children).forEach(l=>{l===te()||l.contains(te())||(l.hasAttribute("aria-hidden")&&l.setAttribute("data-previous-aria-hidden",l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))})},Ni=()=>{s(document.body.children).forEach(l=>{l.hasAttribute("data-previous-aria-hidden")?(l.setAttribute("aria-hidden",l.getAttribute("data-previous-aria-hidden")),l.removeAttribute("data-previous-aria-hidden")):l.removeAttribute("aria-hidden")})},Ri=["swal-title","swal-html","swal-footer"],Or=l=>{const d=typeof l.template=="string"?document.querySelector(l.template):l.template;if(!d)return{};const h=d.content;return Wr(h),Object.assign(Nr(h),Rr(h),jr(h),Fr(h),Ur(h),zr(h,Ri))},Nr=l=>{const d={};return s(l.querySelectorAll("swal-param")).forEach(h=>{on(h,["name","value"]);const w=h.getAttribute("name"),j=h.getAttribute("value");typeof O[w]=="boolean"&&j==="false"&&(d[w]=!1),typeof O[w]=="object"&&(d[w]=JSON.parse(j))}),d},Rr=l=>{const d={};return s(l.querySelectorAll("swal-button")).forEach(h=>{on(h,["type","color","aria-label"]);const w=h.getAttribute("type");d["".concat(w,"ButtonText")]=h.innerHTML,d["show".concat(r(w),"Button")]=!0,h.hasAttribute("color")&&(d["".concat(w,"ButtonColor")]=h.getAttribute("color")),h.hasAttribute("aria-label")&&(d["".concat(w,"ButtonAriaLabel")]=h.getAttribute("aria-label"))}),d},jr=l=>{const d={},h=l.querySelector("swal-image");return h&&(on(h,["src","width","height","alt"]),h.hasAttribute("src")&&(d.imageUrl=h.getAttribute("src")),h.hasAttribute("width")&&(d.imageWidth=h.getAttribute("width")),h.hasAttribute("height")&&(d.imageHeight=h.getAttribute("height")),h.hasAttribute("alt")&&(d.imageAlt=h.getAttribute("alt"))),d},Fr=l=>{const d={},h=l.querySelector("swal-icon");return h&&(on(h,["type","color"]),h.hasAttribute("type")&&(d.icon=h.getAttribute("type")),h.hasAttribute("color")&&(d.iconColor=h.getAttribute("color")),d.iconHtml=h.innerHTML),d},Ur=l=>{const d={},h=l.querySelector("swal-input");h&&(on(h,["type","label","placeholder","value"]),d.input=h.getAttribute("type")||"text",h.hasAttribute("label")&&(d.inputLabel=h.getAttribute("label")),h.hasAttribute("placeholder")&&(d.inputPlaceholder=h.getAttribute("placeholder")),h.hasAttribute("value")&&(d.inputValue=h.getAttribute("value")));const w=l.querySelectorAll("swal-input-option");return w.length&&(d.inputOptions={},s(w).forEach(j=>{on(j,["value"]);const de=j.getAttribute("value"),et=j.innerHTML;d.inputOptions[de]=et})),d},zr=(l,d)=>{const h={};for(const w in d){const j=d[w],de=l.querySelector(j);de&&(on(de,[]),h[j.replace(/^swal-/,"")]=de.innerHTML.trim())}return h},Wr=l=>{const d=Ri.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);s(l.children).forEach(h=>{const w=h.tagName.toLowerCase();d.indexOf(w)===-1&&a("Unrecognized element <".concat(w,">"))})},on=(l,d)=>{s(l.attributes).forEach(h=>{d.indexOf(h.name)===-1&&a(['Unrecognized attribute "'.concat(h.name,'" on <').concat(l.tagName.toLowerCase(),">."),"".concat(d.length?"Allowed attributes are: ".concat(d.join(", ")):"To set the value, use HTML within the element.")])})};var ji={email:(l,d)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(l)?Promise.resolve():Promise.resolve(d||"Invalid email address"),url:(l,d)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(l)?Promise.resolve():Promise.resolve(d||"Invalid URL")};function Gr(l){l.inputValidator||Object.keys(ji).forEach(d=>{l.input===d&&(l.inputValidator=ji[d])})}function qr(l){(!l.target||typeof l.target=="string"&&!document.querySelector(l.target)||typeof l.target!="string"&&!l.target.appendChild)&&(a('Target parameter is not valid, defaulting to "body"'),l.target="body")}function Zr(l){Gr(l),l.showLoaderOnConfirm&&!l.preConfirm&&a(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),qr(l),typeof l.title=="string"&&(l.title=l.title.split(`
`).join("<br />")),Bn(l)}class Kr{constructor(d,h){this.callback=d,this.remaining=h,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(d){const h=this.running;return h&&this.stop(),this.remaining+=d,h&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Yr=()=>{K.previousBodyPadding===null&&document.body.scrollHeight>window.innerHeight&&(K.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(K.previousBodyPadding+gn(),"px"))},Jr=()=>{K.previousBodyPadding!==null&&(document.body.style.paddingRight="".concat(K.previousBodyPadding,"px"),K.previousBodyPadding=null)},Xr=()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!ce(document.body,v.iosfix)){const l=document.body.scrollTop;document.body.style.top="".concat(l*-1,"px"),se(document.body,v.iosfix),ea(),Qr()}},Qr=()=>{const l=navigator.userAgent,d=!!l.match(/iPad/i)||!!l.match(/iPhone/i),h=!!l.match(/WebKit/i);d&&h&&!l.match(/CriOS/i)&&I().scrollHeight>window.innerHeight-44&&(te().style.paddingBottom="".concat(44,"px"))},ea=()=>{const l=te();let d;l.ontouchstart=h=>{d=ta(h)},l.ontouchmove=h=>{d&&(h.preventDefault(),h.stopPropagation())}},ta=l=>{const d=l.target,h=te();return na(l)||oa(l)?!1:d===h||!Oe(h)&&d.tagName!=="INPUT"&&d.tagName!=="TEXTAREA"&&!(Oe($e())&&$e().contains(d))},na=l=>l.touches&&l.touches.length&&l.touches[0].touchType==="stylus",oa=l=>l.touches&&l.touches.length>1,ia=()=>{if(ce(document.body,v.iosfix)){const l=parseInt(document.body.style.top,10);xe(document.body,v.iosfix),document.body.style.top="",document.body.scrollTop=l*-1}},Fi=10,sa=l=>{const d=te(),h=I();typeof l.willOpen=="function"&&l.willOpen(h);const w=window.getComputedStyle(document.body).overflowY;la(d,h,l),setTimeout(()=>{ra(d,h)},Fi),Z()&&(aa(d,l.scrollbarPadding,w),Pr()),!Ve()&&!W.previousActiveElement&&(W.previousActiveElement=document.activeElement),typeof l.didOpen=="function"&&setTimeout(()=>l.didOpen(h)),xe(d,v["no-transition"])},Ui=l=>{const d=I();if(l.target!==d)return;const h=te();d.removeEventListener(kt,Ui),h.style.overflowY="auto"},ra=(l,d)=>{kt&&ze(d)?(l.style.overflowY="hidden",d.addEventListener(kt,Ui)):l.style.overflowY="auto"},aa=(l,d,h)=>{Xr(),d&&h!=="hidden"&&Yr(),setTimeout(()=>{l.scrollTop=0})},la=(l,d,h)=>{se(l,h.showClass.backdrop),d.style.setProperty("opacity","0","important"),De(d,"grid"),setTimeout(()=>{se(d,h.showClass.popup),d.style.removeProperty("opacity")},Fi),se([document.documentElement,document.body],v.shown),h.heightAuto&&h.backdrop&&!h.toast&&se([document.documentElement,document.body],v["height-auto"])},vn=l=>{let d=I();d||new to,d=I();const h=we();Ve()?Ze(U()):da(d,l),De(h),d.setAttribute("data-loading",!0),d.setAttribute("aria-busy",!0),d.focus()},da=(l,d)=>{const h=m(),w=we();!d&&re(P())&&(d=P()),De(h),d&&(Ze(d),w.setAttribute("data-button-to-replace",d.className)),w.parentNode.insertBefore(w,d),se([l,h],v.loading)},ua=(l,d)=>{d.input==="select"||d.input==="radio"?ga(l,d):["text","email","number","tel","textarea"].includes(d.input)&&(A(d.inputValue)||E(d.inputValue))&&(vn(P()),ma(l,d))},ca=(l,d)=>{const h=l.getInput();if(!h)return null;switch(d.input){case"checkbox":return pa(h);case"radio":return ha(h);case"file":return fa(h);default:return d.inputAutoTrim?h.value.trim():h.value}},pa=l=>l.checked?1:0,ha=l=>l.checked?l.value:null,fa=l=>l.files.length?l.getAttribute("multiple")!==null?l.files:l.files[0]:null,ga=(l,d)=>{const h=I(),w=j=>va[d.input](h,Po(j),d);A(d.inputOptions)||E(d.inputOptions)?(vn(P()),x(d.inputOptions).then(j=>{l.hideLoading(),w(j)})):typeof d.inputOptions=="object"?w(d.inputOptions):u("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof d.inputOptions))},ma=(l,d)=>{const h=l.getInput();Ze(h),x(d.inputValue).then(w=>{h.value=d.input==="number"?parseFloat(w)||0:"".concat(w),De(h),h.focus(),l.hideLoading()}).catch(w=>{u("Error in inputValue promise: ".concat(w)),h.value="",De(h),h.focus(),l.hideLoading()})},va={select:(l,d,h)=>{const w=We(l,v.select),j=(de,et,xt)=>{const mt=document.createElement("option");mt.value=xt,D(mt,et),mt.selected=zi(xt,h.inputValue),de.appendChild(mt)};d.forEach(de=>{const et=de[0],xt=de[1];if(Array.isArray(xt)){const mt=document.createElement("optgroup");mt.label=et,mt.disabled=!1,w.appendChild(mt),xt.forEach(bn=>j(mt,bn[1],bn[0]))}else j(w,xt,et)}),w.focus()},radio:(l,d,h)=>{const w=We(l,v.radio);d.forEach(de=>{const et=de[0],xt=de[1],mt=document.createElement("input"),bn=document.createElement("label");mt.type="radio",mt.name=v.radio,mt.value=et,zi(et,h.inputValue)&&(mt.checked=!0);const zo=document.createElement("span");D(zo,xt),zo.className=v.label,bn.appendChild(mt),bn.appendChild(zo),w.appendChild(bn)});const j=w.querySelectorAll("input");j.length&&j[0].focus()}},Po=l=>{const d=[];return typeof Map<"u"&&l instanceof Map?l.forEach((h,w)=>{let j=h;typeof j=="object"&&(j=Po(j)),d.push([w,j])}):Object.keys(l).forEach(h=>{let w=l[h];typeof w=="object"&&(w=Po(w)),d.push([h,w])}),d},zi=(l,d)=>d&&d.toString()===l.toString();function Wi(){const l=Be.innerParams.get(this);if(!l)return;const d=Be.domCache.get(this);Ze(d.loader),Ve()?l.icon&&De(U()):ya(d),xe([d.popup,d.actions],v.loading),d.popup.removeAttribute("aria-busy"),d.popup.removeAttribute("data-loading"),d.confirmButton.disabled=!1,d.denyButton.disabled=!1,d.cancelButton.disabled=!1}const ya=l=>{const d=l.popup.getElementsByClassName(l.loader.getAttribute("data-button-to-replace"));d.length?De(d[0],"inline-block"):Ce()&&Ze(l.actions)};function ba(l){const d=Be.innerParams.get(l||this),h=Be.domCache.get(l||this);return h?je(h.popup,d.input):null}var Dn={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};function Gi(l,d,h,w){Ve()?qi(l,w):(Lt(h).then(()=>qi(l,w)),W.keydownTarget.removeEventListener("keydown",W.keydownHandler,{capture:W.keydownListenerCapture}),W.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(d.setAttribute("style","display:none !important"),d.removeAttribute("class"),d.innerHTML=""):d.remove(),Z()&&(Jr(),ia(),Ni()),wa()}function wa(){xe([document.documentElement,document.body],[v.shown,v["height-auto"],v["no-backdrop"],v["toast-shown"]])}function Qn(l){l=ka(l);const d=Dn.swalPromiseResolve.get(this),h=$a(this);this.isAwaitingPromise()?l.isDismissed||(_n(this),d(l)):h&&d(l)}function Ca(){return!!Be.awaitingPromise.get(this)}const $a=l=>{const d=I();if(!d)return!1;const h=Be.innerParams.get(l);if(!h||ce(d,h.hideClass.popup))return!1;xe(d,h.showClass.popup),se(d,h.hideClass.popup);const w=te();return xe(w,h.showClass.backdrop),se(w,h.hideClass.backdrop),xa(l,d,h),!0};function La(l){const d=Dn.swalPromiseReject.get(this);_n(this),d&&d(l)}const _n=l=>{l.isAwaitingPromise()&&(Be.awaitingPromise.delete(l),Be.innerParams.get(l)||l._destroy())},ka=l=>typeof l>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},l),xa=(l,d,h)=>{const w=te(),j=kt&&ze(d);typeof h.willClose=="function"&&h.willClose(d),j?Ha(l,d,w,h.returnFocus,h.didClose):Gi(l,w,h.returnFocus,h.didClose)},Ha=(l,d,h,w,j)=>{W.swalCloseEventFinishedCallback=Gi.bind(null,l,h,w,j),d.addEventListener(kt,function(de){de.target===d&&(W.swalCloseEventFinishedCallback(),delete W.swalCloseEventFinishedCallback)})},qi=(l,d)=>{setTimeout(()=>{typeof d=="function"&&d.bind(l.params)(),l._destroy()})};function Zi(l,d,h){const w=Be.domCache.get(l);d.forEach(j=>{w[j].disabled=h})}function Ki(l,d){if(!l)return!1;if(l.type==="radio"){const h=l.parentNode.parentNode.querySelectorAll("input");for(let w=0;w<h.length;w++)h[w].disabled=d}else l.disabled=d}function Aa(){Zi(this,["confirmButton","denyButton","cancelButton"],!1)}function Va(){Zi(this,["confirmButton","denyButton","cancelButton"],!0)}function Ma(){return Ki(this.getInput(),!1)}function Sa(){return Ki(this.getInput(),!0)}function Ta(l){const d=Be.domCache.get(this),h=Be.innerParams.get(this);D(d.validationMessage,l),d.validationMessage.className=v["validation-message"],h.customClass&&h.customClass.validationMessage&&se(d.validationMessage,h.customClass.validationMessage),De(d.validationMessage);const w=this.getInput();w&&(w.setAttribute("aria-invalid",!0),w.setAttribute("aria-describedby",v["validation-message"]),Ue(w),se(w,v.inputerror))}function Ea(){const l=Be.domCache.get(this);l.validationMessage&&Ze(l.validationMessage);const d=this.getInput();d&&(d.removeAttribute("aria-invalid"),d.removeAttribute("aria-describedby"),xe(d,v.inputerror))}function Ba(){return Be.domCache.get(this).progressSteps}function Ia(l){const d=I(),h=Be.innerParams.get(this);if(!d||ce(d,h.hideClass.popup))return a("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const w=Da(l),j=Object.assign({},h,w);Oi(this,j),Be.innerParams.set(this,j),Object.defineProperties(this,{params:{value:Object.assign({},this.params,l),writable:!1,enumerable:!0}})}const Da=l=>{const d={};return Object.keys(l).forEach(h=>{pe(h)?d[h]=l[h]:a('Invalid parameter to update: "'.concat(h,`". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js

If you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md`))}),d};function _a(){const l=Be.domCache.get(this),d=Be.innerParams.get(this);if(!d){Yi(this);return}l.popup&&W.swalCloseEventFinishedCallback&&(W.swalCloseEventFinishedCallback(),delete W.swalCloseEventFinishedCallback),W.deferDisposalTimer&&(clearTimeout(W.deferDisposalTimer),delete W.deferDisposalTimer),typeof d.didDestroy=="function"&&d.didDestroy(),Pa(this)}const Pa=l=>{Yi(l),delete l.params,delete W.keydownHandler,delete W.keydownTarget,delete W.currentInstance},Yi=l=>{l.isAwaitingPromise()?(Oo(Be,l),Be.awaitingPromise.set(l,!0)):(Oo(Dn,l),Oo(Be,l))},Oo=(l,d)=>{for(const h in l)l[h].delete(d)};var Ji=Object.freeze({hideLoading:Wi,disableLoading:Wi,getInput:ba,close:Qn,isAwaitingPromise:Ca,rejectPromise:La,handleAwaitingPromise:_n,closePopup:Qn,closeModal:Qn,closeToast:Qn,enableButtons:Aa,disableButtons:Va,enableInput:Ma,disableInput:Sa,showValidationMessage:Ta,resetValidationMessage:Ea,getProgressSteps:Ba,update:Ia,_destroy:_a});const Oa=l=>{const d=Be.innerParams.get(l);l.disableButtons(),d.input?Xi(l,"confirm"):Ro(l,!0)},Na=l=>{const d=Be.innerParams.get(l);l.disableButtons(),d.returnInputValueOnDeny?Xi(l,"deny"):No(l,!1)},Ra=(l,d)=>{l.disableButtons(),d(mn.cancel)},Xi=(l,d)=>{const h=Be.innerParams.get(l);if(!h.input)return u('The "input" parameter is needed to be set when using returnInputValueOn'.concat(r(d)));const w=ca(l,h);h.inputValidator?ja(l,w,d):l.getInput().checkValidity()?d==="deny"?No(l,w):Ro(l,w):(l.enableButtons(),l.showValidationMessage(h.validationMessage))},ja=(l,d,h)=>{const w=Be.innerParams.get(l);l.disableInput(),Promise.resolve().then(()=>x(w.inputValidator(d,w.validationMessage))).then(j=>{l.enableButtons(),l.enableInput(),j?l.showValidationMessage(j):h==="deny"?No(l,d):Ro(l,d)})},No=(l,d)=>{const h=Be.innerParams.get(l||void 0);h.showLoaderOnDeny&&vn(G()),h.preDeny?(Be.awaitingPromise.set(l||void 0,!0),Promise.resolve().then(()=>x(h.preDeny(d,h.validationMessage))).then(w=>{w===!1?(l.hideLoading(),_n(l)):l.closePopup({isDenied:!0,value:typeof w>"u"?d:w})}).catch(w=>es(l||void 0,w))):l.closePopup({isDenied:!0,value:d})},Qi=(l,d)=>{l.closePopup({isConfirmed:!0,value:d})},es=(l,d)=>{l.rejectPromise(d)},Ro=(l,d)=>{const h=Be.innerParams.get(l||void 0);h.showLoaderOnConfirm&&vn(),h.preConfirm?(l.resetValidationMessage(),Be.awaitingPromise.set(l||void 0,!0),Promise.resolve().then(()=>x(h.preConfirm(d,h.validationMessage))).then(w=>{re(R())||w===!1?(l.hideLoading(),_n(l)):Qi(l,typeof w>"u"?d:w)}).catch(w=>es(l||void 0,w))):Qi(l,d)},Fa=(l,d,h)=>{Be.innerParams.get(l).toast?Ua(l,d,h):(Wa(d),Ga(d),qa(l,d,h))},Ua=(l,d,h)=>{d.popup.onclick=()=>{const w=Be.innerParams.get(l);w&&(za(w)||w.timer||w.input)||h(mn.close)}},za=l=>l.showConfirmButton||l.showDenyButton||l.showCancelButton||l.showCloseButton;let eo=!1;const Wa=l=>{l.popup.onmousedown=()=>{l.container.onmouseup=function(d){l.container.onmouseup=void 0,d.target===l.container&&(eo=!0)}}},Ga=l=>{l.container.onmousedown=()=>{l.popup.onmouseup=function(d){l.popup.onmouseup=void 0,(d.target===l.popup||l.popup.contains(d.target))&&(eo=!0)}}},qa=(l,d,h)=>{d.container.onclick=w=>{const j=Be.innerParams.get(l);if(eo){eo=!1;return}w.target===d.container&&C(j.allowOutsideClick)&&h(mn.backdrop)}},Za=()=>re(I()),ts=()=>P()&&P().click(),Ka=()=>G()&&G().click(),Ya=()=>L()&&L().click(),Ja=(l,d,h,w)=>{d.keydownTarget&&d.keydownHandlerAdded&&(d.keydownTarget.removeEventListener("keydown",d.keydownHandler,{capture:d.keydownListenerCapture}),d.keydownHandlerAdded=!1),h.toast||(d.keydownHandler=j=>Qa(l,j,w),d.keydownTarget=h.keydownListenerCapture?window:I(),d.keydownListenerCapture=h.keydownListenerCapture,d.keydownTarget.addEventListener("keydown",d.keydownHandler,{capture:d.keydownListenerCapture}),d.keydownHandlerAdded=!0)},jo=(l,d,h)=>{const w=J();if(w.length)return d=d+h,d===w.length?d=0:d===-1&&(d=w.length-1),w[d].focus();I().focus()},ns=["ArrowRight","ArrowDown"],Xa=["ArrowLeft","ArrowUp"],Qa=(l,d,h)=>{const w=Be.innerParams.get(l);w&&(d.isComposing||d.keyCode===229||(w.stopKeydownPropagation&&d.stopPropagation(),d.key==="Enter"?el(l,d,w):d.key==="Tab"?tl(d,w):[...ns,...Xa].includes(d.key)?nl(d.key):d.key==="Escape"&&ol(d,w,h)))},el=(l,d,h)=>{if(C(h.allowEnterKey)&&d.target&&l.getInput()&&d.target.outerHTML===l.getInput().outerHTML){if(["textarea","file"].includes(h.input))return;ts(),d.preventDefault()}},tl=(l,d)=>{const h=l.target,w=J();let j=-1;for(let de=0;de<w.length;de++)if(h===w[de]){j=de;break}l.shiftKey?jo(d,j,-1):jo(d,j,1),l.stopPropagation(),l.preventDefault()},nl=l=>{const d=P(),h=G(),w=L();if(![d,h,w].includes(document.activeElement))return;const j=ns.includes(l)?"nextElementSibling":"previousElementSibling";let de=document.activeElement;for(let et=0;et<m().children.length;et++){if(de=de[j],!de)return;if(re(de)&&de instanceof HTMLButtonElement)break}de instanceof HTMLButtonElement&&de.focus()},ol=(l,d,h)=>{C(d.allowEscapeKey)&&(l.preventDefault(),h(mn.esc))},il=l=>typeof l=="object"&&l.jquery,os=l=>l instanceof Element||il(l),sl=l=>{const d={};return typeof l[0]=="object"&&!os(l[0])?Object.assign(d,l[0]):["title","html","icon"].forEach((h,w)=>{const j=l[w];typeof j=="string"||os(j)?d[h]=j:j!==void 0&&u("Unexpected type of ".concat(h,'! Expected "string" or "Element", got ').concat(typeof j))}),d};function rl(){const l=this;for(var d=arguments.length,h=new Array(d),w=0;w<d;w++)h[w]=arguments[w];return new l(...h)}function al(l){class d extends this{_main(w,j){return super._main(w,Object.assign({},l,j))}}return d}const ll=()=>W.timeout&&W.timeout.getTimerLeft(),is=()=>{if(W.timeout)return Ge(),W.timeout.stop()},ss=()=>{if(W.timeout){const l=W.timeout.start();return gt(l),l}},dl=()=>{const l=W.timeout;return l&&(l.running?is():ss())},ul=l=>{if(W.timeout){const d=W.timeout.increase(l);return gt(d,!0),d}},cl=()=>W.timeout&&W.timeout.isRunning();let rs=!1;const Fo={};function pl(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Fo[l]=this,rs||(document.body.addEventListener("click",hl),rs=!0)}const hl=l=>{for(let d=l.target;d&&d!==document;d=d.parentNode)for(const h in Fo){const w=d.getAttribute(h);if(w){Fo[h].fire({template:w});return}}};var fl=Object.freeze({isValidParameter:le,isUpdatableParameter:pe,isDeprecatedParameter:ee,argsToParams:sl,isVisible:Za,clickConfirm:ts,clickDeny:Ka,clickCancel:Ya,getContainer:te,getPopup:I,getTitle:ne,getHtmlContainer:$e,getImage:Me,getIcon:U,getInputLabel:be,getCloseButton:T,getActions:m,getConfirmButton:P,getDenyButton:G,getCancelButton:L,getLoader:we,getFooter:H,getTimerProgressBar:q,getFocusableElements:J,getValidationMessage:R,isLoading:X,fire:rl,mixin:al,showLoading:vn,enableLoading:vn,getTimerLeft:ll,stopTimer:is,resumeTimer:ss,toggleTimer:dl,increaseTimer:ul,isTimerRunning:cl,bindClickHandler:pl});let Uo;class yn{constructor(){if(typeof window>"u")return;Uo=this;for(var d=arguments.length,h=new Array(d),w=0;w<d;w++)h[w]=arguments[w];const j=Object.freeze(this.constructor.argsToParams(h));Object.defineProperties(this,{params:{value:j,writable:!1,enumerable:!0,configurable:!0}});const de=this._main(this.params);Be.promise.set(this,de)}_main(d){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};$(Object.assign({},h,d)),W.currentInstance&&(W.currentInstance._destroy(),Z()&&Ni()),W.currentInstance=this;const w=ml(d,h);Zr(w),Object.freeze(w),W.timeout&&(W.timeout.stop(),delete W.timeout),clearTimeout(W.restoreFocusTimeout);const j=vl(this);return Oi(this,w),Be.innerParams.set(this,w),gl(this,j,w)}then(d){return Be.promise.get(this).then(d)}finally(d){return Be.promise.get(this).finally(d)}}const gl=(l,d,h)=>new Promise((w,j)=>{const de=et=>{l.closePopup({isDismissed:!0,dismiss:et})};Dn.swalPromiseResolve.set(l,w),Dn.swalPromiseReject.set(l,j),d.confirmButton.onclick=()=>Oa(l),d.denyButton.onclick=()=>Na(l),d.cancelButton.onclick=()=>Ra(l,de),d.closeButton.onclick=()=>de(mn.close),Fa(l,d,de),Ja(l,W,h,de),ua(l,h),sa(h),yl(W,h,de),bl(d,h),setTimeout(()=>{d.container.scrollTop=0})}),ml=(l,d)=>{const h=Or(l),w=Object.assign({},O,d,h,l);return w.showClass=Object.assign({},O.showClass,w.showClass),w.hideClass=Object.assign({},O.hideClass,w.hideClass),w},vl=l=>{const d={popup:I(),container:te(),actions:m(),confirmButton:P(),denyButton:G(),cancelButton:L(),loader:we(),closeButton:T(),validationMessage:R(),progressSteps:ge()};return Be.domCache.set(l,d),d},yl=(l,d,h)=>{const w=q();Ze(w),d.timer&&(l.timeout=new Kr(()=>{h("timer"),delete l.timeout},d.timer),d.timerProgressBar&&(De(w),F(w,d,"timerProgressBar"),setTimeout(()=>{l.timeout&&l.timeout.running&&gt(d.timer)})))},bl=(l,d)=>{if(!d.toast){if(!C(d.allowEnterKey))return Cl();wl(l,d)||jo(d,-1,1)}},wl=(l,d)=>d.focusDeny&&re(l.denyButton)?(l.denyButton.focus(),!0):d.focusCancel&&re(l.cancelButton)?(l.cancelButton.focus(),!0):d.focusConfirm&&re(l.confirmButton)?(l.confirmButton.focus(),!0):!1,Cl=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Object.assign(yn.prototype,Ji),Object.assign(yn,fl),Object.keys(Ji).forEach(l=>{yn[l]=function(){if(Uo)return Uo[l](...arguments)}}),yn.DismissReason=mn,yn.version="11.4.4";const to=yn;return to.default=to,to}),typeof Yt<"u"&&Yt.Sweetalert2&&(Yt.swal=Yt.sweetAlert=Yt.Swal=Yt.SweetAlert=Yt.Sweetalert2)})(lr);var nb=lr.exports;const uo=tb(nb);class ob{static install(e,n={}){var o;const r=uo.mixin(n),s=function(...a){return r.fire.call(r,...a)};Object.assign(s,uo),Object.keys(uo).filter(a=>typeof uo[a]=="function").forEach(a=>{s[a]=r[a].bind(r)}),(o=e.config)!=null&&o.globalProperties&&!e.config.globalProperties.$swal?(e.config.globalProperties.$swal=s,e.provide("$swal",s)):Object.prototype.hasOwnProperty.call(e,"$swal")||(e.prototype.$swal=s,e.swal=s)}}_l(eb).component("vue-draggable-resizable",Is).use(ob).mount("#app");
